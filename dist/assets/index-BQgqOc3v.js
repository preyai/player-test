(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))g(v);new MutationObserver(v=>{for(const x of v)if(x.type==="childList")for(const A of x.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&g(A)}).observe(document,{childList:!0,subtree:!0});function p(v){const x={};return v.integrity&&(x.integrity=v.integrity),v.referrerPolicy&&(x.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?x.credentials="include":v.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function g(v){if(v.ep)return;v.ep=!0;const x=p(v);fetch(v.href,x)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xp(a,f){const p=new Set(a.split(","));return f?g=>p.has(g.toLowerCase()):g=>p.has(g)}const Nt={},xs=[],yr=()=>{},$k=()=>!1,Mc=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&(a.charCodeAt(2)>122||a.charCodeAt(2)<97),Sp=a=>a.startsWith("onUpdate:"),yn=Object.assign,Ep=(a,f)=>{const p=a.indexOf(f);p>-1&&a.splice(p,1)},Gk=Object.prototype.hasOwnProperty,ct=(a,f)=>Gk.call(a,f),We=Array.isArray,Vu=a=>Rc(a)==="[object Map]",Wk=a=>Rc(a)==="[object Set]",Ye=a=>typeof a=="function",cn=a=>typeof a=="string",kc=a=>typeof a=="symbol",Xt=a=>a!==null&&typeof a=="object",jT=a=>(Xt(a)||Ye(a))&&Ye(a.then)&&Ye(a.catch),qk=Object.prototype.toString,Rc=a=>qk.call(a),Xk=a=>Rc(a).slice(8,-1),Yk=a=>Rc(a)==="[object Object]",Ap=a=>cn(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,Hu=xp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_c=a=>{const f=Object.create(null);return p=>f[p]||(f[p]=a(p))},Jk=/-(\w)/g,As=_c(a=>a.replace(Jk,(f,p)=>p?p.toUpperCase():"")),Qk=/\B([A-Z])/g,ks=_c(a=>a.replace(Qk,"-$1").toLowerCase()),bT=_c(a=>a.charAt(0).toUpperCase()+a.slice(1)),Kd=_c(a=>a?`on${bT(a)}`:""),bi=(a,f)=>!Object.is(a,f),hc=(a,f)=>{for(let p=0;p<a.length;p++)a[p](f)},xc=(a,f,p)=>{Object.defineProperty(a,f,{configurable:!0,enumerable:!1,value:p})},rp=a=>{const f=parseFloat(a);return isNaN(f)?a:f};let Gw;const UT=()=>Gw||(Gw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ip(a){if(We(a)){const f={};for(let p=0;p<a.length;p++){const g=a[p],v=cn(g)?n4(g):Ip(g);if(v)for(const x in v)f[x]=v[x]}return f}else if(cn(a)||Xt(a))return a}const Zk=/;(?![^(]*\))/g,e4=/:([^]+)/,t4=/\/\*[^]*?\*\//g;function n4(a){const f={};return a.replace(t4,"").split(Zk).forEach(p=>{if(p){const g=p.split(e4);g.length>1&&(f[g[0].trim()]=g[1].trim())}}),f}function Cp(a){let f="";if(cn(a))f=a;else if(We(a))for(let p=0;p<a.length;p++){const g=Cp(a[p]);g&&(f+=g+" ")}else if(Xt(a))for(const p in a)a[p]&&(f+=p+" ");return f.trim()}const r4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",i4=xp(r4);function FT(a){return!!a||a===""}/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;class o4{constructor(f=!1){this.detached=f,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Rr,!f&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}get active(){return this._active}run(f){if(this._active){const p=Rr;try{return Rr=this,f()}finally{Rr=p}}}on(){Rr=this}off(){Rr=this.parent}stop(f){if(this._active){let p,g;for(p=0,g=this.effects.length;p<g;p++)this.effects[p].stop();for(p=0,g=this.cleanups.length;p<g;p++)this.cleanups[p]();if(this.scopes)for(p=0,g=this.scopes.length;p<g;p++)this.scopes[p].stop(!0);if(!this.detached&&this.parent&&!f){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.parent=void 0,this._active=!1}}}function s4(a,f=Rr){f&&f.active&&f.effects.push(a)}function u4(){return Rr}let po;class Mp{constructor(f,p,g,v){this.fn=f,this.trigger=p,this.scheduler=g,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,s4(this,v)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,mo();for(let f=0;f<this._depsLength;f++){const p=this.deps[f];if(p.computed&&(a4(p.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),vo()}return this._dirtyLevel>=4}set dirty(f){this._dirtyLevel=f?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let f=Li,p=po;try{return Li=!0,po=this,this._runnings++,Ww(this),this.fn()}finally{qw(this),this._runnings--,po=p,Li=f}}stop(){var f;this.active&&(Ww(this),qw(this),(f=this.onStop)==null||f.call(this),this.active=!1)}}function a4(a){return a.value}function Ww(a){a._trackId++,a._depsLength=0}function qw(a){if(a.deps.length>a._depsLength){for(let f=a._depsLength;f<a.deps.length;f++)BT(a.deps[f],a);a.deps.length=a._depsLength}}function BT(a,f){const p=a.get(f);p!==void 0&&f._trackId!==p&&(a.delete(f),a.size===0&&a.cleanup())}let Li=!0,ip=0;const VT=[];function mo(){VT.push(Li),Li=!1}function vo(){const a=VT.pop();Li=a===void 0?!0:a}function kp(){ip++}function Rp(){for(ip--;!ip&&op.length;)op.shift()()}function HT(a,f,p){if(f.get(a)!==a._trackId){f.set(a,a._trackId);const g=a.deps[a._depsLength];g!==f?(g&&BT(g,a),a.deps[a._depsLength++]=f):a._depsLength++}}const op=[];function KT(a,f,p){kp();for(const g of a.keys()){let v;g._dirtyLevel<f&&(v??(v=a.get(g)===g._trackId))&&(g._shouldSchedule||(g._shouldSchedule=g._dirtyLevel===0),g._dirtyLevel=f),g._shouldSchedule&&(v??(v=a.get(g)===g._trackId))&&(g.trigger(),(!g._runnings||g.allowRecurse)&&g._dirtyLevel!==2&&(g._shouldSchedule=!1,g.scheduler&&op.push(g.scheduler)))}Rp()}const zT=(a,f)=>{const p=new Map;return p.cleanup=a,p.computed=f,p},sp=new WeakMap,go=Symbol(""),up=Symbol("");function Kn(a,f,p){if(Li&&po){let g=sp.get(a);g||sp.set(a,g=new Map);let v=g.get(p);v||g.set(p,v=zT(()=>g.delete(p))),HT(po,v)}}function hi(a,f,p,g,v,x){const A=sp.get(a);if(!A)return;let d=[];if(f==="clear")d=[...A.values()];else if(p==="length"&&We(a)){const N=Number(g);A.forEach((B,V)=>{(V==="length"||!kc(V)&&V>=N)&&d.push(B)})}else switch(p!==void 0&&d.push(A.get(p)),f){case"add":We(a)?Ap(p)&&d.push(A.get("length")):(d.push(A.get(go)),Vu(a)&&d.push(A.get(up)));break;case"delete":We(a)||(d.push(A.get(go)),Vu(a)&&d.push(A.get(up)));break;case"set":Vu(a)&&d.push(A.get(go));break}kp();for(const N of d)N&&KT(N,4);Rp()}const l4=xp("__proto__,__v_isRef,__isVue"),$T=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(kc)),Xw=c4();function c4(){const a={};return["includes","indexOf","lastIndexOf"].forEach(f=>{a[f]=function(...p){const g=wt(this);for(let x=0,A=this.length;x<A;x++)Kn(g,"get",x+"");const v=g[f](...p);return v===-1||v===!1?g[f](...p.map(wt)):v}}),["push","pop","shift","unshift","splice"].forEach(f=>{a[f]=function(...p){mo(),kp();const g=wt(this)[f].apply(this,p);return Rp(),vo(),g}}),a}function f4(a){const f=wt(this);return Kn(f,"has",a),f.hasOwnProperty(a)}class GT{constructor(f=!1,p=!1){this._isReadonly=f,this._isShallow=p}get(f,p,g){const v=this._isReadonly,x=this._isShallow;if(p==="__v_isReactive")return!v;if(p==="__v_isReadonly")return v;if(p==="__v_isShallow")return x;if(p==="__v_raw")return g===(v?x?A4:YT:x?XT:qT).get(f)||Object.getPrototypeOf(f)===Object.getPrototypeOf(g)?f:void 0;const A=We(f);if(!v){if(A&&ct(Xw,p))return Reflect.get(Xw,p,g);if(p==="hasOwnProperty")return f4}const d=Reflect.get(f,p,g);return(kc(p)?$T.has(p):l4(p))||(v||Kn(f,"get",p),x)?d:zn(d)?A&&Ap(p)?d:d.value:Xt(d)?v?JT(d):Dp(d):d}}class WT extends GT{constructor(f=!1){super(!1,f)}set(f,p,g,v){let x=f[p];if(!this._isShallow){const N=Is(x);if(!Sc(g)&&!Is(g)&&(x=wt(x),g=wt(g)),!We(f)&&zn(x)&&!zn(g))return N?!1:(x.value=g,!0)}const A=We(f)&&Ap(p)?Number(p)<f.length:ct(f,p),d=Reflect.set(f,p,g,v);return f===wt(v)&&(A?bi(g,x)&&hi(f,"set",p,g):hi(f,"add",p,g)),d}deleteProperty(f,p){const g=ct(f,p);f[p];const v=Reflect.deleteProperty(f,p);return v&&g&&hi(f,"delete",p,void 0),v}has(f,p){const g=Reflect.has(f,p);return(!kc(p)||!$T.has(p))&&Kn(f,"has",p),g}ownKeys(f){return Kn(f,"iterate",We(f)?"length":go),Reflect.ownKeys(f)}}class h4 extends GT{constructor(f=!1){super(!0,f)}set(f,p){return!0}deleteProperty(f,p){return!0}}const d4=new WT,p4=new h4,g4=new WT(!0),_p=a=>a,Pc=a=>Reflect.getPrototypeOf(a);function sc(a,f,p=!1,g=!1){a=a.__v_raw;const v=wt(a),x=wt(f);p||(bi(f,x)&&Kn(v,"get",f),Kn(v,"get",x));const{has:A}=Pc(v),d=g?_p:p?Lp:Wu;if(A.call(v,f))return d(a.get(f));if(A.call(v,x))return d(a.get(x));a!==v&&a.get(f)}function uc(a,f=!1){const p=this.__v_raw,g=wt(p),v=wt(a);return f||(bi(a,v)&&Kn(g,"has",a),Kn(g,"has",v)),a===v?p.has(a):p.has(a)||p.has(v)}function ac(a,f=!1){return a=a.__v_raw,!f&&Kn(wt(a),"iterate",go),Reflect.get(a,"size",a)}function Yw(a){a=wt(a);const f=wt(this);return Pc(f).has.call(f,a)||(f.add(a),hi(f,"add",a,a)),this}function Jw(a,f){f=wt(f);const p=wt(this),{has:g,get:v}=Pc(p);let x=g.call(p,a);x||(a=wt(a),x=g.call(p,a));const A=v.call(p,a);return p.set(a,f),x?bi(f,A)&&hi(p,"set",a,f):hi(p,"add",a,f),this}function Qw(a){const f=wt(this),{has:p,get:g}=Pc(f);let v=p.call(f,a);v||(a=wt(a),v=p.call(f,a)),g&&g.call(f,a);const x=f.delete(a);return v&&hi(f,"delete",a,void 0),x}function Zw(){const a=wt(this),f=a.size!==0,p=a.clear();return f&&hi(a,"clear",void 0,void 0),p}function lc(a,f){return function(g,v){const x=this,A=x.__v_raw,d=wt(A),N=f?_p:a?Lp:Wu;return!a&&Kn(d,"iterate",go),A.forEach((B,V)=>g.call(v,N(B),N(V),x))}}function cc(a,f,p){return function(...g){const v=this.__v_raw,x=wt(v),A=Vu(x),d=a==="entries"||a===Symbol.iterator&&A,N=a==="keys"&&A,B=v[a](...g),V=p?_p:f?Lp:Wu;return!f&&Kn(x,"iterate",N?up:go),{next(){const{value:F,done:z}=B.next();return z?{value:F,done:z}:{value:d?[V(F[0]),V(F[1])]:V(F),done:z}},[Symbol.iterator](){return this}}}}function Ri(a){return function(...f){return a==="delete"?!1:a==="clear"?void 0:this}}function m4(){const a={get(x){return sc(this,x)},get size(){return ac(this)},has:uc,add:Yw,set:Jw,delete:Qw,clear:Zw,forEach:lc(!1,!1)},f={get(x){return sc(this,x,!1,!0)},get size(){return ac(this)},has:uc,add:Yw,set:Jw,delete:Qw,clear:Zw,forEach:lc(!1,!0)},p={get(x){return sc(this,x,!0)},get size(){return ac(this,!0)},has(x){return uc.call(this,x,!0)},add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear"),forEach:lc(!0,!1)},g={get(x){return sc(this,x,!0,!0)},get size(){return ac(this,!0)},has(x){return uc.call(this,x,!0)},add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear"),forEach:lc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{a[x]=cc(x,!1,!1),p[x]=cc(x,!0,!1),f[x]=cc(x,!1,!0),g[x]=cc(x,!0,!0)}),[a,p,f,g]}const[v4,y4,w4,T4]=m4();function Pp(a,f){const p=f?a?T4:w4:a?y4:v4;return(g,v,x)=>v==="__v_isReactive"?!a:v==="__v_isReadonly"?a:v==="__v_raw"?g:Reflect.get(ct(p,v)&&v in g?p:g,v,x)}const x4={get:Pp(!1,!1)},S4={get:Pp(!1,!0)},E4={get:Pp(!0,!1)},qT=new WeakMap,XT=new WeakMap,YT=new WeakMap,A4=new WeakMap;function I4(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function C4(a){return a.__v_skip||!Object.isExtensible(a)?0:I4(Xk(a))}function Dp(a){return Is(a)?a:Np(a,!1,d4,x4,qT)}function M4(a){return Np(a,!1,g4,S4,XT)}function JT(a){return Np(a,!0,p4,E4,YT)}function Np(a,f,p,g,v){if(!Xt(a)||a.__v_raw&&!(f&&a.__v_isReactive))return a;const x=v.get(a);if(x)return x;const A=C4(a);if(A===0)return a;const d=new Proxy(a,A===2?g:p);return v.set(a,d),d}function Ss(a){return Is(a)?Ss(a.__v_raw):!!(a&&a.__v_isReactive)}function Is(a){return!!(a&&a.__v_isReadonly)}function Sc(a){return!!(a&&a.__v_isShallow)}function QT(a){return Ss(a)||Is(a)}function wt(a){const f=a&&a.__v_raw;return f?wt(f):a}function ZT(a){return Object.isExtensible(a)&&xc(a,"__v_skip",!0),a}const Wu=a=>Xt(a)?Dp(a):a,Lp=a=>Xt(a)?JT(a):a;class ex{constructor(f,p,g,v){this.getter=f,this._setter=p,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Mp(()=>f(this._value),()=>dc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=g}get value(){const f=wt(this);return(!f._cacheable||f.effect.dirty)&&bi(f._value,f._value=f.effect.run())&&dc(f,4),tx(f),f.effect._dirtyLevel>=2&&dc(f,2),f._value}set value(f){this._setter(f)}get _dirty(){return this.effect.dirty}set _dirty(f){this.effect.dirty=f}}function k4(a,f,p=!1){let g,v;const x=Ye(a);return x?(g=a,v=yr):(g=a.get,v=a.set),new ex(g,v,x||!v,p)}function tx(a){var f;Li&&po&&(a=wt(a),HT(po,(f=a.dep)!=null?f:a.dep=zT(()=>a.dep=void 0,a instanceof ex?a:void 0)))}function dc(a,f=4,p){a=wt(a);const g=a.dep;g&&KT(g,f)}function zn(a){return!!(a&&a.__v_isRef===!0)}function bu(a){return R4(a,!1)}function R4(a,f){return zn(a)?a:new _4(a,f)}class _4{constructor(f,p){this.__v_isShallow=p,this.dep=void 0,this.__v_isRef=!0,this._rawValue=p?f:wt(f),this._value=p?f:Wu(f)}get value(){return tx(this),this._value}set value(f){const p=this.__v_isShallow||Sc(f)||Is(f);f=p?f:wt(f),bi(f,this._rawValue)&&(this._rawValue=f,this._value=p?f:Wu(f),dc(this,4))}}function P4(a){return zn(a)?a.value:a}const D4={get:(a,f,p)=>P4(Reflect.get(a,f,p)),set:(a,f,p,g)=>{const v=a[f];return zn(v)&&!zn(p)?(v.value=p,!0):Reflect.set(a,f,p,g)}};function nx(a){return Ss(a)?a:new Proxy(a,D4)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oi(a,f,p,g){try{return g?a(...g):a()}catch(v){Dc(v,f,p)}}function Pr(a,f,p,g){if(Ye(a)){const x=Oi(a,f,p,g);return x&&jT(x)&&x.catch(A=>{Dc(A,f,p)}),x}const v=[];for(let x=0;x<a.length;x++)v.push(Pr(a[x],f,p,g));return v}function Dc(a,f,p,g=!0){const v=f?f.vnode:null;if(f){let x=f.parent;const A=f.proxy,d=`https://vuejs.org/error-reference/#runtime-${p}`;for(;x;){const B=x.ec;if(B){for(let V=0;V<B.length;V++)if(B[V](a,A,d)===!1)return}x=x.parent}const N=f.appContext.config.errorHandler;if(N){Oi(N,null,10,[a,A,d]);return}}N4(a,p,v,g)}function N4(a,f,p,g=!0){console.error(a)}let qu=!1,ap=!1;const vn=[];let Vr=0;const Es=[];let Pi=null,fo=0;const rx=Promise.resolve();let Op=null;function L4(a){const f=Op||rx;return a?f.then(this?a.bind(this):a):f}function O4(a){let f=Vr+1,p=vn.length;for(;f<p;){const g=f+p>>>1,v=vn[g],x=Xu(v);x<a||x===a&&v.pre?f=g+1:p=g}return f}function jp(a){(!vn.length||!vn.includes(a,qu&&a.allowRecurse?Vr+1:Vr))&&(a.id==null?vn.push(a):vn.splice(O4(a.id),0,a),ix())}function ix(){!qu&&!ap&&(ap=!0,Op=rx.then(sx))}function j4(a){const f=vn.indexOf(a);f>Vr&&vn.splice(f,1)}function b4(a){We(a)?Es.push(...a):(!Pi||!Pi.includes(a,a.allowRecurse?fo+1:fo))&&Es.push(a),ix()}function eT(a,f,p=qu?Vr+1:0){for(;p<vn.length;p++){const g=vn[p];if(g&&g.pre){if(a&&g.id!==a.uid)continue;vn.splice(p,1),p--,g()}}}function ox(a){if(Es.length){const f=[...new Set(Es)].sort((p,g)=>Xu(p)-Xu(g));if(Es.length=0,Pi){Pi.push(...f);return}for(Pi=f,fo=0;fo<Pi.length;fo++)Pi[fo]();Pi=null,fo=0}}const Xu=a=>a.id==null?1/0:a.id,U4=(a,f)=>{const p=Xu(a)-Xu(f);if(p===0){if(a.pre&&!f.pre)return-1;if(f.pre&&!a.pre)return 1}return p};function sx(a){ap=!1,qu=!0,vn.sort(U4);try{for(Vr=0;Vr<vn.length;Vr++){const f=vn[Vr];f&&f.active!==!1&&Oi(f,null,14)}}finally{Vr=0,vn.length=0,ox(),qu=!1,Op=null,(vn.length||Es.length)&&sx()}}function F4(a,f,...p){if(a.isUnmounted)return;const g=a.vnode.props||Nt;let v=p;const x=f.startsWith("update:"),A=x&&f.slice(7);if(A&&A in g){const V=`${A==="modelValue"?"model":A}Modifiers`,{number:F,trim:z}=g[V]||Nt;z&&(v=p.map(te=>cn(te)?te.trim():te)),F&&(v=p.map(rp))}let d,N=g[d=Kd(f)]||g[d=Kd(As(f))];!N&&x&&(N=g[d=Kd(ks(f))]),N&&Pr(N,a,6,v);const B=g[d+"Once"];if(B){if(!a.emitted)a.emitted={};else if(a.emitted[d])return;a.emitted[d]=!0,Pr(B,a,6,v)}}function ux(a,f,p=!1){const g=f.emitsCache,v=g.get(a);if(v!==void 0)return v;const x=a.emits;let A={},d=!1;if(!Ye(a)){const N=B=>{const V=ux(B,f,!0);V&&(d=!0,yn(A,V))};!p&&f.mixins.length&&f.mixins.forEach(N),a.extends&&N(a.extends),a.mixins&&a.mixins.forEach(N)}return!x&&!d?(Xt(a)&&g.set(a,null),null):(We(x)?x.forEach(N=>A[N]=null):yn(A,x),Xt(a)&&g.set(a,A),A)}function Nc(a,f){return!a||!Mc(f)?!1:(f=f.slice(2).replace(/Once$/,""),ct(a,f[0].toLowerCase()+f.slice(1))||ct(a,ks(f))||ct(a,f))}let or=null,ax=null;function Ec(a){const f=or;return or=a,ax=a&&a.type.__scopeId||null,f}function B4(a,f=or,p){if(!f||a._n)return a;const g=(...v)=>{g._d&&cT(-1);const x=Ec(f);let A;try{A=a(...v)}finally{Ec(x),g._d&&cT(1)}return A};return g._n=!0,g._c=!0,g._d=!0,g}function zd(a){const{type:f,vnode:p,proxy:g,withProxy:v,props:x,propsOptions:[A],slots:d,attrs:N,emit:B,render:V,renderCache:F,data:z,setupState:te,ctx:w,inheritAttrs:U}=a;let Ne,Le;const tt=Ec(a);try{if(p.shapeFlag&4){const Ct=v||g,Ot=Ct;Ne=Br(V.call(Ot,Ct,F,x,te,z,w)),Le=N}else{const Ct=f;Ne=Br(Ct.length>1?Ct(x,{attrs:N,slots:d,emit:B}):Ct(x,null)),Le=f.props?N:V4(N)}}catch(Ct){Gu.length=0,Dc(Ct,a,1),Ne=ji(Yu)}let Ke=Ne;if(Le&&U!==!1){const Ct=Object.keys(Le),{shapeFlag:Ot}=Ke;Ct.length&&Ot&7&&(A&&Ct.some(Sp)&&(Le=H4(Le,A)),Ke=Cs(Ke,Le))}return p.dirs&&(Ke=Cs(Ke),Ke.dirs=Ke.dirs?Ke.dirs.concat(p.dirs):p.dirs),p.transition&&(Ke.transition=p.transition),Ne=Ke,Ec(tt),Ne}const V4=a=>{let f;for(const p in a)(p==="class"||p==="style"||Mc(p))&&((f||(f={}))[p]=a[p]);return f},H4=(a,f)=>{const p={};for(const g in a)(!Sp(g)||!(g.slice(9)in f))&&(p[g]=a[g]);return p};function K4(a,f,p){const{props:g,children:v,component:x}=a,{props:A,children:d,patchFlag:N}=f,B=x.emitsOptions;if(f.dirs||f.transition)return!0;if(p&&N>=0){if(N&1024)return!0;if(N&16)return g?tT(g,A,B):!!A;if(N&8){const V=f.dynamicProps;for(let F=0;F<V.length;F++){const z=V[F];if(A[z]!==g[z]&&!Nc(B,z))return!0}}}else return(v||d)&&(!d||!d.$stable)?!0:g===A?!1:g?A?tT(g,A,B):!0:!!A;return!1}function tT(a,f,p){const g=Object.keys(f);if(g.length!==Object.keys(a).length)return!0;for(let v=0;v<g.length;v++){const x=g[v];if(f[x]!==a[x]&&!Nc(p,x))return!0}return!1}function z4({vnode:a,parent:f},p){for(;f;){const g=f.subTree;if(g.suspense&&g.suspense.activeBranch===a&&(g.el=a.el),g===a)(a=f.vnode).el=p,f=f.parent;else break}}const $4=Symbol.for("v-ndc"),G4=a=>a.__isSuspense;function W4(a,f){f&&f.pendingBranch?We(a)?f.effects.push(...a):f.effects.push(a):b4(a)}const q4=Symbol.for("v-scx"),X4=()=>gc(q4),fc={};function Ku(a,f,p){return lx(a,f,p)}function lx(a,f,{immediate:p,deep:g,flush:v,once:x,onTrack:A,onTrigger:d}=Nt){if(f&&x){const Pe=f;f=(...Bt)=>{Pe(...Bt),Ot()}}const N=kn,B=Pe=>g===!0?Pe:ho(Pe,g===!1?1:void 0);let V,F=!1,z=!1;if(zn(a)?(V=()=>a.value,F=Sc(a)):Ss(a)?(V=()=>B(a),F=!0):We(a)?(z=!0,F=a.some(Pe=>Ss(Pe)||Sc(Pe)),V=()=>a.map(Pe=>{if(zn(Pe))return Pe.value;if(Ss(Pe))return B(Pe);if(Ye(Pe))return Oi(Pe,N,2)})):Ye(a)?f?V=()=>Oi(a,N,2):V=()=>(te&&te(),Pr(a,N,3,[w])):V=yr,f&&g){const Pe=V;V=()=>ho(Pe())}let te,w=Pe=>{te=Ke.onStop=()=>{Oi(Pe,N,4),te=Ke.onStop=void 0}},U;if(bc)if(w=yr,f?p&&Pr(f,N,3,[V(),z?[]:void 0,w]):V(),v==="sync"){const Pe=X4();U=Pe.__watcherHandles||(Pe.__watcherHandles=[])}else return yr;let Ne=z?new Array(a.length).fill(fc):fc;const Le=()=>{if(!(!Ke.active||!Ke.dirty))if(f){const Pe=Ke.run();(g||F||(z?Pe.some((Bt,en)=>bi(Bt,Ne[en])):bi(Pe,Ne)))&&(te&&te(),Pr(f,N,3,[Pe,Ne===fc?void 0:z&&Ne[0]===fc?[]:Ne,w]),Ne=Pe)}else Ke.run()};Le.allowRecurse=!!f;let tt;v==="sync"?tt=Le:v==="post"?tt=()=>Hn(Le,N&&N.suspense):(Le.pre=!0,N&&(Le.id=N.uid),tt=()=>jp(Le));const Ke=new Mp(V,yr,tt),Ct=u4(),Ot=()=>{Ke.stop(),Ct&&Ep(Ct.effects,Ke)};return f?p?Le():Ne=Ke.run():v==="post"?Hn(Ke.run.bind(Ke),N&&N.suspense):Ke.run(),U&&U.push(Ot),Ot}function Y4(a,f,p){const g=this.proxy,v=cn(a)?a.includes(".")?cx(g,a):()=>g[a]:a.bind(g,g);let x;Ye(f)?x=f:(x=f.handler,p=f);const A=Zu(this),d=lx(v,x.bind(g),p);return A(),d}function cx(a,f){const p=f.split(".");return()=>{let g=a;for(let v=0;v<p.length&&g;v++)g=g[p[v]];return g}}function ho(a,f,p=0,g){if(!Xt(a)||a.__v_skip)return a;if(f&&f>0){if(p>=f)return a;p++}if(g=g||new Set,g.has(a))return a;if(g.add(a),zn(a))ho(a.value,f,p,g);else if(We(a))for(let v=0;v<a.length;v++)ho(a[v],f,p,g);else if(Wk(a)||Vu(a))a.forEach(v=>{ho(v,f,p,g)});else if(Yk(a))for(const v in a)ho(a[v],f,p,g);return a}function $d(a,f){if(or===null)return a;const p=Uc(or)||or.proxy,g=a.dirs||(a.dirs=[]);for(let v=0;v<f.length;v++){let[x,A,d,N=Nt]=f[v];x&&(Ye(x)&&(x={mounted:x,updated:x}),x.deep&&ho(A),g.push({dir:x,instance:p,value:A,oldValue:void 0,arg:d,modifiers:N}))}return a}function lo(a,f,p,g){const v=a.dirs,x=f&&f.dirs;for(let A=0;A<v.length;A++){const d=v[A];x&&(d.oldValue=x[A].value);let N=d.dir[g];N&&(mo(),Pr(N,p,8,[a.el,d,a,f]),vo())}}const pc=a=>!!a.type.__asyncLoader,fx=a=>a.type.__isKeepAlive;function J4(a,f){hx(a,"a",f)}function Q4(a,f){hx(a,"da",f)}function hx(a,f,p=kn){const g=a.__wdc||(a.__wdc=()=>{let v=p;for(;v;){if(v.isDeactivated)return;v=v.parent}return a()});if(Lc(f,g,p),p){let v=p.parent;for(;v&&v.parent;)fx(v.parent.vnode)&&Z4(g,f,p,v),v=v.parent}}function Z4(a,f,p,g){const v=Lc(f,a,g,!0);px(()=>{Ep(g[f],v)},p)}function Lc(a,f,p=kn,g=!1){if(p){const v=p[a]||(p[a]=[]),x=f.__weh||(f.__weh=(...A)=>{if(p.isUnmounted)return;mo();const d=Zu(p),N=Pr(f,p,a,A);return d(),vo(),N});return g?v.unshift(x):v.push(x),x}}const pi=a=>(f,p=kn)=>(!bc||a==="sp")&&Lc(a,(...g)=>f(...g),p),eR=pi("bm"),dx=pi("m"),tR=pi("bu"),nR=pi("u"),rR=pi("bum"),px=pi("um"),iR=pi("sp"),oR=pi("rtg"),sR=pi("rtc");function uR(a,f=kn){Lc("ec",a,f)}const lp=a=>a?Mx(a)?Uc(a)||a.proxy:lp(a.parent):null,zu=yn(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>lp(a.parent),$root:a=>lp(a.root),$emit:a=>a.emit,$options:a=>bp(a),$forceUpdate:a=>a.f||(a.f=()=>{a.effect.dirty=!0,jp(a.update)}),$nextTick:a=>a.n||(a.n=L4.bind(a.proxy)),$watch:a=>Y4.bind(a)}),Gd=(a,f)=>a!==Nt&&!a.__isScriptSetup&&ct(a,f),aR={get({_:a},f){const{ctx:p,setupState:g,data:v,props:x,accessCache:A,type:d,appContext:N}=a;let B;if(f[0]!=="$"){const te=A[f];if(te!==void 0)switch(te){case 1:return g[f];case 2:return v[f];case 4:return p[f];case 3:return x[f]}else{if(Gd(g,f))return A[f]=1,g[f];if(v!==Nt&&ct(v,f))return A[f]=2,v[f];if((B=a.propsOptions[0])&&ct(B,f))return A[f]=3,x[f];if(p!==Nt&&ct(p,f))return A[f]=4,p[f];cp&&(A[f]=0)}}const V=zu[f];let F,z;if(V)return f==="$attrs"&&Kn(a,"get",f),V(a);if((F=d.__cssModules)&&(F=F[f]))return F;if(p!==Nt&&ct(p,f))return A[f]=4,p[f];if(z=N.config.globalProperties,ct(z,f))return z[f]},set({_:a},f,p){const{data:g,setupState:v,ctx:x}=a;return Gd(v,f)?(v[f]=p,!0):g!==Nt&&ct(g,f)?(g[f]=p,!0):ct(a.props,f)||f[0]==="$"&&f.slice(1)in a?!1:(x[f]=p,!0)},has({_:{data:a,setupState:f,accessCache:p,ctx:g,appContext:v,propsOptions:x}},A){let d;return!!p[A]||a!==Nt&&ct(a,A)||Gd(f,A)||(d=x[0])&&ct(d,A)||ct(g,A)||ct(zu,A)||ct(v.config.globalProperties,A)},defineProperty(a,f,p){return p.get!=null?a._.accessCache[f]=0:ct(p,"value")&&this.set(a,f,p.value,null),Reflect.defineProperty(a,f,p)}};function nT(a){return We(a)?a.reduce((f,p)=>(f[p]=null,f),{}):a}let cp=!0;function lR(a){const f=bp(a),p=a.proxy,g=a.ctx;cp=!1,f.beforeCreate&&rT(f.beforeCreate,a,"bc");const{data:v,computed:x,methods:A,watch:d,provide:N,inject:B,created:V,beforeMount:F,mounted:z,beforeUpdate:te,updated:w,activated:U,deactivated:Ne,beforeDestroy:Le,beforeUnmount:tt,destroyed:Ke,unmounted:Ct,render:Ot,renderTracked:Pe,renderTriggered:Bt,errorCaptured:en,serverPrefetch:sr,expose:I,inheritAttrs:J,components:Ce,directives:rn,filters:ae}=f;if(B&&cR(B,g,null),A)for(const ce in A){const ie=A[ce];Ye(ie)&&(g[ce]=ie.bind(p))}if(v){const ce=v.call(p,p);Xt(ce)&&(a.data=Dp(ce))}if(cp=!0,x)for(const ce in x){const ie=x[ce],Ue=Ye(ie)?ie.bind(p,p):Ye(ie.get)?ie.get.bind(p,p):yr,Fe=!Ye(ie)&&Ye(ie.set)?ie.set.bind(p):yr,qe=KR({get:Ue,set:Fe});Object.defineProperty(g,ce,{enumerable:!0,configurable:!0,get:()=>qe.value,set:it=>qe.value=it})}if(d)for(const ce in d)gx(d[ce],g,p,ce);if(N){const ce=Ye(N)?N.call(p):N;Reflect.ownKeys(ce).forEach(ie=>{mR(ie,ce[ie])})}V&&rT(V,a,"c");function re(ce,ie){We(ie)?ie.forEach(Ue=>ce(Ue.bind(p))):ie&&ce(ie.bind(p))}if(re(eR,F),re(dx,z),re(tR,te),re(nR,w),re(J4,U),re(Q4,Ne),re(uR,en),re(sR,Pe),re(oR,Bt),re(rR,tt),re(px,Ct),re(iR,sr),We(I))if(I.length){const ce=a.exposed||(a.exposed={});I.forEach(ie=>{Object.defineProperty(ce,ie,{get:()=>p[ie],set:Ue=>p[ie]=Ue})})}else a.exposed||(a.exposed={});Ot&&a.render===yr&&(a.render=Ot),J!=null&&(a.inheritAttrs=J),Ce&&(a.components=Ce),rn&&(a.directives=rn)}function cR(a,f,p=yr){We(a)&&(a=fp(a));for(const g in a){const v=a[g];let x;Xt(v)?"default"in v?x=gc(v.from||g,v.default,!0):x=gc(v.from||g):x=gc(v),zn(x)?Object.defineProperty(f,g,{enumerable:!0,configurable:!0,get:()=>x.value,set:A=>x.value=A}):f[g]=x}}function rT(a,f,p){Pr(We(a)?a.map(g=>g.bind(f.proxy)):a.bind(f.proxy),f,p)}function gx(a,f,p,g){const v=g.includes(".")?cx(p,g):()=>p[g];if(cn(a)){const x=f[a];Ye(x)&&Ku(v,x)}else if(Ye(a))Ku(v,a.bind(p));else if(Xt(a))if(We(a))a.forEach(x=>gx(x,f,p,g));else{const x=Ye(a.handler)?a.handler.bind(p):f[a.handler];Ye(x)&&Ku(v,x,a)}}function bp(a){const f=a.type,{mixins:p,extends:g}=f,{mixins:v,optionsCache:x,config:{optionMergeStrategies:A}}=a.appContext,d=x.get(f);let N;return d?N=d:!v.length&&!p&&!g?N=f:(N={},v.length&&v.forEach(B=>Ac(N,B,A,!0)),Ac(N,f,A)),Xt(f)&&x.set(f,N),N}function Ac(a,f,p,g=!1){const{mixins:v,extends:x}=f;x&&Ac(a,x,p,!0),v&&v.forEach(A=>Ac(a,A,p,!0));for(const A in f)if(!(g&&A==="expose")){const d=fR[A]||p&&p[A];a[A]=d?d(a[A],f[A]):f[A]}return a}const fR={data:iT,props:oT,emits:oT,methods:Bu,computed:Bu,beforeCreate:Mn,created:Mn,beforeMount:Mn,mounted:Mn,beforeUpdate:Mn,updated:Mn,beforeDestroy:Mn,beforeUnmount:Mn,destroyed:Mn,unmounted:Mn,activated:Mn,deactivated:Mn,errorCaptured:Mn,serverPrefetch:Mn,components:Bu,directives:Bu,watch:dR,provide:iT,inject:hR};function iT(a,f){return f?a?function(){return yn(Ye(a)?a.call(this,this):a,Ye(f)?f.call(this,this):f)}:f:a}function hR(a,f){return Bu(fp(a),fp(f))}function fp(a){if(We(a)){const f={};for(let p=0;p<a.length;p++)f[a[p]]=a[p];return f}return a}function Mn(a,f){return a?[...new Set([].concat(a,f))]:f}function Bu(a,f){return a?yn(Object.create(null),a,f):f}function oT(a,f){return a?We(a)&&We(f)?[...new Set([...a,...f])]:yn(Object.create(null),nT(a),nT(f??{})):f}function dR(a,f){if(!a)return f;if(!f)return a;const p=yn(Object.create(null),a);for(const g in f)p[g]=Mn(a[g],f[g]);return p}function mx(){return{app:null,config:{isNativeTag:$k,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pR=0;function gR(a,f){return function(g,v=null){Ye(g)||(g=yn({},g)),v!=null&&!Xt(v)&&(v=null);const x=mx(),A=new WeakSet;let d=!1;const N=x.app={_uid:pR++,_component:g,_props:v,_container:null,_context:x,_instance:null,version:zR,get config(){return x.config},set config(B){},use(B,...V){return A.has(B)||(B&&Ye(B.install)?(A.add(B),B.install(N,...V)):Ye(B)&&(A.add(B),B(N,...V))),N},mixin(B){return x.mixins.includes(B)||x.mixins.push(B),N},component(B,V){return V?(x.components[B]=V,N):x.components[B]},directive(B,V){return V?(x.directives[B]=V,N):x.directives[B]},mount(B,V,F){if(!d){const z=ji(g,v);return z.appContext=x,F===!0?F="svg":F===!1&&(F=void 0),V&&f?f(z,B):a(z,B,F),d=!0,N._container=B,B.__vue_app__=N,Uc(z.component)||z.component.proxy}},unmount(){d&&(a(null,N._container),delete N._container.__vue_app__)},provide(B,V){return x.provides[B]=V,N},runWithContext(B){const V=$u;$u=N;try{return B()}finally{$u=V}}};return N}}let $u=null;function mR(a,f){if(kn){let p=kn.provides;const g=kn.parent&&kn.parent.provides;g===p&&(p=kn.provides=Object.create(g)),p[a]=f}}function gc(a,f,p=!1){const g=kn||or;if(g||$u){const v=g?g.parent==null?g.vnode.appContext&&g.vnode.appContext.provides:g.parent.provides:$u._context.provides;if(v&&a in v)return v[a];if(arguments.length>1)return p&&Ye(f)?f.call(g&&g.proxy):f}}function vR(a,f,p,g=!1){const v={},x={};xc(x,jc,1),a.propsDefaults=Object.create(null),vx(a,f,v,x);for(const A in a.propsOptions[0])A in v||(v[A]=void 0);p?a.props=g?v:M4(v):a.type.props?a.props=v:a.props=x,a.attrs=x}function yR(a,f,p,g){const{props:v,attrs:x,vnode:{patchFlag:A}}=a,d=wt(v),[N]=a.propsOptions;let B=!1;if((g||A>0)&&!(A&16)){if(A&8){const V=a.vnode.dynamicProps;for(let F=0;F<V.length;F++){let z=V[F];if(Nc(a.emitsOptions,z))continue;const te=f[z];if(N)if(ct(x,z))te!==x[z]&&(x[z]=te,B=!0);else{const w=As(z);v[w]=hp(N,d,w,te,a,!1)}else te!==x[z]&&(x[z]=te,B=!0)}}}else{vx(a,f,v,x)&&(B=!0);let V;for(const F in d)(!f||!ct(f,F)&&((V=ks(F))===F||!ct(f,V)))&&(N?p&&(p[F]!==void 0||p[V]!==void 0)&&(v[F]=hp(N,d,F,void 0,a,!0)):delete v[F]);if(x!==d)for(const F in x)(!f||!ct(f,F))&&(delete x[F],B=!0)}B&&hi(a,"set","$attrs")}function vx(a,f,p,g){const[v,x]=a.propsOptions;let A=!1,d;if(f)for(let N in f){if(Hu(N))continue;const B=f[N];let V;v&&ct(v,V=As(N))?!x||!x.includes(V)?p[V]=B:(d||(d={}))[V]=B:Nc(a.emitsOptions,N)||(!(N in g)||B!==g[N])&&(g[N]=B,A=!0)}if(x){const N=wt(p),B=d||Nt;for(let V=0;V<x.length;V++){const F=x[V];p[F]=hp(v,N,F,B[F],a,!ct(B,F))}}return A}function hp(a,f,p,g,v,x){const A=a[p];if(A!=null){const d=ct(A,"default");if(d&&g===void 0){const N=A.default;if(A.type!==Function&&!A.skipFactory&&Ye(N)){const{propsDefaults:B}=v;if(p in B)g=B[p];else{const V=Zu(v);g=B[p]=N.call(null,f),V()}}else g=N}A[0]&&(x&&!d?g=!1:A[1]&&(g===""||g===ks(p))&&(g=!0))}return g}function yx(a,f,p=!1){const g=f.propsCache,v=g.get(a);if(v)return v;const x=a.props,A={},d=[];let N=!1;if(!Ye(a)){const V=F=>{N=!0;const[z,te]=yx(F,f,!0);yn(A,z),te&&d.push(...te)};!p&&f.mixins.length&&f.mixins.forEach(V),a.extends&&V(a.extends),a.mixins&&a.mixins.forEach(V)}if(!x&&!N)return Xt(a)&&g.set(a,xs),xs;if(We(x))for(let V=0;V<x.length;V++){const F=As(x[V]);sT(F)&&(A[F]=Nt)}else if(x)for(const V in x){const F=As(V);if(sT(F)){const z=x[V],te=A[F]=We(z)||Ye(z)?{type:z}:yn({},z);if(te){const w=lT(Boolean,te.type),U=lT(String,te.type);te[0]=w>-1,te[1]=U<0||w<U,(w>-1||ct(te,"default"))&&d.push(F)}}}const B=[A,d];return Xt(a)&&g.set(a,B),B}function sT(a){return a[0]!=="$"&&!Hu(a)}function uT(a){return a===null?"null":typeof a=="function"?a.name||"":typeof a=="object"&&a.constructor&&a.constructor.name||""}function aT(a,f){return uT(a)===uT(f)}function lT(a,f){return We(f)?f.findIndex(p=>aT(p,a)):Ye(f)&&aT(f,a)?0:-1}const wx=a=>a[0]==="_"||a==="$stable",Up=a=>We(a)?a.map(Br):[Br(a)],wR=(a,f,p)=>{if(f._n)return f;const g=B4((...v)=>Up(f(...v)),p);return g._c=!1,g},Tx=(a,f,p)=>{const g=a._ctx;for(const v in a){if(wx(v))continue;const x=a[v];if(Ye(x))f[v]=wR(v,x,g);else if(x!=null){const A=Up(x);f[v]=()=>A}}},xx=(a,f)=>{const p=Up(f);a.slots.default=()=>p},TR=(a,f)=>{if(a.vnode.shapeFlag&32){const p=f._;p?(a.slots=wt(f),xc(f,"_",p)):Tx(f,a.slots={})}else a.slots={},f&&xx(a,f);xc(a.slots,jc,1)},xR=(a,f,p)=>{const{vnode:g,slots:v}=a;let x=!0,A=Nt;if(g.shapeFlag&32){const d=f._;d?p&&d===1?x=!1:(yn(v,f),!p&&d===1&&delete v._):(x=!f.$stable,Tx(f,v)),A=f}else f&&(xx(a,f),A={default:1});if(x)for(const d in v)!wx(d)&&A[d]==null&&delete v[d]};function dp(a,f,p,g,v=!1){if(We(a)){a.forEach((z,te)=>dp(z,f&&(We(f)?f[te]:f),p,g,v));return}if(pc(g)&&!v)return;const x=g.shapeFlag&4?Uc(g.component)||g.component.proxy:g.el,A=v?null:x,{i:d,r:N}=a,B=f&&f.r,V=d.refs===Nt?d.refs={}:d.refs,F=d.setupState;if(B!=null&&B!==N&&(cn(B)?(V[B]=null,ct(F,B)&&(F[B]=null)):zn(B)&&(B.value=null)),Ye(N))Oi(N,d,12,[A,V]);else{const z=cn(N),te=zn(N);if(z||te){const w=()=>{if(a.f){const U=z?ct(F,N)?F[N]:V[N]:N.value;v?We(U)&&Ep(U,x):We(U)?U.includes(x)||U.push(x):z?(V[N]=[x],ct(F,N)&&(F[N]=V[N])):(N.value=[x],a.k&&(V[a.k]=N.value))}else z?(V[N]=A,ct(F,N)&&(F[N]=A)):te&&(N.value=A,a.k&&(V[a.k]=A))};A?(w.id=-1,Hn(w,p)):w()}}}const Hn=W4;function SR(a){return ER(a)}function ER(a,f){const p=UT();p.__VUE__=!0;const{insert:g,remove:v,patchProp:x,createElement:A,createText:d,createComment:N,setText:B,setElementText:V,parentNode:F,nextSibling:z,setScopeId:te=yr,insertStaticContent:w}=a,U=(D,b,q,ne=null,Z=null,X=null,de=void 0,fe=null,pe=!!b.dynamicChildren)=>{if(D===b)return;D&&!Uu(D,b)&&(ne=wn(D),it(D,Z,X,!0),D=null),b.patchFlag===-2&&(pe=!1,b.dynamicChildren=null);const{type:oe,ref:Se,shapeFlag:Oe}=b;switch(oe){case Oc:Ne(D,b,q,ne);break;case Yu:Le(D,b,q,ne);break;case qd:D==null&&tt(b,q,ne,de);break;case ci:Ce(D,b,q,ne,Z,X,de,fe,pe);break;default:Oe&1?Ot(D,b,q,ne,Z,X,de,fe,pe):Oe&6?rn(D,b,q,ne,Z,X,de,fe,pe):(Oe&64||Oe&128)&&oe.process(D,b,q,ne,Z,X,de,fe,pe,bt)}Se!=null&&Z&&dp(Se,D&&D.ref,X,b||D,!b)},Ne=(D,b,q,ne)=>{if(D==null)g(b.el=d(b.children),q,ne);else{const Z=b.el=D.el;b.children!==D.children&&B(Z,b.children)}},Le=(D,b,q,ne)=>{D==null?g(b.el=N(b.children||""),q,ne):b.el=D.el},tt=(D,b,q,ne)=>{[D.el,D.anchor]=w(D.children,b,q,ne,D.el,D.anchor)},Ke=({el:D,anchor:b},q,ne)=>{let Z;for(;D&&D!==b;)Z=z(D),g(D,q,ne),D=Z;g(b,q,ne)},Ct=({el:D,anchor:b})=>{let q;for(;D&&D!==b;)q=z(D),v(D),D=q;v(b)},Ot=(D,b,q,ne,Z,X,de,fe,pe)=>{b.type==="svg"?de="svg":b.type==="math"&&(de="mathml"),D==null?Pe(b,q,ne,Z,X,de,fe,pe):sr(D,b,Z,X,de,fe,pe)},Pe=(D,b,q,ne,Z,X,de,fe)=>{let pe,oe;const{props:Se,shapeFlag:Oe,transition:ge,dirs:je}=D;if(pe=D.el=A(D.type,X,Se&&Se.is,Se),Oe&8?V(pe,D.children):Oe&16&&en(D.children,pe,null,ne,Z,Wd(D,X),de,fe),je&&lo(D,null,ne,"created"),Bt(pe,D,D.scopeId,de,ne),Se){for(const ot in Se)ot!=="value"&&!Hu(ot)&&x(pe,ot,null,Se[ot],X,D.children,ne,Z,Et);"value"in Se&&x(pe,"value",null,Se.value,X),(oe=Se.onVnodeBeforeMount)&&Fr(oe,ne,D)}je&&lo(D,null,ne,"beforeMount");const Ge=AR(Z,ge);Ge&&ge.beforeEnter(pe),g(pe,b,q),((oe=Se&&Se.onVnodeMounted)||Ge||je)&&Hn(()=>{oe&&Fr(oe,ne,D),Ge&&ge.enter(pe),je&&lo(D,null,ne,"mounted")},Z)},Bt=(D,b,q,ne,Z)=>{if(q&&te(D,q),ne)for(let X=0;X<ne.length;X++)te(D,ne[X]);if(Z){let X=Z.subTree;if(b===X){const de=Z.vnode;Bt(D,de,de.scopeId,de.slotScopeIds,Z.parent)}}},en=(D,b,q,ne,Z,X,de,fe,pe=0)=>{for(let oe=pe;oe<D.length;oe++){const Se=D[oe]=fe?Di(D[oe]):Br(D[oe]);U(null,Se,b,q,ne,Z,X,de,fe)}},sr=(D,b,q,ne,Z,X,de)=>{const fe=b.el=D.el;let{patchFlag:pe,dynamicChildren:oe,dirs:Se}=b;pe|=D.patchFlag&16;const Oe=D.props||Nt,ge=b.props||Nt;let je;if(q&&co(q,!1),(je=ge.onVnodeBeforeUpdate)&&Fr(je,q,b,D),Se&&lo(b,D,q,"beforeUpdate"),q&&co(q,!0),oe?I(D.dynamicChildren,oe,fe,q,ne,Wd(b,Z),X):de||ie(D,b,fe,null,q,ne,Wd(b,Z),X,!1),pe>0){if(pe&16)J(fe,b,Oe,ge,q,ne,Z);else if(pe&2&&Oe.class!==ge.class&&x(fe,"class",null,ge.class,Z),pe&4&&x(fe,"style",Oe.style,ge.style,Z),pe&8){const Ge=b.dynamicProps;for(let ot=0;ot<Ge.length;ot++){const At=Ge[ot],Rt=Oe[At],zt=ge[At];(zt!==Rt||At==="value")&&x(fe,At,Rt,zt,Z,D.children,q,ne,Et)}}pe&1&&D.children!==b.children&&V(fe,b.children)}else!de&&oe==null&&J(fe,b,Oe,ge,q,ne,Z);((je=ge.onVnodeUpdated)||Se)&&Hn(()=>{je&&Fr(je,q,b,D),Se&&lo(b,D,q,"updated")},ne)},I=(D,b,q,ne,Z,X,de)=>{for(let fe=0;fe<b.length;fe++){const pe=D[fe],oe=b[fe],Se=pe.el&&(pe.type===ci||!Uu(pe,oe)||pe.shapeFlag&70)?F(pe.el):q;U(pe,oe,Se,null,ne,Z,X,de,!0)}},J=(D,b,q,ne,Z,X,de)=>{if(q!==ne){if(q!==Nt)for(const fe in q)!Hu(fe)&&!(fe in ne)&&x(D,fe,q[fe],null,de,b.children,Z,X,Et);for(const fe in ne){if(Hu(fe))continue;const pe=ne[fe],oe=q[fe];pe!==oe&&fe!=="value"&&x(D,fe,oe,pe,de,b.children,Z,X,Et)}"value"in ne&&x(D,"value",q.value,ne.value,de)}},Ce=(D,b,q,ne,Z,X,de,fe,pe)=>{const oe=b.el=D?D.el:d(""),Se=b.anchor=D?D.anchor:d("");let{patchFlag:Oe,dynamicChildren:ge,slotScopeIds:je}=b;je&&(fe=fe?fe.concat(je):je),D==null?(g(oe,q,ne),g(Se,q,ne),en(b.children||[],q,Se,Z,X,de,fe,pe)):Oe>0&&Oe&64&&ge&&D.dynamicChildren?(I(D.dynamicChildren,ge,q,Z,X,de,fe),(b.key!=null||Z&&b===Z.subTree)&&Sx(D,b,!0)):ie(D,b,q,Se,Z,X,de,fe,pe)},rn=(D,b,q,ne,Z,X,de,fe,pe)=>{b.slotScopeIds=fe,D==null?b.shapeFlag&512?Z.ctx.activate(b,q,ne,de,pe):ae(b,q,ne,Z,X,de,pe):Y(D,b,pe)},ae=(D,b,q,ne,Z,X,de)=>{const fe=D.component=bR(D,ne,Z);if(fx(D)&&(fe.ctx.renderer=bt),UR(fe),fe.asyncDep){if(Z&&Z.registerDep(fe,re),!D.el){const pe=fe.subTree=ji(Yu);Le(null,pe,b,q)}}else re(fe,D,b,q,Z,X,de)},Y=(D,b,q)=>{const ne=b.component=D.component;if(K4(D,b,q))if(ne.asyncDep&&!ne.asyncResolved){ce(ne,b,q);return}else ne.next=b,j4(ne.update),ne.effect.dirty=!0,ne.update();else b.el=D.el,ne.vnode=b},re=(D,b,q,ne,Z,X,de)=>{const fe=()=>{if(D.isMounted){let{next:Se,bu:Oe,u:ge,parent:je,vnode:Ge}=D;{const Dr=Ex(D);if(Dr){Se&&(Se.el=Ge.el,ce(D,Se,de)),Dr.asyncDep.then(()=>{D.isUnmounted||fe()});return}}let ot=Se,At;co(D,!1),Se?(Se.el=Ge.el,ce(D,Se,de)):Se=Ge,Oe&&hc(Oe),(At=Se.props&&Se.props.onVnodeBeforeUpdate)&&Fr(At,je,Se,Ge),co(D,!0);const Rt=zd(D),zt=D.subTree;D.subTree=Rt,U(zt,Rt,F(zt.el),wn(zt),D,Z,X),Se.el=Rt.el,ot===null&&z4(D,Rt.el),ge&&Hn(ge,Z),(At=Se.props&&Se.props.onVnodeUpdated)&&Hn(()=>Fr(At,je,Se,Ge),Z)}else{let Se;const{el:Oe,props:ge}=b,{bm:je,m:Ge,parent:ot}=D,At=pc(b);if(co(D,!1),je&&hc(je),!At&&(Se=ge&&ge.onVnodeBeforeMount)&&Fr(Se,ot,b),co(D,!0),Oe&&ue){const Rt=()=>{D.subTree=zd(D),ue(Oe,D.subTree,D,Z,null)};At?b.type.__asyncLoader().then(()=>!D.isUnmounted&&Rt()):Rt()}else{const Rt=D.subTree=zd(D);U(null,Rt,q,ne,D,Z,X),b.el=Rt.el}if(Ge&&Hn(Ge,Z),!At&&(Se=ge&&ge.onVnodeMounted)){const Rt=b;Hn(()=>Fr(Se,ot,Rt),Z)}(b.shapeFlag&256||ot&&pc(ot.vnode)&&ot.vnode.shapeFlag&256)&&D.a&&Hn(D.a,Z),D.isMounted=!0,b=q=ne=null}},pe=D.effect=new Mp(fe,yr,()=>jp(oe),D.scope),oe=D.update=()=>{pe.dirty&&pe.run()};oe.id=D.uid,co(D,!0),oe()},ce=(D,b,q)=>{b.component=D;const ne=D.vnode.props;D.vnode=b,D.next=null,yR(D,b.props,ne,q),xR(D,b.children,q),mo(),eT(D),vo()},ie=(D,b,q,ne,Z,X,de,fe,pe=!1)=>{const oe=D&&D.children,Se=D?D.shapeFlag:0,Oe=b.children,{patchFlag:ge,shapeFlag:je}=b;if(ge>0){if(ge&128){Fe(oe,Oe,q,ne,Z,X,de,fe,pe);return}else if(ge&256){Ue(oe,Oe,q,ne,Z,X,de,fe,pe);return}}je&8?(Se&16&&Et(oe,Z,X),Oe!==oe&&V(q,Oe)):Se&16?je&16?Fe(oe,Oe,q,ne,Z,X,de,fe,pe):Et(oe,Z,X,!0):(Se&8&&V(q,""),je&16&&en(Oe,q,ne,Z,X,de,fe,pe))},Ue=(D,b,q,ne,Z,X,de,fe,pe)=>{D=D||xs,b=b||xs;const oe=D.length,Se=b.length,Oe=Math.min(oe,Se);let ge;for(ge=0;ge<Oe;ge++){const je=b[ge]=pe?Di(b[ge]):Br(b[ge]);U(D[ge],je,q,null,Z,X,de,fe,pe)}oe>Se?Et(D,Z,X,!0,!1,Oe):en(b,q,ne,Z,X,de,fe,pe,Oe)},Fe=(D,b,q,ne,Z,X,de,fe,pe)=>{let oe=0;const Se=b.length;let Oe=D.length-1,ge=Se-1;for(;oe<=Oe&&oe<=ge;){const je=D[oe],Ge=b[oe]=pe?Di(b[oe]):Br(b[oe]);if(Uu(je,Ge))U(je,Ge,q,null,Z,X,de,fe,pe);else break;oe++}for(;oe<=Oe&&oe<=ge;){const je=D[Oe],Ge=b[ge]=pe?Di(b[ge]):Br(b[ge]);if(Uu(je,Ge))U(je,Ge,q,null,Z,X,de,fe,pe);else break;Oe--,ge--}if(oe>Oe){if(oe<=ge){const je=ge+1,Ge=je<Se?b[je].el:ne;for(;oe<=ge;)U(null,b[oe]=pe?Di(b[oe]):Br(b[oe]),q,Ge,Z,X,de,fe,pe),oe++}}else if(oe>ge)for(;oe<=Oe;)it(D[oe],Z,X,!0),oe++;else{const je=oe,Ge=oe,ot=new Map;for(oe=Ge;oe<=ge;oe++){const xt=b[oe]=pe?Di(b[oe]):Br(b[oe]);xt.key!=null&&ot.set(xt.key,oe)}let At,Rt=0;const zt=ge-Ge+1;let Dr=!1,fn=0;const Me=new Array(zt);for(oe=0;oe<zt;oe++)Me[oe]=0;for(oe=je;oe<=Oe;oe++){const xt=D[oe];if(Rt>=zt){it(xt,Z,X,!0);continue}let Pn;if(xt.key!=null)Pn=ot.get(xt.key);else for(At=Ge;At<=ge;At++)if(Me[At-Ge]===0&&Uu(xt,b[At])){Pn=At;break}Pn===void 0?it(xt,Z,X,!0):(Me[Pn-Ge]=oe+1,Pn>=fn?fn=Pn:Dr=!0,U(xt,b[Pn],q,null,Z,X,de,fe,pe),Rt++)}const _s=Dr?IR(Me):xs;for(At=_s.length-1,oe=zt-1;oe>=0;oe--){const xt=Ge+oe,Pn=b[xt],gi=xt+1<Se?b[xt+1].el:ne;Me[oe]===0?U(null,Pn,q,gi,Z,X,de,fe,pe):Dr&&(At<0||oe!==_s[At]?qe(Pn,q,gi,2):At--)}}},qe=(D,b,q,ne,Z=null)=>{const{el:X,type:de,transition:fe,children:pe,shapeFlag:oe}=D;if(oe&6){qe(D.component.subTree,b,q,ne);return}if(oe&128){D.suspense.move(b,q,ne);return}if(oe&64){de.move(D,b,q,bt);return}if(de===ci){g(X,b,q);for(let Oe=0;Oe<pe.length;Oe++)qe(pe[Oe],b,q,ne);g(D.anchor,b,q);return}if(de===qd){Ke(D,b,q);return}if(ne!==2&&oe&1&&fe)if(ne===0)fe.beforeEnter(X),g(X,b,q),Hn(()=>fe.enter(X),Z);else{const{leave:Oe,delayLeave:ge,afterLeave:je}=fe,Ge=()=>g(X,b,q),ot=()=>{Oe(X,()=>{Ge(),je&&je()})};ge?ge(X,Ge,ot):ot()}else g(X,b,q)},it=(D,b,q,ne=!1,Z=!1)=>{const{type:X,props:de,ref:fe,children:pe,dynamicChildren:oe,shapeFlag:Se,patchFlag:Oe,dirs:ge}=D;if(fe!=null&&dp(fe,null,q,D,!0),Se&256){b.ctx.deactivate(D);return}const je=Se&1&&ge,Ge=!pc(D);let ot;if(Ge&&(ot=de&&de.onVnodeBeforeUnmount)&&Fr(ot,b,D),Se&6)Mt(D.component,q,ne);else{if(Se&128){D.suspense.unmount(q,ne);return}je&&lo(D,null,b,"beforeUnmount"),Se&64?D.type.remove(D,b,q,Z,bt,ne):oe&&(X!==ci||Oe>0&&Oe&64)?Et(oe,b,q,!1,!0):(X===ci&&Oe&384||!Z&&Se&16)&&Et(pe,b,q),ne&&jt(D)}(Ge&&(ot=de&&de.onVnodeUnmounted)||je)&&Hn(()=>{ot&&Fr(ot,b,D),je&&lo(D,null,b,"unmounted")},q)},jt=D=>{const{type:b,el:q,anchor:ne,transition:Z}=D;if(b===ci){O(q,ne);return}if(b===qd){Ct(D);return}const X=()=>{v(q),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(D.shapeFlag&1&&Z&&!Z.persisted){const{leave:de,delayLeave:fe}=Z,pe=()=>de(q,X);fe?fe(D.el,X,pe):pe()}else X()},O=(D,b)=>{let q;for(;D!==b;)q=z(D),v(D),D=q;v(b)},Mt=(D,b,q)=>{const{bum:ne,scope:Z,update:X,subTree:de,um:fe}=D;ne&&hc(ne),Z.stop(),X&&(X.active=!1,it(de,D,b,q)),fe&&Hn(fe,b),Hn(()=>{D.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Et=(D,b,q,ne=!1,Z=!1,X=0)=>{for(let de=X;de<D.length;de++)it(D[de],b,q,ne,Z)},wn=D=>D.shapeFlag&6?wn(D.component.subTree):D.shapeFlag&128?D.suspense.next():z(D.anchor||D.el);let $n=!1;const Rn=(D,b,q)=>{D==null?b._vnode&&it(b._vnode,null,null,!0):U(b._vnode||null,D,b,null,null,null,q),$n||($n=!0,eT(),ox(),$n=!1),b._vnode=D},bt={p:U,um:it,m:qe,r:jt,mt:ae,mc:en,pc:ie,pbc:I,n:wn,o:a};let _n,ue;return f&&([_n,ue]=f(bt)),{render:Rn,hydrate:_n,createApp:gR(Rn,_n)}}function Wd({type:a,props:f},p){return p==="svg"&&a==="foreignObject"||p==="mathml"&&a==="annotation-xml"&&f&&f.encoding&&f.encoding.includes("html")?void 0:p}function co({effect:a,update:f},p){a.allowRecurse=f.allowRecurse=p}function AR(a,f){return(!a||a&&!a.pendingBranch)&&f&&!f.persisted}function Sx(a,f,p=!1){const g=a.children,v=f.children;if(We(g)&&We(v))for(let x=0;x<g.length;x++){const A=g[x];let d=v[x];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=v[x]=Di(v[x]),d.el=A.el),p||Sx(A,d)),d.type===Oc&&(d.el=A.el)}}function IR(a){const f=a.slice(),p=[0];let g,v,x,A,d;const N=a.length;for(g=0;g<N;g++){const B=a[g];if(B!==0){if(v=p[p.length-1],a[v]<B){f[g]=v,p.push(g);continue}for(x=0,A=p.length-1;x<A;)d=x+A>>1,a[p[d]]<B?x=d+1:A=d;B<a[p[x]]&&(x>0&&(f[g]=p[x-1]),p[x]=g)}}for(x=p.length,A=p[x-1];x-- >0;)p[x]=A,A=f[A];return p}function Ex(a){const f=a.subTree.component;if(f)return f.asyncDep&&!f.asyncResolved?f:Ex(f)}const CR=a=>a.__isTeleport,ci=Symbol.for("v-fgt"),Oc=Symbol.for("v-txt"),Yu=Symbol.for("v-cmt"),qd=Symbol.for("v-stc"),Gu=[];let _r=null;function Ax(a=!1){Gu.push(_r=a?null:[])}function MR(){Gu.pop(),_r=Gu[Gu.length-1]||null}let Ju=1;function cT(a){Ju+=a}function Ix(a){return a.dynamicChildren=Ju>0?_r||xs:null,MR(),Ju>0&&_r&&_r.push(a),a}function kR(a,f,p,g,v,x){return Ix(Ts(a,f,p,g,v,x,!0))}function RR(a,f,p,g,v){return Ix(ji(a,f,p,g,v,!0))}function _R(a){return a?a.__v_isVNode===!0:!1}function Uu(a,f){return a.type===f.type&&a.key===f.key}const jc="__vInternal",Cx=({key:a})=>a??null,mc=({ref:a,ref_key:f,ref_for:p})=>(typeof a=="number"&&(a=""+a),a!=null?cn(a)||zn(a)||Ye(a)?{i:or,r:a,k:f,f:!!p}:a:null);function Ts(a,f=null,p=null,g=0,v=null,x=a===ci?0:1,A=!1,d=!1){const N={__v_isVNode:!0,__v_skip:!0,type:a,props:f,key:f&&Cx(f),ref:f&&mc(f),scopeId:ax,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:x,patchFlag:g,dynamicProps:v,dynamicChildren:null,appContext:null,ctx:or};return d?(Fp(N,p),x&128&&a.normalize(N)):p&&(N.shapeFlag|=cn(p)?8:16),Ju>0&&!A&&_r&&(N.patchFlag>0||x&6)&&N.patchFlag!==32&&_r.push(N),N}const ji=PR;function PR(a,f=null,p=null,g=0,v=null,x=!1){if((!a||a===$4)&&(a=Yu),_R(a)){const d=Cs(a,f,!0);return p&&Fp(d,p),Ju>0&&!x&&_r&&(d.shapeFlag&6?_r[_r.indexOf(a)]=d:_r.push(d)),d.patchFlag|=-2,d}if(HR(a)&&(a=a.__vccOpts),f){f=DR(f);let{class:d,style:N}=f;d&&!cn(d)&&(f.class=Cp(d)),Xt(N)&&(QT(N)&&!We(N)&&(N=yn({},N)),f.style=Ip(N))}const A=cn(a)?1:G4(a)?128:CR(a)?64:Xt(a)?4:Ye(a)?2:0;return Ts(a,f,p,g,v,A,x,!0)}function DR(a){return a?QT(a)||jc in a?yn({},a):a:null}function Cs(a,f,p=!1){const{props:g,ref:v,patchFlag:x,children:A}=a,d=f?LR(g||{},f):g;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:d,key:d&&Cx(d),ref:f&&f.ref?p&&v?We(v)?v.concat(mc(f)):[v,mc(f)]:mc(f):v,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:A,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:f&&a.type!==ci?x===-1?16:x|16:x,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&Cs(a.ssContent),ssFallback:a.ssFallback&&Cs(a.ssFallback),el:a.el,anchor:a.anchor,ctx:a.ctx,ce:a.ce}}function NR(a=" ",f=0){return ji(Oc,null,a,f)}function Br(a){return a==null||typeof a=="boolean"?ji(Yu):We(a)?ji(ci,null,a.slice()):typeof a=="object"?Di(a):ji(Oc,null,String(a))}function Di(a){return a.el===null&&a.patchFlag!==-1||a.memo?a:Cs(a)}function Fp(a,f){let p=0;const{shapeFlag:g}=a;if(f==null)f=null;else if(We(f))p=16;else if(typeof f=="object")if(g&65){const v=f.default;v&&(v._c&&(v._d=!1),Fp(a,v()),v._c&&(v._d=!0));return}else{p=32;const v=f._;!v&&!(jc in f)?f._ctx=or:v===3&&or&&(or.slots._===1?f._=1:(f._=2,a.patchFlag|=1024))}else Ye(f)?(f={default:f,_ctx:or},p=32):(f=String(f),g&64?(p=16,f=[NR(f)]):p=8);a.children=f,a.shapeFlag|=p}function LR(...a){const f={};for(let p=0;p<a.length;p++){const g=a[p];for(const v in g)if(v==="class")f.class!==g.class&&(f.class=Cp([f.class,g.class]));else if(v==="style")f.style=Ip([f.style,g.style]);else if(Mc(v)){const x=f[v],A=g[v];A&&x!==A&&!(We(x)&&x.includes(A))&&(f[v]=x?[].concat(x,A):A)}else v!==""&&(f[v]=g[v])}return f}function Fr(a,f,p,g=null){Pr(a,f,7,[p,g])}const OR=mx();let jR=0;function bR(a,f,p){const g=a.type,v=(f?f.appContext:a.appContext)||OR,x={uid:jR++,vnode:a,type:g,parent:f,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new o4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:f?f.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yx(g,v),emitsOptions:ux(g,v),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:g.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return x.ctx={_:x},x.root=f?f.root:x,x.emit=F4.bind(null,x),a.ce&&a.ce(x),x}let kn=null,Ic,pp;{const a=UT(),f=(p,g)=>{let v;return(v=a[p])||(v=a[p]=[]),v.push(g),x=>{v.length>1?v.forEach(A=>A(x)):v[0](x)}};Ic=f("__VUE_INSTANCE_SETTERS__",p=>kn=p),pp=f("__VUE_SSR_SETTERS__",p=>bc=p)}const Zu=a=>{const f=kn;return Ic(a),a.scope.on(),()=>{a.scope.off(),Ic(f)}},fT=()=>{kn&&kn.scope.off(),Ic(null)};function Mx(a){return a.vnode.shapeFlag&4}let bc=!1;function UR(a,f=!1){f&&pp(f);const{props:p,children:g}=a.vnode,v=Mx(a);vR(a,p,v,f),TR(a,g);const x=v?FR(a,f):void 0;return f&&pp(!1),x}function FR(a,f){const p=a.type;a.accessCache=Object.create(null),a.proxy=ZT(new Proxy(a.ctx,aR));const{setup:g}=p;if(g){const v=a.setupContext=g.length>1?VR(a):null,x=Zu(a);mo();const A=Oi(g,a,0,[a.props,v]);if(vo(),x(),jT(A)){if(A.then(fT,fT),f)return A.then(d=>{hT(a,d,f)}).catch(d=>{Dc(d,a,0)});a.asyncDep=A}else hT(a,A,f)}else kx(a,f)}function hT(a,f,p){Ye(f)?a.type.__ssrInlineRender?a.ssrRender=f:a.render=f:Xt(f)&&(a.setupState=nx(f)),kx(a,p)}let dT;function kx(a,f,p){const g=a.type;if(!a.render){if(!f&&dT&&!g.render){const v=g.template||bp(a).template;if(v){const{isCustomElement:x,compilerOptions:A}=a.appContext.config,{delimiters:d,compilerOptions:N}=g,B=yn(yn({isCustomElement:x,delimiters:d},A),N);g.render=dT(v,B)}}a.render=g.render||yr}{const v=Zu(a);mo();try{lR(a)}finally{vo(),v()}}}function BR(a){return a.attrsProxy||(a.attrsProxy=new Proxy(a.attrs,{get(f,p){return Kn(a,"get","$attrs"),f[p]}}))}function VR(a){const f=p=>{a.exposed=p||{}};return{get attrs(){return BR(a)},slots:a.slots,emit:a.emit,expose:f}}function Uc(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(nx(ZT(a.exposed)),{get(f,p){if(p in f)return f[p];if(p in zu)return zu[p](a)},has(f,p){return p in f||p in zu}}))}function HR(a){return Ye(a)&&"__vccOpts"in a}const KR=(a,f)=>k4(a,f,bc),zR="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $R="http://www.w3.org/2000/svg",GR="http://www.w3.org/1998/Math/MathML",Ni=typeof document<"u"?document:null,pT=Ni&&Ni.createElement("template"),WR={insert:(a,f,p)=>{f.insertBefore(a,p||null)},remove:a=>{const f=a.parentNode;f&&f.removeChild(a)},createElement:(a,f,p,g)=>{const v=f==="svg"?Ni.createElementNS($R,a):f==="mathml"?Ni.createElementNS(GR,a):Ni.createElement(a,p?{is:p}:void 0);return a==="select"&&g&&g.multiple!=null&&v.setAttribute("multiple",g.multiple),v},createText:a=>Ni.createTextNode(a),createComment:a=>Ni.createComment(a),setText:(a,f)=>{a.nodeValue=f},setElementText:(a,f)=>{a.textContent=f},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>Ni.querySelector(a),setScopeId(a,f){a.setAttribute(f,"")},insertStaticContent(a,f,p,g,v,x){const A=p?p.previousSibling:f.lastChild;if(v&&(v===x||v.nextSibling))for(;f.insertBefore(v.cloneNode(!0),p),!(v===x||!(v=v.nextSibling)););else{pT.innerHTML=g==="svg"?`<svg>${a}</svg>`:g==="mathml"?`<math>${a}</math>`:a;const d=pT.content;if(g==="svg"||g==="mathml"){const N=d.firstChild;for(;N.firstChild;)d.appendChild(N.firstChild);d.removeChild(N)}f.insertBefore(d,p)}return[A?A.nextSibling:f.firstChild,p?p.previousSibling:f.lastChild]}},qR=Symbol("_vtc");function XR(a,f,p){const g=a[qR];g&&(f=(f?[f,...g]:[...g]).join(" ")),f==null?a.removeAttribute("class"):p?a.setAttribute("class",f):a.className=f}const gT=Symbol("_vod"),YR=Symbol("_vsh"),JR=Symbol(""),QR=/(^|;)\s*display\s*:/;function ZR(a,f,p){const g=a.style,v=cn(p);let x=!1;if(p&&!v){if(f)if(cn(f))for(const A of f.split(";")){const d=A.slice(0,A.indexOf(":")).trim();p[d]==null&&vc(g,d,"")}else for(const A in f)p[A]==null&&vc(g,A,"");for(const A in p)A==="display"&&(x=!0),vc(g,A,p[A])}else if(v){if(f!==p){const A=g[JR];A&&(p+=";"+A),g.cssText=p,x=QR.test(p)}}else f&&a.removeAttribute("style");gT in a&&(a[gT]=x?g.display:"",a[YR]&&(g.display="none"))}const mT=/\s*!important$/;function vc(a,f,p){if(We(p))p.forEach(g=>vc(a,f,g));else if(p==null&&(p=""),f.startsWith("--"))a.setProperty(f,p);else{const g=e3(a,f);mT.test(p)?a.setProperty(ks(g),p.replace(mT,""),"important"):a[g]=p}}const vT=["Webkit","Moz","ms"],Xd={};function e3(a,f){const p=Xd[f];if(p)return p;let g=As(f);if(g!=="filter"&&g in a)return Xd[f]=g;g=bT(g);for(let v=0;v<vT.length;v++){const x=vT[v]+g;if(x in a)return Xd[f]=x}return f}const yT="http://www.w3.org/1999/xlink";function t3(a,f,p,g,v){if(g&&f.startsWith("xlink:"))p==null?a.removeAttributeNS(yT,f.slice(6,f.length)):a.setAttributeNS(yT,f,p);else{const x=i4(f);p==null||x&&!FT(p)?a.removeAttribute(f):a.setAttribute(f,x?"":p)}}function n3(a,f,p,g,v,x,A){if(f==="innerHTML"||f==="textContent"){g&&A(g,v,x),a[f]=p??"";return}const d=a.tagName;if(f==="value"&&d!=="PROGRESS"&&!d.includes("-")){const B=d==="OPTION"?a.getAttribute("value")||"":a.value,V=p??"";(B!==V||!("_value"in a))&&(a.value=V),p==null&&a.removeAttribute(f),a._value=p;return}let N=!1;if(p===""||p==null){const B=typeof a[f];B==="boolean"?p=FT(p):p==null&&B==="string"?(p="",N=!0):B==="number"&&(p=0,N=!0)}try{a[f]=p}catch{}N&&a.removeAttribute(f)}function ws(a,f,p,g){a.addEventListener(f,p,g)}function r3(a,f,p,g){a.removeEventListener(f,p,g)}const wT=Symbol("_vei");function i3(a,f,p,g,v=null){const x=a[wT]||(a[wT]={}),A=x[f];if(g&&A)A.value=g;else{const[d,N]=o3(f);if(g){const B=x[f]=a3(g,v);ws(a,d,B,N)}else A&&(r3(a,d,A,N),x[f]=void 0)}}const TT=/(?:Once|Passive|Capture)$/;function o3(a){let f;if(TT.test(a)){f={};let g;for(;g=a.match(TT);)a=a.slice(0,a.length-g[0].length),f[g[0].toLowerCase()]=!0}return[a[2]===":"?a.slice(3):ks(a.slice(2)),f]}let Yd=0;const s3=Promise.resolve(),u3=()=>Yd||(s3.then(()=>Yd=0),Yd=Date.now());function a3(a,f){const p=g=>{if(!g._vts)g._vts=Date.now();else if(g._vts<=p.attached)return;Pr(l3(g,p.value),f,5,[g])};return p.value=a,p.attached=u3(),p}function l3(a,f){if(We(f)){const p=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{p.call(a),a._stopped=!0},f.map(g=>v=>!v._stopped&&g&&g(v))}else return f}const xT=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)>96&&a.charCodeAt(2)<123,c3=(a,f,p,g,v,x,A,d,N)=>{const B=v==="svg";f==="class"?XR(a,g,B):f==="style"?ZR(a,p,g):Mc(f)?Sp(f)||i3(a,f,p,g,A):(f[0]==="."?(f=f.slice(1),!0):f[0]==="^"?(f=f.slice(1),!1):f3(a,f,g,B))?n3(a,f,g,x,A,d,N):(f==="true-value"?a._trueValue=g:f==="false-value"&&(a._falseValue=g),t3(a,f,g,B))};function f3(a,f,p,g){if(g)return!!(f==="innerHTML"||f==="textContent"||f in a&&xT(f)&&Ye(p));if(f==="spellcheck"||f==="draggable"||f==="translate"||f==="form"||f==="list"&&a.tagName==="INPUT"||f==="type"&&a.tagName==="TEXTAREA")return!1;if(f==="width"||f==="height"){const v=a.tagName;if(v==="IMG"||v==="VIDEO"||v==="CANVAS"||v==="SOURCE")return!1}return xT(f)&&cn(p)?!1:f in a}const ST=a=>{const f=a.props["onUpdate:modelValue"]||!1;return We(f)?p=>hc(f,p):f};function h3(a){a.target.composing=!0}function ET(a){const f=a.target;f.composing&&(f.composing=!1,f.dispatchEvent(new Event("input")))}const Jd=Symbol("_assign"),Qd={created(a,{modifiers:{lazy:f,trim:p,number:g}},v){a[Jd]=ST(v);const x=g||v.props&&v.props.type==="number";ws(a,f?"change":"input",A=>{if(A.target.composing)return;let d=a.value;p&&(d=d.trim()),x&&(d=rp(d)),a[Jd](d)}),p&&ws(a,"change",()=>{a.value=a.value.trim()}),f||(ws(a,"compositionstart",h3),ws(a,"compositionend",ET),ws(a,"change",ET))},mounted(a,{value:f}){a.value=f??""},beforeUpdate(a,{value:f,modifiers:{lazy:p,trim:g,number:v}},x){if(a[Jd]=ST(x),a.composing)return;const A=v||a.type==="number"?rp(a.value):a.value,d=f??"";A!==d&&(document.activeElement===a&&a.type!=="range"&&(p||g&&a.value.trim()===d)||(a.value=d))}},d3=yn({patchProp:c3},WR);let AT;function p3(){return AT||(AT=SR(d3))}const g3=(...a)=>{const f=p3().createApp(...a),{mount:p}=f;return f.mount=g=>{const v=v3(g);if(!v)return;const x=f._component;!Ye(x)&&!x.render&&!x.template&&(x.template=v.innerHTML),v.innerHTML="";const A=p(v,!1,m3(v));return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),A},f};function m3(a){if(a instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&a instanceof MathMLElement)return"mathml"}function v3(a){return cn(a)?document.querySelector(a):a}const Rx=(a,f)=>{const p=a.__vccOpts||a;for(const[g,v]of f)p[g]=v;return p};var fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gp={},_x={},Px={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(a){(function(){var f=typeof window<"u"?window:fi,p={};(function(v,x,A){var d;function N(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var B=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function V(e){e=[typeof globalThis=="object"&&globalThis,e,typeof v=="object"&&v,typeof self=="object"&&self,typeof x=="object"&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var F=V(this);function z(e,t){if(t)e:{var n=F;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&B(n,e,{configurable:!0,writable:!0,value:t})}}z("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(r+(o||"")+"_"+i++,o)}function n(o,s){this.g=o,B(this,"description",{configurable:!0,writable:!0,value:s})}if(e)return e;n.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return t}),z("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=F[t[n]];typeof r=="function"&&typeof r.prototype[e]!="function"&&B(r.prototype,e,{configurable:!0,writable:!0,value:function(){return te(N(this))}})}return e});function te(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function w(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:N(e)}}function U(e){if(!(e instanceof Array)){e=w(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var Ne=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Le;if(typeof Object.setPrototypeOf=="function")Le=Object.setPrototypeOf;else{var tt;e:{var Ke={a:!0},Ct={};try{Ct.__proto__=Ke,tt=Ct.a;break e}catch{}tt=!1}Le=tt?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Ot=Le;function Pe(e,t){if(e.prototype=Ne(t.prototype),e.prototype.constructor=e,Ot)Ot(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ej=t.prototype}function Bt(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function en(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}Bt.prototype.s=function(e){this.h=e};function sr(e,t){e.i={Mf:t,Xf:!0},e.g=e.m||e.j}Bt.prototype.return=function(e){this.i={return:e},this.g=this.j};function I(e,t,n){return e.g=n,{value:t}}Bt.prototype.B=function(e){this.g=e};function J(e){e.g=0}function Ce(e,t,n){e.m=t,n!=null&&(e.j=n)}function rn(e,t){e.m=0,e.j=t||0}function ae(e,t,n){e.g=t,e.m=n||0}function Y(e,t){return e.m=t||0,t=e.i.Mf,e.i=null,t}function re(e){e.u=[e.i],e.m=0,e.j=0}function ce(e,t){var n=e.u.splice(0)[0];(n=e.i=e.i||n)?n.Xf?e.g=e.m||e.j:n.B!=null&&e.j<n.B?(e.g=n.B,e.i=null):e.g=e.j:e.g=t}function ie(e){this.g=new Bt,this.h=e}function Ue(e,t){en(e.g);var n=e.g.l;return n?Fe(e,"return"in n?n.return:function(r){return{value:r,done:!0}},t,e.g.return):(e.g.return(t),qe(e))}function Fe(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var o=i.value}catch(s){return e.g.l=null,sr(e.g,s),qe(e)}return e.g.l=null,r.call(e.g,o),qe(e)}function qe(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,sr(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Xf)throw t.Mf;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function it(e){this.next=function(t){return en(e.g),e.g.l?t=Fe(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=qe(e)),t},this.throw=function(t){return en(e.g),e.g.l?t=Fe(e,e.g.l.throw,t,e.g.s):(sr(e.g,t),t=qe(e)),t},this.return=function(t){return Ue(e,t)},this[Symbol.iterator]=function(){return this}}function jt(e){function t(r){return e.next(r)}function n(r){return e.throw(r)}return new Promise(function(r,i){function o(s){s.done?r(s.value):Promise.resolve(s.value).then(t,n).then(o,i)}o(e.next())})}function O(e){return jt(new it(new ie(e)))}function Mt(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}z("Promise",function(e){function t(s){this.h=0,this.i=void 0,this.g=[],this.o=!1;var u=this.j();try{s(u.resolve,u.reject)}catch(l){u.reject(l)}}function n(){this.g=null}function r(s){return s instanceof t?s:new t(function(u){u(s)})}if(e)return e;n.prototype.h=function(s){if(this.g==null){this.g=[];var u=this;this.i(function(){u.l()})}this.g.push(s)};var i=F.setTimeout;n.prototype.i=function(s){i(s,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var s=this.g;this.g=[];for(var u=0;u<s.length;++u){var l=s[u];s[u]=null;try{l()}catch(c){this.j(c)}}}this.g=null},n.prototype.j=function(s){this.i(function(){throw s})},t.prototype.j=function(){function s(c){return function(h){l||(l=!0,c.call(u,h))}}var u=this,l=!1;return{resolve:s(this.F),reject:s(this.l)}},t.prototype.F=function(s){if(s===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(s instanceof t)this.H(s);else{e:switch(typeof s){case"object":var u=s!=null;break e;case"function":u=!0;break e;default:u=!1}u?this.C(s):this.m(s)}},t.prototype.C=function(s){var u=void 0;try{u=s.then}catch(l){this.l(l);return}typeof u=="function"?this.I(u,s):this.m(s)},t.prototype.l=function(s){this.s(2,s)},t.prototype.m=function(s){this.s(1,s)},t.prototype.s=function(s,u){if(this.h!=0)throw Error("Cannot settle("+s+", "+u+"): Promise already settled in state"+this.h);this.h=s,this.i=u,this.h===2&&this.G(),this.u()},t.prototype.G=function(){var s=this;i(function(){if(s.A()){var u=F.console;typeof u<"u"&&u.error(s.i)}},1)},t.prototype.A=function(){if(this.o)return!1;var s=F.CustomEvent,u=F.Event,l=F.dispatchEvent;return typeof l>"u"?!0:(typeof s=="function"?s=new s("unhandledrejection",{cancelable:!0}):typeof u=="function"?s=new u("unhandledrejection",{cancelable:!0}):(s=F.document.createEvent("CustomEvent"),s.initCustomEvent("unhandledrejection",!1,!0,s)),s.promise=this,s.reason=this.i,l(s))},t.prototype.u=function(){if(this.g!=null){for(var s=0;s<this.g.length;++s)o.h(this.g[s]);this.g=null}};var o=new n;return t.prototype.H=function(s){var u=this.j();s.rd(u.resolve,u.reject)},t.prototype.I=function(s,u){var l=this.j();try{s.call(u,l.resolve,l.reject)}catch(c){l.reject(c)}},t.prototype.then=function(s,u){function l(T,y){return typeof T=="function"?function(S){try{c(T(S))}catch(E){h(E)}}:y}var c,h,m=new t(function(T,y){c=T,h=y});return this.rd(l(s,c),l(u,h)),m},t.prototype.catch=function(s){return this.then(void 0,s)},t.prototype.rd=function(s,u){function l(){switch(c.h){case 1:s(c.i);break;case 2:u(c.i);break;default:throw Error("Unexpected state: "+c.h)}}var c=this;this.g==null?o.h(l):this.g.push(l),this.o=!0},t.resolve=r,t.reject=function(s){return new t(function(u,l){l(s)})},t.race=function(s){return new t(function(u,l){for(var c=w(s),h=c.next();!h.done;h=c.next())r(h.value).rd(u,l)})},t.all=function(s){var u=w(s),l=u.next();return l.done?r([]):new t(function(c,h){function m(S){return function(E){T[S]=E,y--,y==0&&c(T)}}var T=[],y=0;do T.push(void 0),y++,r(l.value).rd(m(T.length-1),h),l=u.next();while(!l.done)})},t});function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}z("WeakMap",function(e){function t(l){if(this.g=(u+=Math.random()+1).toString(),l){l=w(l);for(var c;!(c=l.next()).done;)c=c.value,this.set(c[0],c[1])}}function n(){}function r(l){var c=typeof l;return c==="object"&&l!==null||c==="function"}function i(l){if(!Et(l,s)){var c=new n;B(l,s,{value:c})}}function o(l){var c=Object[l];c&&(Object[l]=function(h){return h instanceof n?h:(Object.isExtensible(h)&&i(h),c(h))})}if(function(){if(!e||!Object.seal)return!1;try{var l=Object.seal({}),c=Object.seal({}),h=new e([[l,2],[c,3]]);return h.get(l)!=2||h.get(c)!=3?!1:(h.delete(l),h.set(c,4),!h.has(l)&&h.get(c)==4)}catch{return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(l,c){if(!r(l))throw Error("Invalid WeakMap key");if(i(l),!Et(l,s))throw Error("WeakMap key fail: "+l);return l[s][this.g]=c,this},t.prototype.get=function(l){return r(l)&&Et(l,s)?l[s][this.g]:void 0},t.prototype.has=function(l){return r(l)&&Et(l,s)&&Et(l[s],this.g)},t.prototype.delete=function(l){return r(l)&&Et(l,s)&&Et(l[s],this.g)?delete l[s][this.g]:!1},t}),z("Map",function(e){function t(){var u={};return u.sb=u.next=u.head=u}function n(u,l){var c=u.g;return te(function(){if(c){for(;c.head!=u.g;)c=c.sb;for(;c.next!=c.head;)return c=c.next,{done:!1,value:l(c)};c=null}return{done:!0,value:void 0}})}function r(u,l){var c=l&&typeof l;c=="object"||c=="function"?o.has(l)?c=o.get(l):(c=""+ ++s,o.set(l,c)):c="p_"+l;var h=u.h[c];if(h&&Et(u.h,c))for(u=0;u<h.length;u++){var m=h[u];if(l!==l&&m.key!==m.key||l===m.key)return{id:c,list:h,index:u,entry:m}}return{id:c,list:h,index:-1,entry:void 0}}function i(u){if(this.h={},this.g=t(),this.size=0,u){u=w(u);for(var l;!(l=u.next()).done;)l=l.value,this.set(l[0],l[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var u=Object.seal({x:4}),l=new e(w([[u,"s"]]));if(l.get(u)!="s"||l.size!=1||l.get({x:4})||l.set({x:4},"t")!=l||l.size!=2)return!1;var c=l.entries(),h=c.next();return h.done||h.value[0]!=u||h.value[1]!="s"?!1:(h=c.next(),!(h.done||h.value[0].x!=4||h.value[1]!="t"||!c.next().done))}catch{return!1}}())return e;var o=new WeakMap;i.prototype.set=function(u,l){u=u===0?0:u;var c=r(this,u);return c.list||(c.list=this.h[c.id]=[]),c.entry?c.entry.value=l:(c.entry={next:this.g,sb:this.g.sb,head:this.g,key:u,value:l},c.list.push(c.entry),this.g.sb.next=c.entry,this.g.sb=c.entry,this.size++),this},i.prototype.delete=function(u){return u=r(this,u),u.entry&&u.list?(u.list.splice(u.index,1),u.list.length||delete this.h[u.id],u.entry.sb.next=u.entry.next,u.entry.next.sb=u.entry.sb,u.entry.head=null,this.size--,!0):!1},i.prototype.clear=function(){this.h={},this.g=this.g.sb=t(),this.size=0},i.prototype.has=function(u){return!!r(this,u).entry},i.prototype.get=function(u){return(u=r(this,u).entry)&&u.value},i.prototype.entries=function(){return n(this,function(u){return[u.key,u.value]})},i.prototype.keys=function(){return n(this,function(u){return u.key})},i.prototype.values=function(){return n(this,function(u){return u.value})},i.prototype.forEach=function(u,l){for(var c=this.entries(),h;!(h=c.next()).done;)h=h.value,u.call(l,h[1],h[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var s=0;return i}),z("Set",function(e){function t(n){if(this.g=new Map,n){n=w(n);for(var r;!(r=n.next()).done;)this.add(r.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),r=new e(w([n]));if(!r.has(n)||r.size!=1||r.add(n)!=r||r.size!=1||r.add({x:4})!=r||r.size!=2)return!1;var i=r.entries(),o=i.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=i.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:i.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,r){var i=this;this.g.forEach(function(o){return n.call(r,o,o,i)})},t)});function wn(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var o=e[i];if(t.call(n,o,i,e))return{Uf:i,v:o}}return{Uf:-1,v:void 0}}z("Array.prototype.findIndex",function(e){return e||function(t,n){return wn(this,t,n).Uf}}),z("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),z("Array.prototype.includes",function(e){return e||function(t,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var o=r[n];if(o===t||Object.is(o,t))return!0}return!1}});function $n(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}z("String.prototype.includes",function(e){return e||function(t,n){return $n(this,t,"includes").indexOf(t,n||0)!==-1}}),z("Array.prototype.find",function(e){return e||function(t,n){return wn(this,t,n).v}}),z("String.prototype.startsWith",function(e){return e||function(t,n){var r=$n(this,t,"startsWith"),i=r.length,o=t.length;n=Math.max(0,Math.min(n|0,r.length));for(var s=0;s<o&&n<i;)if(r[n++]!=t[s++])return!1;return s>=o}});function Rn(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}z("Array.prototype.keys",function(e){return e||function(){return Rn(this,function(t){return t})}}),z("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=w(n);for(var r;!(r=n.next()).done;)this.add(r.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),r=Object.seal({}),i=new e([n]);return!i.has(n)||i.has(r)?!1:(i.delete(n),i.add(r),!i.has(n)&&i.has(r))}catch{return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),z("Array.from",function(e){return e||function(t,n,r){n=n??function(u){return u};var i=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var s=0;!(o=t.next()).done;)i.push(n.call(r,o.value,s++))}else for(o=t.length,s=0;s<o;s++)i.push(n.call(r,t[s],s));return i}});var bt=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Et(r,i)&&(e[i]=r[i])}return e};z("Object.assign",function(e){return e||bt}),z("Array.prototype.values",function(e){return e||function(){return Rn(this,function(t,n){return n})}}),z("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),z("Array.prototype.entries",function(e){return e||function(){return Rn(this,function(t,n){return[t,n]})}}),z("String.prototype.repeat",function(e){return e||function(t){var n=$n(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)t&1&&(r+=n),(t>>>=1)&&(n+=n);return r}}),z("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),z("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),z("Object.values",function(e){return e||function(t){var n=[],r;for(r in t)Et(t,r)&&n.push(t[r]);return n}}),z("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),z("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),z("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}}),z("Object.entries",function(e){return e||function(t){var n=[],r;for(r in t)Et(t,r)&&n.push([r,t[r]]);return n}});var _n=this||self;function ue(e,t){e=e.split(".");var n=_n;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||t===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=t}function D(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}D.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function b(e){return e.h/(1-Math.pow(e.g,e.i))}function q(){this.h=new D(2),this.j=new D(5),this.g=0,this.i=128e3,this.l=16e3}q.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},q.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},q.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(b(this.h),b(this.j))};function ne(){}function Z(){}function X(){}function de(e){var t=Mt.apply(1,arguments);Oe.has(e)||(Oe.add(e),X.apply(ne,U(t)))}function fe(){}function pe(){}function oe(){}function Se(){}var Oe=new Set;v.console&&(X=function(){return console.warn.apply(console,U(Mt.apply(0,arguments)))},Z=function(){console.error.apply(console,U(Mt.apply(0,arguments)))});function ge(e){if(Ge.has(e))return Ge.get(e);if(v.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported(e);return Ge.set(e,t),t}return v.MediaSource?(t=MediaSource.isTypeSupported(e),Ge.set(e,t),t):!1}function je(){return!!v.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType}var Ge=new Map;function ot(){}ot.prototype.extract=function(){},ot.prototype.decode=function(){return[]},ot.prototype.clear=function(){},ot.prototype.getStreams=function(){return[]};function At(){}At.prototype.init=function(){},At.prototype.parse=function(){return[]};function Rt(){}function zt(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Dr(e)==Dr(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Me(e);t=Me(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function Dr(e){return e instanceof ArrayBuffer?e:e.buffer}function fn(e){return e instanceof ArrayBuffer?e:e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Me(e,t,n){return n=n===void 0?1/0:n,Pn(e,t===void 0?0:t,n,Uint8Array)}function _s(e,t,n){return n=n===void 0?1/0:n,Pn(e,t===void 0?0:t,n,Uint16Array)}function xt(e,t,n){return n=n===void 0?1/0:n,Pn(e,t===void 0?0:t,n,DataView)}function Pn(e,t,n,r){var i=Dr(e),o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);var s=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,s))),new r(i,e,Math.floor(Math.min(e+Math.max(n,0),s))-e)}ue("shaka.util.BufferUtils",Rt),Rt.toDataView=xt,Rt.toUint16=_s,Rt.toUint8=Me,Rt.toArrayBuffer=fn,Rt.equal=zt;function gi(){}gi.prototype.init=function(){},gi.prototype.i=function(){},gi.prototype.h=function(){},gi.prototype.j=function(){},ue("shaka.media.IClosedCaptionParser",gi);function Dn(e){this.l=new At,(e=yo[e.toLowerCase()])&&(this.l=e()),this.g=new ot,(e=wo)&&(this.g=e())}Dn.prototype.init=function(e){this.l.init(e)},Dn.prototype.i=function(e){e=this.l.parse(e),e=w(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=Me(t.packet);0<n.length&&this.g.extract(n,t.pts)}return this.g.decode()},Dn.prototype.h=function(){this.g.clear()},Dn.prototype.j=function(){return this.g.getStreams()},ue("shaka.media.ClosedCaptionParser",Dn),Dn.findDecoder=function(){return wo},Dn.unregisterDecoder=function(){wo=null},Dn.registerDecoder=function(e){wo=e},Dn.findParser=function(e){return yo[e]},Dn.unregisterParser=function(e){delete yo[e]},Dn.registerParser=function(e,t){yo[e]=t};var yo={},wo=null;function Gp(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function Tr(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function Wp(e,t,n){if(n||(n=Gp),e.length!=t.length)return!1;t=t.slice();var r={};e=w(e);for(var i=e.next();!i.done;r={ae:r.ae},i=e.next()){if(r.ae=i.value,i=t.findIndex(function(o){return function(s){return n(o.ae,s)}}(r)),i==-1)return!1;t[i]=t[t.length-1],t.pop()}return t.length==0}function zc(e,t,n){if(n||(n=Gp),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function at(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Fi,this.position=null,this.positionAlign=na,this.size=0,this.textAlign=zr,this.direction=Ds,this.writingMode=Ns,this.lineInterpretation=ra,this.line=null,this.lineHeight="",this.lineAlign=Ui,this.displayAlign=Ps,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Qp,this.fontStyle=qc,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={Kb:32,rows:15}}function qp(e,t){return e=new at(e,t,""),e.lineBreak=!0,e}at.prototype.clone=function(){var e=new at(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function $c(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!zc(e.nestedCues,t.nestedCues,$c))return!1}else if(n=="region"||n=="cellResolution"){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!zc(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}ue("shaka.text.Cue",at),at.equal=$c,at.prototype.clone=at.prototype.clone;var na="auto";at.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:na};var zr="center",Gc={LEFT:"left",RIGHT:"right",CENTER:zr,START:"start",END:"end"};at.textAlign=Gc;var Ps="after",Xp={BEFORE:"before",CENTER:"center",AFTER:Ps};at.displayAlign=Xp;var Ds="ltr";at.direction={HORIZONTAL_LEFT_TO_RIGHT:Ds,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Ns="horizontal-tb";at.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Ns,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var ra=0;at.lineInterpretation={LINE_NUMBER:ra,PERCENTAGE:1};var Ui="start",Wc={CENTER:"center",START:Ui,END:"end"};at.lineAlign=Wc;var Yp={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};at.defaultTextColor=Yp;var Jp={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};at.defaultTextBackgroundColor=Jp;var Qp=400;at.fontWeight={NORMAL:Qp,BOLD:700};var qc="normal",Zp={NORMAL:qc,ITALIC:"italic",OBLIQUE:"oblique"};at.fontStyle=Zp,at.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function Fi(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Gn,this.scroll=eg}ue("shaka.text.CueRegion",Fi);var Gn=1;Fi.units={PX:0,PERCENTAGE:Gn,LINES:2};var eg="";Fi.scrollMode={NONE:eg,UP:"up"};function mi(){}mi.prototype.destroy=function(){};function $r(e,t,n){Xc[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,Vd:t}}function Bi(e,t){for(var n=e.toLowerCase().split(";")[0],r=w([tg,Jc,Yc,vi]),i=r.next();!i.done;i=r.next())if(i=Xc[n+"-"+i.value]){var o=i.Vd(),s=o.isSupported(e,t);if(o.destroy(),s)return i.Vd}return null}ue("shaka.transmuxer.TransmuxerEngine",mi),mi.findTransmuxer=Bi,mi.unregisterTransmuxer=function(e,t){delete Xc[e.toLowerCase().split(";")[0]+"-"+t]},mi.registerTransmuxer=$r,mi.prototype.destroy=mi.prototype.destroy;var Xc={},vi=1,Yc=2,Jc=3,tg=4;mi.PluginPriority={FALLBACK:vi,PREFERRED_SECONDARY:Yc,PREFERRED:Jc,APPLICATION:tg};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var eS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function _t(e){var t;e instanceof _t?(ia(this,e.ab),this.Wb=e.Wb,oa(this,e.ob),Qc(this,e.nc),this.Ga=e.Ga,Ls(this,e.g.clone()),this.Lb=e.Lb):e&&(t=String(e).match(eS))?(ia(this,t[1]||"",!0),this.Wb=Os(t[2]||""),oa(this,t[3]||"",!0),Qc(this,t[4]),this.Ga=Os(t[5]||"",!0),Ls(this,t[6]||"",!0),this.Lb=Os(t[7]||"")):this.g=new bs(null)}d=_t.prototype,d.ab="",d.Wb="",d.ob="",d.nc=null,d.Ga="",d.Lb="",d.toString=function(){var e=[],t=this.ab;if(t&&e.push(js(t,ng,!0),":"),t=this.ob){e.push("//");var n=this.Wb;n&&e.push(js(n,ng,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.nc,t!=null&&e.push(":",String(t))}return(t=this.Ga)&&(this.ob&&t.charAt(0)!="/"&&e.push("/"),e.push(js(t,t.charAt(0)=="/"?rS:nS,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.Lb)&&e.push("#",js(t,oS)),e.join("")},d.resolve=function(e){var t=this.clone();t.ab==="data"&&(t=new _t);var n=!!e.ab;n?ia(t,e.ab):n=!!e.Wb,n?t.Wb=e.Wb:n=!!e.ob,n?oa(t,e.ob):n=e.nc!=null;var r=e.Ga;if(n)Qc(t,e.nc);else if(n=!!e.Ga){if(r.charAt(0)!="/")if(this.ob&&!this.Ga)r="/"+r;else{var i=t.Ga.lastIndexOf("/");i!=-1&&(r=t.Ga.substr(0,i+1)+r)}if(r==".."||r==".")r="";else if(r.indexOf("./")!=-1||r.indexOf("/.")!=-1){i=r.lastIndexOf("/",0)==0,r=r.split("/");for(var o=[],s=0;s<r.length;){var u=r[s++];u=="."?i&&s==r.length&&o.push(""):u==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),i&&s==r.length&&o.push("")):(o.push(u),i=!0)}r=o.join("/")}}return n?t.Ga=r:n=e.g.toString()!=="",n?Ls(t,e.g.clone()):n=!!e.Lb,n&&(t.Lb=e.Lb),t},d.clone=function(){return new _t(this)};function ia(e,t,n){e.ab=n?Os(t,!0):t,e.ab&&(e.ab=e.ab.replace(/:$/,""))}function oa(e,t,n){e.ob=n?Os(t,!0):t}function Qc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.nc=t}else e.nc=null}function Ls(e,t,n){t instanceof bs?e.g=t:(n||(t=js(t,iS)),e.g=new bs(t))}function Os(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function js(e,t,n){return e!=null?(e=encodeURI(e).replace(t,tS),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tS(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ng=/[#\/\?@]/g,nS=/[#\?:]/g,rS=/[#\?]/g,iS=/[#\?@]/g,oS=/#/g;function bs(e){this.g=e||null}function sa(e){if(!e.xa&&(e.xa={},e.Nc=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),i=i||"",e.add(o,decodeURIComponent(i.replace(/\+/g," ")))}}d=bs.prototype,d.xa=null,d.Nc=null;function rg(e){return sa(e),e.Nc}d.add=function(e,t){sa(this),this.g=null;var n=this.xa.hasOwnProperty(e)?this.xa[e]:null;return n||(this.xa[e]=n=[]),n.push(t),this.Nc++,this},d.set=function(e,t){return sa(this),this.g=null,this.xa.hasOwnProperty(e)?this.xa[e]=[t]:this.add(e,t),this},d.get=function(e){return sa(this),this.xa[e]||[]},d.toString=function(){if(this.g)return this.g;if(!this.xa)return"";var e=[],t;for(t in this.xa)for(var n=encodeURIComponent(t),r=this.xa[t],i=0;i<r.length;i++){var o=n;r[i]!==""&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.g=e.join("&")},d.clone=function(){var e=new bs;if(e.g=this.g,this.xa){var t={},n;for(n in this.xa)t[n]=this.xa[n].concat();e.xa=t,e.Nc=this.Nc}return e};function P(e,t,n){var r=Mt.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}P.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},ue("shaka.util.Error",P),P.Severity={RECOVERABLE:1,CRITICAL:2},P.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},P.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_CODEC_UNKNOWN:3021,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005};function tn(e,t){if(t.length==0)return e;if(e.length==1&&t.length==1){var n=new _t(e[0]);return t=new _t(t[0]),[n.resolve(t).toString()]}t=t.map(function(s){return new _t(s)}),n=[],e=w(e);for(var r=e.next();!r.done;r=e.next()){r=new _t(r.value);for(var i=w(t),o=i.next();!o.done;o=i.next())n.push(r.resolve(o.value).toString())}return n}function yi(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function To(e,t){if(t.length==1)return t[0];if(e=Tn(e,t),e!=null)return e;throw new P(2,4,4025,t)}function Tn(e,t){for(var n=w(sS[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=w(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return e==ze?"":null}var ze="text",Vt={$:"video",P:"audio",na:ze,he:"image",fi:"application"},sS={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function Zc(){}function Nn(e,t){var n=e;return t&&!Eo.includes(e)&&(n+='; codecs="'+t+'"'),n}function xo(e,t){return t&&(e+='; codecs="'+t+'"'),e}function So(e,t,n){var r=Nn(e,t);return t=xo(e,t),Bi(t)?(e=Bi(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?r.replace("video","audio"):r,n}function ur(e){var t=ig(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):return"ac-3";case(e==="mp4a"&&t==="a6"):return"ec-3";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="dvh1":case e==="dvhe":return"dovi"}return e}function xr(e){var t=[];e=w(e.split(","));for(var n=e.next();!n.done;n=e.next())n=ig(n.value),t.push(n[0]);return t.sort().join(",")}function Gr(e){return e.split(";")[0]}function ar(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function ig(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}ue("shaka.util.MimeUtils",Zc),Zc.getFullTypeWithAllCodecs=xo,Zc.getFullType=Nn,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var Eo=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Wr(e){this.i=null,this.j=e,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.A="",this.o=new Map}function ua(e){return $t[e]?!0:e=="application/cea-608"||e=="application/cea-708"?!!wo:!1}Wr.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function uS(e,t,n,r,i){var o,s,u,l;return O(function(c){if(c.g==1)return I(c,Promise.resolve(),2);if(!e.i||!e.j)return c.return();if(n==null||r==null)return e.i.parseInit(Me(t)),c.return();o=e.u?n:e.s,s={periodStart:e.s,segmentStart:n,segmentEnd:r,vttOffset:o},u=e.i.parseMedia(Me(t),s,i),l=u.filter(function(h){return h.startTime>=e.l&&h.startTime<e.m}),e.j.append(l),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),J(c)})}Wr.prototype.remove=function(e,t){var n=this;return O(function(r){if(r.g==1)return I(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),J(r)})};function aS(e,t,n){e.l=t,e.m=n}function og(e,t,n){if(e.A=t,t=e.o.get(t))for(var r=w(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter(function(o){return o.endTime<=n}))&&e.j.append(i)}function sg(e,t,n){t.startTime+=n,t.endTime+=n,t=w(t.nestedCues);for(var r=t.next();!r.done;r=t.next())sg(e,r.value,n)}function lS(e,t,n,r,i){var o=n+" "+r,s=new Map;t=w(t);for(var u=t.next();!u.done;u=t.next()){var l=u.value;u=l.stream,l=l.cue,s.has(u)||s.set(u,new Map),s.get(u).has(o)||s.get(u).set(o,[]),sg(e,l,i),l.startTime>=e.l&&l.startTime<e.m&&(s.get(u).get(o).push(l),u==e.A&&e.j.append([l]))}for(i=w(s.keys()),o=i.next();!o.done;o=i.next())for(o=o.value,e.o.has(o)||e.o.set(o,new Map),t=w(s.get(o).keys()),u=t.next();!u.done;u=t.next())u=u.value,l=s.get(o).get(u),e.o.get(o).set(u,l);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}ue("shaka.text.TextEngine",Wr),Wr.prototype.destroy=Wr.prototype.destroy,Wr.findParser=function(e){return $t[e]},Wr.unregisterParser=function(e){delete $t[e]},Wr.registerParser=function(e,t){$t[e]=t};var $t={};function cS(e,t){return e.concat(t)}function ug(){}function Ao(e){return e!=null}function lr(){}function aa(e,t){return e=Je(e),t=Je(t),e.split("-")[0]==t.split("-")[0]}function Us(e,t){return e=Je(e),t=Je(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function ef(e,t){return e=Je(e),t=Je(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function Je(e){e=w(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=w(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=ag.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function Vi(e,t){return e=Je(e),t=Je(t),t==e?4:Us(t,e)?3:ef(t,e)?2:Us(e,t)?1:0}function tf(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=ag.get(e)||e}function nf(e){return e.language?Je(e.language):e.audio&&e.audio.language?Je(e.audio.language):e.video&&e.video.language?Je(e.video.language):"und"}function la(e,t){e=Je(e);var n=new Set,r=w(t);for(t=r.next();!t.done;t=r.next())n.add(Je(t.value));for(r=w(n),t=r.next();!t.done;t=r.next())if(t=t.value,t==e)return t;for(r=w(n),t=r.next();!t.done;t=r.next())if(t=t.value,Us(t,e))return t;for(r=w(n),t=r.next();!t.done;t=r.next())if(t=t.value,ef(t,e))return t;for(n=w(n),t=n.next();!t.done;t=n.next())if(t=t.value,Us(e,t))return t;return null}ue("shaka.util.LanguageUtils",lr),lr.findClosestLocale=la,lr.getLocaleForVariant=nf,lr.getLocaleForText=function(e){return Je(e.language||"und")},lr.getBase=tf,lr.relatedness=Vi,lr.areSiblings=function(e,t){var n=tf(e),r=tf(t);return e!=n&&t!=r&&n==r},lr.normalize=Je,lr.isSiblingOf=ef,lr.isParentOf=Us,lr.areLanguageCompatible=aa,lr.areLocaleCompatible=function(e,t){return e=Je(e),t=Je(t),e==t};var ag=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function ca(){this.g={}}d=ca.prototype,d.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},d.get=function(e){return(e=this.g[e])?e.slice():null},d.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])},d.forEach=function(e){for(var t in this.g)e(t,this.g[t])},d.size=function(){return Object.keys(this.g).length},d.keys=function(){return Object.keys(this.g)};function Hi(e){function t(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||r.buffer&&r.buffer.constructor==ArrayBuffer)return r;if(n.has(r))return null;var i=r.constructor==Array;if(r.constructor!=Object&&!i)return null;n.add(r);var o=i?[]:{},s;for(s in r)o[s]=t(r[s]);return i&&(o.length=r.length),o}}var n=new WeakSet;return t(e)}function lg(e){var t={},n;for(n in e)t[n]=e[n];return t}function Fs(e){this.h=e,this.g=null}Fs.prototype.U=function(e){var t=this;this.stop();var n=!0,r=null;return this.g=function(){v.clearTimeout(r),n=!1},r=v.setTimeout(function(){n&&t.h()},1e3*e),this},Fs.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function Ve(e){this.h=e,this.g=null}Ve.prototype.qc=function(){return this.stop(),this.h(),this},Ve.prototype.U=function(e){var t=this;return this.stop(),this.g=new Fs(function(){t.h()}).U(e),this},Ve.prototype.$a=function(e){var t=this;return this.stop(),this.g=new Fs(function(){t.g.U(e),t.h()}).U(e),this},Ve.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},ue("shaka.util.Timer",Ve),Ve.prototype.stop=Ve.prototype.stop,Ve.prototype.tickEvery=Ve.prototype.$a,Ve.prototype.tickAfter=Ve.prototype.U,Ve.prototype.tickNow=Ve.prototype.qc;function Sr(){var e=v.ManagedMediaSource||v.MediaSource;return!!(e&&e.isTypeSupported)}function Bs(e){return cg().canPlayType(e)!=""}function rf(){return!!navigator.userAgent.match(/Edge?\//)}function Vs(){return Tt("Xbox One")}function Ki(){return Tt("Tizen")}function fa(){return Tt("Tizen 3")}function ha(){return Tt("Tizen 2")}function of(){return Tt("Web0S")&&Tt("Chrome/38.0.2125.122 Safari/537.36")}function Io(){return Tt("CrKey")}function da(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Ki()&&!Tt("PC=EOS")&&!Tt("PC=APL")&&!Tt("VirginMedia")&&!Tt("SOPOpenBrowser")&&!Co()&&!Tt("AFT")&&!Tt("WPE")}function Co(){return Tt("PlayStation 4")}function pa(){if(!da())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Tt(e){return(navigator.userAgent||"").includes(e)}function cg(){return Mo||(sf||(sf=new Ve(function(){Mo=null})),(Mo=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Mo=document.createElement("video")),sf.U(1),Mo)}var sf=null,Mo=null;function fg(){}function hg(e,t,n,r){var i=e.variants;if((t.length||n.length)&&(i=fS(i,t,n)),r.length){for(t=new ca,n=w(i),i=n.next();!i.done;i=n.next())i=i.value,t.push(String(i.video.width||0),i);var o=[];t.forEach(function(S,E){S=0;var C=[],k={};E=w(E);for(var M=E.next();!M.done;k={Gc:k.Gc},M=E.next())k.Gc=M.value,M=r.filter(function(_){return function(R){return _.Gc.decodingInfos[0][R]}}(k)).length,M>S?(S=M,C=[k.Gc]):M==S&&C.push(k.Gc);o.push.apply(o,U(C))}),i=o}n=new Set,t=new Set;var s=w(i);for(i=s.next();!i.done;i=s.next())i=i.value,i.audio&&n.add(i.audio),i.video&&t.add(i.video);n=Array.from(n).sort(function(S,E){return S.bandwidth-E.bandwidth});var u=[];for(i=new Map,n=w(n),s=n.next();!s.done;s=n.next()){s=s.value;var l=s.language+(s.channelsCount||0)+(s.audioSamplingRate||0)+s.roles.join(",")+s.label+s.groupId+s.fastSwitching,c=i.get(l)||[];if(c.length){var h=c[c.length-1],m=ur(h.codecs),T=ur(s.codecs);m==T&&s.bandwidth>h.bandwidth&&(c.push(s),u.push(s.id))}else c.push(s),u.push(s.id);i.set(l,c)}n=Array.from(t).sort(function(S,E){return S.bandwidth&&E.bandwidth?S.bandwidth-E.bandwidth:S.width-E.width}),t=je();var y=[];for(i=new Map,n=w(n),s=n.next();!s.done;s=n.next()){if(s=s.value,l=Math.round(s.frameRate||0)+(s.hdr||"")+s.fastSwitching,c=i.get(l)||[],c.length){if(h=c[c.length-1],!t&&(m=ur(h.codecs),T=ur(s.codecs),m!==T))continue;s.width>h.width||s.height>h.height?(c.push(s),y.push(s.id)):s.width==h.width&&s.height==h.height&&(m=ur(h.codecs),T=ur(s.codecs),m==T&&s.bandwidth>h.bandwidth&&(c.push(s),y.push(s.id)))}else c.push(s),y.push(s.id);i.set(l,c)}e.variants=e.variants.filter(function(S){var E=S.audio;return S=S.video,!(E&&!u.includes(E.id)||S&&!y.includes(S.id))})}function fS(e,t,n){var r={};t=w(t);for(var i=t.next();!i.done;r={ge:r.ge},i=t.next())if(r.ge=i.value,i=e.filter(function(o){return function(s){return s.video&&s.video.codecs.startsWith(o.ge)}}(r)),i.length){e=i;break}for(r={},n=w(n),t=n.next();!t.done;r={$d:r.$d},t=n.next())if(r.$d=t.value,t=e.filter(function(o){return function(s){return s.audio&&s.audio.codecs.startsWith(o.$d)}}(r)),t.length){e=t;break}return e}function hS(e,t,n){e.variants=e.variants.filter(function(r){return ga(r,t,n)})}function ga(e,t,n){function r(o,s,u){return o>=s&&o<=u}var i=e.video;return!(i&&i.width&&i.height&&(!r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))||!r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function dg(e,t,n){var r=!1;e=w(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var o=i.allowedByApplication;i.allowedByApplication=ga(i,t,n),o!=i.allowedByApplication&&(r=!0)}return r}function dS(e,t){return O(function(n){return n.g==1?I(n,pg(e,t,0<t.offlineSessionIds.length),2):(gS(t),I(n,mS(t),0))})}function pg(e,t,n){var r,i,o,s,u;return O(function(l){if(l.g==1)return I(l,vg(t.variants,n,!1,[]),2);r=null,e&&(i=e.g)&&(r=i.keySystem),o=Vt,s=Vs(),u=Tt("Firefox")&&Tt("Android"),t.variants=t.variants.filter(function(c){var h=c.video,m=h&&h.width||0,T=h&&h.height||0;if(s&&h&&(1920<m||1080<T)&&(h.codecs.includes("avc1.")||h.codecs.includes("avc3.")))return ff(c),!1;if(h){if(m=va(h.codecs),h.codecs.includes(",")){T=h.codecs.split(","),m=To(o.$,T),m=va(m),T=To(o.P,T),T=ma(T);var y=So(h.mimeType,T,o.P);if(!ge(y))return!1;m=[m,T].join()}if(T=So(h.mimeType,m,o.$),!ge(T))return!1;h.codecs=m}if(h=c.audio,u&&h&&h.encrypted&&h.codecs.toLowerCase().includes("opus"))return ff(c),!1;if(h){if(m=ma(h.codecs),T=So(h.mimeType,m,o.P),!ge(T))return!1;h.codecs=m}return(h=c.decodingInfos.some(function(S){return!(!S.supported||r&&(S=S.keySystemAccess)&&S.keySystem!=r)}))||(ff(c),void 0),h}),J(l)})}function gg(e){var t=[];for(n in e)t.push(n);t.sort();var n=[];t=w(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=JSON.stringify(i),i=e[i],i instanceof Object?(i=gg(i),n.push(r+":"+i)):(i=JSON.stringify(i),n.push(r+":"+i))}return"{"+n.join(",")+"}"}function mg(e,t){var n,r,i,o,s,u,l;return O(function(c){if(c.g==1)return n=gg(t),r=yS,r[n]?(e.decodingInfos.push(r[n]),c.B(0)):I(c,pS(t),3);if((i=c.h)&&i.length){for(o=null,s=w(i),u=s.next();!u.done;u=s.next())l=u.value,o?(o.supported=o.supported&&l.supported,o.powerEfficient=o.powerEfficient&&l.powerEfficient,o.smooth=o.smooth&&l.smooth,l.keySystemAccess||(o.keySystemAccess=null)):o=l;o&&(r[n]=o,e.decodingInfos.push(o))}J(c)})}function pS(e){var t=[""];e.video&&(t=ar(e.video.contentType).split(","));var n=[""];e.audio&&(n=ar(e.audio.contentType).split(","));var r=[];t=w(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;for(var o={},s=w(n),u=s.next();!u.done;o={Gb:o.Gb},u=s.next())u=u.value,o.Gb=Hi(e),e.video&&(o.Gb.video.contentType=Nn(Gr(o.Gb.video.contentType),i)),e.audio&&(o.Gb.audio.contentType=Nn(Gr(o.Gb.audio.contentType),u)),r.push(new Promise(function(l){return function(c,h){navigator.mediaCapabilities.decodingInfo(l.Gb).then(function(m){c(m)}).catch(h)}}(o)))}return Promise.all(r).catch(function(){return JSON.stringify(e),null})}function vg(e,t,n,r){var i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){switch(R.g){case 1:if(e.some(function(L){return L.decodingInfos.length}))return R.return();i={},o=w(r),s=o.next();case 2:if(s.done){R.B(4);break}i.be=s.value,u=!1,l=w(e),c=l.next();case 5:if(c.done){R.B(7);break}h=c.value,m=yg(h,t,n).filter(function(L){return function(j){return(j.keySystemConfiguration&&j.keySystemConfiguration.keySystem)===L.be}}(i)),T=w(m),y=T.next();case 8:if(y.done){R.B(10);break}return S=y.value,I(R,mg(h,S),9);case 9:y=T.next(),R.B(8);break;case 10:h.decodingInfos.length&&(u=!0),c=l.next(),R.B(5);break;case 7:if(u)return R.return();i={be:i.be},s=o.next(),R.B(2);break;case 4:E=w(e),c=E.next();case 12:if(c.done){R.B(0);break}C=c.value,k=yg(C,t,n).filter(function(L){return L=L.keySystemConfiguration&&L.keySystemConfiguration.keySystem,!L||!r.includes(L)}),M=w(k),y=M.next();case 15:if(y.done){c=E.next(),R.B(12);break}return _=y.value,I(R,mg(C,_),16);case 16:y=M.next(),R.B(15)}})}function yg(e,t,n){var r=e.audio,i=e.video;if(n={type:n?"file":"media-source"},i){var o=i.codecs;if(i.codecs.includes(",")){var s=i.codecs.split(",");o=To("video",s),o=va(o),s=To("audio",s),s=ma(s),s=So(i.mimeType,s,"audio"),n.audio={contentType:s,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(o=va(o),o=So(i.mimeType,o,"video"),n.video={contentType:o,width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(r&&(o=ma(r.codecs),o=So(r.mimeType,o,"audio"),n.audio={contentType:o,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio}),s=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!s.length)return[n];e=[],o=new Map,s=w(s);for(var u=s.next();!u.done;u=s.next()){var l=u.value;o.get(l.keySystem)||o.set(l.keySystem,[]),o.get(l.keySystem).push(l)}s=t?"required":"optional",t=t?["persistent-license"]:["temporary"],l=w(o.keys());for(var c=l.next();!c.done;c=l.next()){var h=c.value;c=Object.assign({},n);var m=o.get(h);for(h={keySystem:h,initDataType:"cenc",persistentState:s,distinctiveIdentifier:"optional",sessionTypes:t},m=w(m),u=m.next();!u.done;u=m.next()){if(u=u.value,u.initData&&u.initData.length){for(var T=new Set,y=w(u.initData),S=y.next();!S.done;S=y.next())T.add(S.value.initDataType);h.initDataType=u.initData[0].initDataType}u.distinctiveIdentifierRequired&&(h.distinctiveIdentifier="required"),u.persistentStateRequired&&(h.persistentState="required"),u.sessionType&&(h.sessionTypes=[u.sessionType]),r&&(u.audioRobustness!=""?h.audio?h.audio.robustness=h.audio.robustness||u.audioRobustness:h.audio={robustness:u.audioRobustness}:h.audio||(h.audio={})),i&&(u.videoRobustness!=""?h.video?h.video.robustness=h.video.robustness||u.videoRobustness:h.video={robustness:u.videoRobustness}:h.video||(h.video={}))}c.keySystemConfiguration=h,e.push(c)}return e}function ma(e){return e!=="fLaC"||pa()?e==="Opus"?"opus":e:"flac"}function va(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function gS(e){e.textStreams=e.textStreams.filter(function(t){return t=Nn(t.mimeType,t.codecs),ua(t)})}function mS(e){var t,n,r,i,o,s,u;return O(function(l){switch(l.g){case 1:t=[],n=w(e.imageStreams),r=n.next();case 2:if(r.done){l.B(4);break}if(i=r.value,o=i.mimeType,o=="application/mp4"&&i.codecs=="mjpg"&&(o="image/jpg"),Ta.has(o)){l.B(5);break}if(s=TS.get(o),!s){Ta.set(o,!1),l.B(5);break}return I(l,vS(s),7);case 7:u=l.h,Ta.set(o,u);case 5:Ta.get(o)&&t.push(i),r=n.next(),l.B(2);break;case 4:e.imageStreams=t,J(l)}})}function vS(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function ko(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,o=t?t.codecs:null,s=n?n.codecs:null,u=[];s&&u.push(s),o&&u.push(o);var l=[];n&&l.push(n.mimeType),t&&l.push(t.mimeType),l=l[0]||null;var c=[];t&&c.push(t.kind),n&&c.push(n.kind),c=c[0]||null;var h=new Set;if(t)for(var m=w(t.roles),T=m.next();!T.done;T=m.next())h.add(T.value);if(n)for(m=w(n.roles),T=m.next();!T.done;T=m.next())h.add(T.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:c,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:l,audioMimeType:r,videoMimeType:i,codecs:u.join(", "),audioCodec:o,videoCodec:s,primary:e.primary,roles:Array.from(h),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.videoLayout=n.videoLayout||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function ya(e){return{id:e.id,active:!1,type:ze,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function uf(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=e.segmentIndex.get(0));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&t!=null&&(t/=Number(i.split("x")[0])),i&&n!=null&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function af(e){return e.__shaka_id||(e.__shaka_id=wS++),e.__shaka_id}function wg(e){var t=Tg(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="application/cea-608"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function lf(e){var t=Tg(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Tg(e){var t=e.language;return{id:af(e),active:!1,type:"",bandwidth:0,language:Je(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function wa(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function cf(e){return e.filter(function(t){return wa(t)})}function Hs(e,t,n,r){var i=e,o=e.filter(function(l){return l.primary});o.length&&(i=o);var s=i.length?i[0].language:"";if(i=i.filter(function(l){return l.language==s}),t){var u=la(Je(t),e.map(function(l){return l.language}));u&&(i=e.filter(function(l){return Je(l.language)==u}))}if(i=i.filter(function(l){return l.forced==r}),n){if(e=xg(i,n),e.length)return e}else if(e=i.filter(function(l){return l.roles.length==0}),e.length)return e;return e=i.map(function(l){return l.roles}).reduce(cS,[]),e.length?xg(i,e[0]):i}function xg(e,t){return e.filter(function(n){return n.roles.includes(t)})}function ff(e){var t=[];return e.audio&&t.push(Sg(e.audio)),e.video&&t.push(Sg(e.video)),t.join(", ")}function Sg(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}ue("shaka.util.StreamUtils",fg),fg.meetsRestrictions=ga;var yS={},wS=0,Ta=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),TS=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function dt(){var e=this;this.s=null,this.o=!1,this.i=new q,this.A=null,navigator.connection&&navigator.connection.addEventListener&&(this.A=function(){if(e.o&&e.g.useNetworkInformation){e.i=new q,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.s(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}},navigator.connection.addEventListener("change",this.A)),this.m=[],this.C=1,this.G=!1,this.h=this.l=this.g=this.u=null,this.F=new Ve(function(){if(e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.s(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.j=null}d=dt.prototype,d.stop=function(){this.s=null,this.o=!1,this.m=[],this.C=1,this.l=this.u=null,this.h&&(this.h.disconnect(),this.h=null),this.F.stop(),this.j=null},d.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.A),this.A=null),this.F=null},d.init=function(e){this.s=e},d.chooseVariant=function(e){e=e===void 0?!1:e;var t=1/0,n=1/0;if(this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:v.devicePixelRatio,t=v.screen.height*n,n*=v.screen.width),this.h&&this.g.restrictToElementSize){var r=this.g.ignoreDevicePixelRatio?1:v.devicePixelRatio;t=Math.min(t,this.l.clientHeight*r),n=Math.min(n,this.l.clientWidth*r)}var i=this.m.filter(function(c){return!(c.audio&&c.audio.fastSwitching||c.video&&c.video.fastSwitching)});if(i.length||(i=this.m),r=i,e&&i.length!=this.m.length&&(r=this.m.filter(function(c){return!!(c.audio&&c.audio.fastSwitching||c.video&&c.video.fastSwitching)})),e=hf(this,this.g.restrictions,r,1/0,1/0),t!=1/0||n!=1/0){for(e=xS(e),e=w(e),i=e.next();!i.done;i=e.next())if(i=i.value,i.height>=t&&i.width>=n){t=i.height,n=i.width;break}e=hf(this,this.g.restrictions,r,t,n)}for(t=this.getBandwidthEstimate(),r.length&&!e.length&&(e=hf(this,null,r,1/0,1/0),e=[e[0]]),n=e[0]||null,r=0;r<e.length;r++){i=e[r];for(var o=isNaN(this.C)?1:Math.abs(this.C),s=o*i.bandwidth/this.g.bandwidthDowngradeTarget,u={bandwidth:1/0},l=r+1;l<e.length;l++)if(i.bandwidth!=e[l].bandwidth){u=e[l];break}o=o*u.bandwidth/this.g.bandwidthUpgradeTarget,t>=s&&t<=o&&n.bandwidth!=i.bandwidth&&(n=i)}return this.u=Date.now(),n},d.enable=function(){this.o=!0},d.disable=function(){this.o=!1},d.segmentDownloaded=function(e,t,n){this.i.sample(e,t),n&&this.u!=null&&this.o&&Eg(this)},d.trySuggestStreams=function(){this.u!=null&&this.o&&Eg(this)},d.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),e=this.i.getBandwidthEstimate(e),this.j?this.j.getBandwidthEstimate(e):e},d.setVariants=function(e){this.m=e},d.playbackRateChanged=function(e){this.C=e},d.setMediaElement=function(e){var t=this;this.l=e,this.h&&(this.h.disconnect(),this.h=null),this.l&&"ResizeObserver"in v&&(this.h=new ResizeObserver(function(){t.F.U(SS)}),this.h.observe(this.l))},d.setCmsdManager=function(e){this.j=e},d.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)};function Eg(e){if(e.G){if(Date.now()-e.u<1e3*e.g.switchInterval)return}else{var t=e.i;if(!(t.g>=t.i))return;e.G=!0}t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.s(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}function hf(e,t,n,r,i){if(e.j){var o=e.j.Rf();o&&(n=n.filter(function(s){return s.bandwidth&&o?s.bandwidth<=o:!0}))}return t&&(n=n.filter(function(s){return ga(s,t,{width:i,height:r})})),n.sort(function(s,u){return s.bandwidth-u.bandwidth})}function xS(e){var t=[];e=w(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(r,i){return r.width-i.width})}ue("shaka.abr.SimpleAbrManager",dt),dt.prototype.configure=dt.prototype.configure,dt.prototype.setCmsdManager=dt.prototype.setCmsdManager,dt.prototype.setMediaElement=dt.prototype.setMediaElement,dt.prototype.playbackRateChanged=dt.prototype.playbackRateChanged,dt.prototype.setVariants=dt.prototype.setVariants,dt.prototype.getBandwidthEstimate=dt.prototype.getBandwidthEstimate,dt.prototype.trySuggestStreams=dt.prototype.trySuggestStreams,dt.prototype.segmentDownloaded=dt.prototype.segmentDownloaded,dt.prototype.disable=dt.prototype.disable,dt.prototype.enable=dt.prototype.enable,dt.prototype.chooseVariant=dt.prototype.chooseVariant,dt.prototype.init=dt.prototype.init,dt.prototype.release=dt.prototype.release,dt.prototype.stop=dt.prototype.stop;var SS=1;function df(e,t){this.g=e,this.h=t}df.prototype.toString=function(){return"v"+this.g+"."+this.h};function cr(e,t){var n=new df(5,0),r=Ag,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,e,t)}function ES(e,t,n,r){X([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function AS(e,t,n,r){Z([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}var Ag=null;ue("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),ue("shaka.config.CodecSwitchingStrategy",{Hi:"reload",yg:"smooth"});function xa(e,t,n,r){for(n=n===void 0?!0:n,r=r===void 0?!1:r,this.h=e,this.g=new Set([e]),t=t||[],e=w(t),t=e.next();!t.done;t=e.next())this.add(t.value,n,r)}xa.prototype.add=function(e,t,n){return Ig(this.h,e,t===void 0?!0:t,n===void 0?!1:n)?(this.g.add(e),!0):!1};function Ig(e,t,n,r){var i;if(!(i=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(i=e.audio&&t.audio)){i=e.audio;var o=t.audio;i=!!((!i.channelsCount||!o.channelsCount||2<i.channelsCount||2<o.channelsCount)&&i.channelsCount!=o.channelsCount||n&&!Cg(i,o)||!Mg(i.roles,o.roles)||r&&i.groupId!==o.groupId)}return!(r=i)&&(r=e.video&&t.video)&&(e=e.video,t=t.video,r=!((!n||Cg(e,t))&&Mg(e.roles,t.roles))),!r}xa.prototype.values=function(){return this.g.values()};function Cg(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(r){return xr(r)}),t=t.codecs.split(",").map(function(r){return xr(r)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Mg(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=w(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function kg(e,t,n){t=t===void 0?"reload":t,n=n===void 0?!1:n,this.i=e,this.h=t,this.g=n,this.j=new Ro(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"",!1,"","","",t,n)}kg.prototype.create=function(e){var t=this,n=this.h=="smooth"&&je(),r=e.filter(function(i){return Ig(t.i,i,!n,t.g)});return r.length?new xa(r[0],r,!n,this.g):this.j.create(e)};function Ro(e,t,n,r,i,o,s,u,l,c){this.s=e,this.u=t,this.h=n,this.i=r,this.A=i,this.l=o,this.g=s===void 0?"":s,this.j=u===void 0?"":u,this.m=l===void 0?"reload":l,this.o=c===void 0?!1:c}Ro.prototype.create=function(e){var t=[];t=IS(e,this.s);var n=e.filter(function(r){return r.primary});return t=t.length?t:n.length?n:e,e=CS(t,this.u),e.length&&(t=e),this.l&&(e=PS(t,this.l),e.length&&(t=e)),this.i&&(e=_S(t,this.i),e.length&&(t=e)),this.h&&(e=RS(t,this.h),e.length&&(t=e)),this.g&&(e=MS(t,this.g),e.length&&(t=e)),this.j&&(e=kS(t,this.j),e.length&&(t=e)),e=DS(t,this.A),e.length&&(t=e),new xa(t[0],t,!(this.m=="smooth"&&je()),this.o)};function IS(e,t){t=Je(t);var n=la(t,e.map(function(r){return nf(r)}));return n?e.filter(function(r){return n==nf(r)}):[]}function CS(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function MS(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function kS(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function RS(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount!=t)})}function _S(e,t){return t=="AUTO"&&(t=v.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function PS(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function DS(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function NS(){this.g=Sa,this.h=new Map().set(Sa,2).set(_o,1)}function Rg(e,t,n){e.h.set(Sa,n).set(_o,t)}var _o=0,Sa=1;function _g(e,t){var n=Nr();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.o=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function Pg(e){var t,n;return O(function(r){if(r.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new P(2,7,1010);return t=e.g,e.g++,t==0?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),I(r,new Promise(function(i){new Ve(i).U(n/1e3)}),2))}e.h*=e.m,J(r)})}function Nr(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function pt(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}pt.prototype.resolve=function(){},pt.prototype.reject=function(){};function kt(e,t){this.promise=e,this.i=t,this.g=!1}function zi(e){return new kt(Promise.reject(e),function(){return Promise.resolve()})}function pf(){var e=Promise.reject(new P(2,7,7001));return e.catch(function(){}),new kt(e,function(){return Promise.resolve()})}function Po(e){return new kt(Promise.resolve(e),function(){return Promise.resolve()})}function Dg(e){return new kt(e,function(){return e.catch(function(){})})}kt.prototype.abort=function(){return this.g=!0,this.i()};function Ng(e){return new kt(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}kt.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},kt.prototype.pa=function(e,t){function n(u){return function(l){if(i.g&&u)o.reject(s);else{var c=u?e:t;c?r=LS(c,l,o):(u?o.resolve:o.reject)(l)}}}function r(){return o.reject(s),i.abort()}var i=this,o=new pt,s=new P(2,7,7001);return this.promise.then(n(!0),n(!1)),new kt(o,function(){return r()})};function LS(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){},function(){})})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}ue("shaka.util.AbortableOperation",kt),kt.prototype.chain=kt.prototype.pa,kt.prototype.finally=kt.prototype.finally,kt.all=Ng,kt.prototype.abort=kt.prototype.abort,kt.notAbortable=Dg,kt.completed=Po,kt.aborted=pf,kt.failed=zi;function Ee(e,t){if(t)if(t instanceof Map)for(var n=w(t.keys()),r=n.next();!r.done;r=n.next())r=r.value,Object.defineProperty(this,r,{value:t.get(r),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=v.performance&&v.performance.now?v.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Lg(e){var t=new Ee(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}Ee.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Ee.prototype.stopImmediatePropagation=function(){this.g=!0},Ee.prototype.stopPropagation=function(){},ue("shaka.util.FakeEvent",Ee);var Ea={hi:"abrstatuschanged",ii:"adaptation",ji:"buffering",ki:"complete",li:"downloadfailed",mi:"downloadheadersreceived",ni:"drmsessionupdate",pi:"emsg",Gi:"prft",Error:"error",ri:"expirationupdated",si:"firstquartile",ti:"gapjumped",wi:"keystatuschanged",yi:"loaded",zi:"loading",Bi:"manifestparsed",Ci:"manifestupdated",Di:"mediaqualitychanged",Metadata:"metadata",Ei:"midpoint",Fi:"onstatechange",Ii:"ratechange",Ji:"segmentappended",Ki:"sessiondata",Li:"stalldetected",Mi:"started",Ni:"statechanged",Oi:"streaming",Pi:"textchanged",Qi:"texttrackvisibility",Ri:"thirdquartile",Si:"timelineregionadded",Ti:"timelineregionenter",Ui:"timelineregionexit",Vi:"trackschanged",Xi:"unloading",Zi:"variantchanged"};function Qe(){this.ka=new ca,this.zd=this}Qe.prototype.addEventListener=function(e,t){this.ka&&this.ka.push(e,t)},Qe.prototype.removeEventListener=function(e,t){this.ka&&this.ka.remove(e,t)},Qe.prototype.dispatchEvent=function(e){if(!this.ka)return!0;var t=this.ka.get(e.type)||[],n=this.ka.get("All");for(n&&(t=t.concat(n)),t=w(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.zd,e.currentTarget=this.zd;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},Qe.prototype.release=function(){this.ka=null};function Do(){this.g=[]}function $i(e,t){e.g.push(t.finally(function(){Tr(e.g,t)}))}Do.prototype.destroy=function(){for(var e=[],t=w(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function ft(e,t,n,r,i){Qe.call(this),this.i=!1,this.m=new Do,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.s=n||null,this.u=r||null,this.A=i||null,this.o=!1}Pe(ft,Qe),d=ft.prototype,d.nf=function(e){this.o=e};function qr(e,t,n,r){n=n||Ug;var i=Ia[e];(!i||n>=i.priority)&&(Ia[e]={priority:n,Vd:t,Ih:r===void 0?!1:r})}d.Jh=function(e){this.g.add(e)},d.bi=function(e){this.g.delete(e)},d.Hg=function(){this.g.clear()},d.Kh=function(e){this.h.add(e)},d.ci=function(e){this.h.delete(e)},d.Ig=function(){this.h.clear()};function Gt(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}d.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),Qe.prototype.release.call(this),this.m.destroy()},d.request=function(e,t,n){var r=this,i=new bg;if(this.i){var o=Promise.reject(new P(2,7,7001));return o.catch(function(){}),new Aa(o,function(){return Promise.resolve()},i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Hi(t.retryParameters):Nr(),t.uris=Hi(t.uris),o=OS(this,e,t,n);var s=o.pa(function(){return Og(r,e,t,n,new _g(t.retryParameters,!1),0,null,i)}),u=s.pa(function(T){return jS(r,e,T,n)}),l=Date.now(),c=0;o.promise.then(function(){c=Date.now()-l},function(){});var h=0;s.promise.then(function(){h=Date.now()},function(){});var m=u.pa(function(T){var y=Date.now()-h,S=T.response;return S.timeMs+=c,S.timeMs+=y,T.qh||!r.l||S.fromCache||t.method=="HEAD"||e!=Lr||r.l(S.timeMs,S.data.byteLength,jg(n)),S},function(T){throw T&&(T.severity=2),T});return o=new Aa(m.promise,function(){return m.abort()},i),$i(this.m,o),o};function OS(e,t,n,r){function i(u){o=o.pa(function(){return n.body&&(n.body=fn(n.body)),u(t,n,r)})}var o=Po(void 0);e.u&&i(e.u),e=w(e.g);for(var s=e.next();!s.done;s=e.next())i(s.value);return o.pa(void 0,function(u){throw u instanceof P&&u.code==7001?u:new P(2,1,1006,u)})}function Og(e,t,n,r,i,o,s,u){e.o&&(n.uris[o]=n.uris[o].replace("http://","https://")),0<o&&e.A&&e.A(t,r,n.uris[o],n.uris[o-1]);var l=new _t(n.uris[o]),c=l.ab,h=!1;c||(c=location.protocol,c=c.slice(0,-1),ia(l,c),n.uris[o]=l.toString()),c=c.toLowerCase();var m=(c=Ia[c])?c.Vd:null;if(!m)return zi(new P(2,1,1e3,l));var T=c.Ih,y=null,S=null,E=!1,C=!1,k;return Dg(Pg(i)).pa(function(){if(e.i)return pf();k=Date.now();var M=m(n.uris[o],n,t,function(L,j,$){y&&y.stop(),S&&S.U(R/1e3),e.l&&t==Lr&&(e.l(L,j,jg(r)),h=!0,u.g=$)},function(L){e.j&&e.j(L,n,t),C=!0});if(!T)return M;var _=n.retryParameters.connectionTimeout;_&&(y=new Ve(function(){E=!0,M.abort()}),y.U(_/1e3));var R=n.retryParameters.stallTimeout;return R&&(S=new Ve(function(){E=!0,M.abort()})),M}).pa(function(M){y&&y.stop(),S&&S.stop(),M.timeMs==null&&(M.timeMs=Date.now()-k);var _={response:M,qh:h};return!C&&e.j&&e.j(M.headers,n,t),_},function(M){if(y&&y.stop(),S&&S.stop(),e.s){var _=null,R=0;M instanceof P&&(_=M,M.code==1001&&(R=M.data[1])),e.s(n,_,R,E)}if(e.i)return pf();if(E&&(M=new P(1,1,1003,n.uris[o],t)),M instanceof P){if(M.code==7001)throw M;if(M.code==1010)throw s;if(M.severity==1)return _=new Map().set("error",M),_=new Ee("retry",_),e.dispatchEvent(_),o=(o+1)%n.uris.length,Og(e,t,n,r,i,o,M,u)}throw M})}function jS(e,t,n,r){var i=Po(void 0),o={};e=w(e.h);for(var s=e.next();!s.done;o={de:o.de},s=e.next())o.de=s.value,i=i.pa(function(u){return function(){var l=n.response;return l.data&&(l.data=fn(l.data)),u.de(t,l,r)}}(o));return i.pa(function(){return n},function(u){var l=2;if(u instanceof P){if(u.code==7001)throw u;l=u.severity}throw new P(l,1,1007,u)})}function jg(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.Zc)return!1}return!0}ue("shaka.net.NetworkingEngine",ft),ft.prototype.request=ft.prototype.request,ft.prototype.destroy=ft.prototype.destroy,ft.makeRequest=Gt,ft.defaultRetryParameters=function(){return Nr()},ft.prototype.clearAllResponseFilters=ft.prototype.Ig,ft.prototype.unregisterResponseFilter=ft.prototype.ci,ft.prototype.registerResponseFilter=ft.prototype.Kh,ft.prototype.clearAllRequestFilters=ft.prototype.Hg,ft.prototype.unregisterRequestFilter=ft.prototype.bi,ft.prototype.registerRequestFilter=ft.prototype.Jh,ft.unregisterScheme=function(e){delete Ia[e]},ft.registerScheme=qr,ft.prototype.setForceHTTPS=ft.prototype.nf;function bg(){this.g=0}ft.NumBytesRemainingClass=bg;function Aa(e,t,n){kt.call(this,e,t),this.h=n}Pe(Aa,kt),ft.PendingRequest=Aa;var Lr=1;ft.RequestType={MANIFEST:0,SEGMENT:Lr,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},ft.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5};var Ug=3;ft.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Ug};var Ia={};function No(e){this.g=!1,this.h=new pt,this.i=e}No.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function nt(e,t){if(e.g)throw t instanceof P&&t.code==7003?t:new P(2,7,7003,t)}function ht(){this.g=new ca}d=ht.prototype,d.release=function(){this.Za(),this.g=null},d.D=function(e,t,n,r){this.g&&(e=new Fg(e,t,n,r),this.g.push(t,e))},d.ja=function(e,t,n,r){function i(s){o.Vb(e,t,i),n(s)}var o=this;this.D(e,t,i,r)},d.Vb=function(e,t,n){if(this.g){var r=this.g.get(t)||[];r=w(r);for(var i=r.next();!i.done;i=r.next())i=i.value,i.target!=e||n!=i.listener&&n||(i.Vb(),this.g.remove(t,i))}},d.Za=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,U(e.g[n]));for(e=w(t),t=e.next();!t.done;t=e.next())t.value.Vb();this.g.g={}}},ue("shaka.util.EventManager",ht),ht.prototype.removeAll=ht.prototype.Za,ht.prototype.unlisten=ht.prototype.Vb,ht.prototype.listenOnce=ht.prototype.ja,ht.prototype.listen=ht.prototype.D,ht.prototype.release=ht.prototype.release;function Fg(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=bS(e,r),this.target.addEventListener(t,n,this.g)}Fg.prototype.Vb=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function bS(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(r){return!n.has(r)}),US(e)?t:t.capture||!1}function US(e){var t=Bg;if(t==null){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch{t=!1}Bg=t}return t||!1}var Bg=void 0;function gf(e,t){var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next())n.push(t(r.value));return n}function FS(e,t){e=w(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function Lo(e){this.h=e,this.g=void 0}Lo.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function Ks(e){for(var t=new Map,n=w(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function mf(e){var t={};return e.forEach(function(n,r){t[r]=n}),t}function Gi(){}function gt(e){if(!e)return"";if(e=Me(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),v.TextDecoder&&!Co())return e=new TextDecoder().decode(e),e.includes("�")&&Z('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var r=65533;if(e[n]&128?e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(r=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(r=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(r=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3):r=e[n],65535>=r)t+=String.fromCharCode(r);else{r-=65536;var i=r&1023;t+=String.fromCharCode(55296+(r>>10)),t+=String.fromCharCode(56320+i)}}return t}function Xr(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new P(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=xt(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return yf.value()(r)}function wi(e){function t(r){return n.byteLength<=r||32<=n[r]&&126>=n[r]}if(!e)return"";var n=Me(e);if(n[0]==239&&n[1]==187&&n[2]==191)return gt(n);if(n[0]==254&&n[1]==255)return Xr(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return Xr(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return Xr(e,!1);if(n[1]==0&&n[3]==0)return Xr(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return gt(e);throw new P(2,2,2003)}function Yr(e){if(v.TextEncoder&&!Co()){var t=new TextEncoder;return fn(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return fn(t)}function vf(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}ue("shaka.util.StringUtils",Gi),Gi.resetFromCharCode=function(){yf.g=void 0},Gi.toUTF16=vf,Gi.toUTF8=Yr,Gi.fromBytesAutoDetect=wi,Gi.fromUTF16=Xr,Gi.fromUTF8=gt;var yf=new Lo(function(){function e(n){try{var r=new Uint8Array(n);return 0<String.fromCharCode.apply(null,r).length}catch{return!1}}for(var t={yb:65536};0<t.yb;t={yb:t.yb},t.yb/=2)if(e(t.yb))return function(n){return function(r){for(var i="",o=0;o<r.length;o+=n.yb)i+=String.fromCharCode.apply(null,r.subarray(o,o+n.yb));return i}}(t);return null});function rt(e,t){this.h=xt(e),this.i=t==Vg,this.g=0}d=rt.prototype,d.ia=function(){return this.g<this.h.byteLength},d.qa=function(){return this.g},d.getLength=function(){return this.h.byteLength},d.ga=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw Jr()}},d.Ea=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw Jr()}},d.L=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw Jr()}},d.fg=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw Jr()}},d.oc=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw Jr()}if(2097151<t)throw new P(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},d.ub=function(e){if(this.g+e>this.h.byteLength)throw Jr();var t=Me(this.h,this.g,e);return this.g+=e,t},d.skip=function(e){if(this.g+e>this.h.byteLength)throw Jr();this.g+=e},d.Rh=function(e){if(this.g<e)throw Jr();this.g-=e},d.seek=function(e){if(0>e||e>this.h.byteLength)throw Jr();this.g=e},d.ad=function(){for(var e=this.g;this.ia()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=Me(this.h,e,this.g-e),this.g+=1,gt(e)};function Jr(){return new P(2,3,3e3)}ue("shaka.util.DataViewReader",rt),rt.prototype.readTerminatedString=rt.prototype.ad,rt.prototype.seek=rt.prototype.seek,rt.prototype.rewind=rt.prototype.Rh,rt.prototype.skip=rt.prototype.skip,rt.prototype.readBytes=rt.prototype.ub,rt.prototype.readUint64=rt.prototype.oc,rt.prototype.readInt32=rt.prototype.fg,rt.prototype.readUint32=rt.prototype.L,rt.prototype.readUint16=rt.prototype.Ea,rt.prototype.readUint8=rt.prototype.ga,rt.prototype.getLength=rt.prototype.getLength,rt.prototype.getPosition=rt.prototype.qa,rt.prototype.hasMoreData=rt.prototype.ia;var Vg=1;rt.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Vg};function lt(){this.i=[],this.h=[],this.g=!1}d=lt.prototype,d.box=function(e,t){return e=Hg(e),this.i[e]=BS,this.h[e]=t,this},d.O=function(e,t){return e=Hg(e),this.i[e]=Kg,this.h[e]=t,this},d.stop=function(){this.g=!0},d.parse=function(e,t,n){for(e=new rt(e,0),this.g=!1;e.ia()&&!this.g;)this.Yc(0,e,t,n)},d.Yc=function(e,t,n,r){var i=t.qa();if(r&&i+8>t.getLength())this.g=!0;else{var o=t.L(),s=t.L(),u=Ma(s),l=!1;switch(o){case 0:o=t.getLength()-i;break;case 1:if(r&&t.qa()+8>t.getLength()){this.g=!0;return}o=t.oc(),l=!0}var c=this.h[s];if(c){var h=null,m=null;if(this.i[s]==Kg){if(r&&t.qa()+4>t.getLength()){this.g=!0;return}m=t.L(),h=m>>>24,m&=16777215}s=i+o,n&&s>t.getLength()&&(s=t.getLength()),r&&s>t.getLength()?this.g=!0:(r=s-t.qa(),t=0<r?t.ub(r):new Uint8Array(0),t=new rt(t,0),c({name:u,parser:this,partialOkay:n||!1,version:h,flags:m,reader:t,size:o,start:i+e,has64BitSize:l}))}else t.skip(Math.min(i+o-t.qa(),t.getLength()-t.qa()))}};function Ze(e){for(var t=zs(e);e.reader.ia()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function Oo(e){for(var t=zs(e),n=e.reader.L(),r=0;r<n&&(e.parser.Yc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function Ca(e){var t=zs(e);for(e.reader.skip(78);e.reader.ia()&&!e.parser.g;)e.parser.Yc(e.start+t,e.reader,e.partialOkay)}function jo(e){return function(t){e(t.reader.ub(t.reader.getLength()-t.reader.qa()))}}function Hg(e){var t=0;e=w(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Ma(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function zs(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}ue("shaka.util.Mp4Parser",lt),lt.headerSize=zs,lt.typeToString=Ma,lt.allData=jo,lt.visualSampleEntry=Ca,lt.sampleDescription=Oo,lt.children=Ze,lt.prototype.parseNext=lt.prototype.Yc,lt.prototype.parse=lt.prototype.parse,lt.prototype.stop=lt.prototype.stop,lt.prototype.fullBox=lt.prototype.O,lt.prototype.box=lt.prototype.box;var BS=0,Kg=1;function on(){}function zg(e){return e=Me(e),e=yf.value()(e),btoa(e)}function Wi(e,t){return t=t??!0,e=zg(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function fr(e){e=v.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function qi(e){for(var t=e.length/2,n=new Uint8Array(t),r=0;r<t;r++)n[r]=v.parseInt(e.substr(2*r,2),16);return n}function bo(e){var t=Me(e);e="",t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function St(){for(var e=Mt.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];i instanceof Uint8Array?t.set(i,n):t.set(Me(i),n),n+=i.byteLength}return t}ue("shaka.util.Uint8ArrayUtils",on),on.concat=St,on.toHex=bo,on.fromHex=qi,on.fromBase64=fr,on.toBase64=Wi,on.toStandardBase64=zg;function $g(e){var t=this;this.g=[],this.h=[],this.data=[],new lt().box("moov",Ze).box("moof",Ze).O("pssh",function(n){if(!(1<n.version)){var r=Me(n.reader.h,-12,n.size);if(t.data.push(r),t.g.push(bo(n.reader.ub(16))),0<n.version){r=n.reader.L();for(var i=0;i<r;i++){var o=bo(n.reader.ub(16));t.h.push(o)}}}}).parse(e)}function ka(e,t,n,r){var i=e.length,o=t.length+16+i;0<r&&(o+=4+16*n.size);var s=new Uint8Array(o),u=xt(s),l=0;if(u.setUint32(l,o),l+=4,u.setUint32(l,1886614376),l+=4,1>r?u.setUint32(l,0):u.setUint32(l,16777216),l+=4,s.set(t,l),l+=t.length,0<r)for(u.setUint32(l,n.size),l+=4,t=w(n),n=t.next();!n.done;n=t.next())n=qi(n.value),s.set(n,l),l+=n.length;return u.setUint32(l,i),s.set(e,l+4),s}function hr(e,t){return e=mt(e,t),e.length!=1?null:e[0]}function Qr(e,t,n){return e=Gg(e,t,n),e.length!=1?null:e[0]}function mt(e,t){var n=[];e=w(e.childNodes);for(var r=e.next();!r.done;r=e.next())r=r.value,r instanceof Element&&r.tagName==t&&n.push(r);return n}function VS(e){return Array.from(e.childNodes).filter(function(t){return t instanceof Element})}function Gg(e,t,n){var r=[];e=w(e.childNodes);for(var i=e.next();!i.done;i=e.next())i=i.value,i instanceof Element&&i.localName==n&&i.namespaceURI==t&&r.push(i);return r}function Xi(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Or(e,t,n){t=w(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,e.hasAttributeNS(r,n))return e.getAttributeNS(r,n);return null}function Yi(e){return Array.from(e.childNodes).every(wf)?e.textContent.trim():null}function wf(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function He(e,t,n,r){r=r===void 0?null:r;var i=null;return e=e.getAttribute(t),e!=null&&(i=n(e)),i??r}function Wg(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Zr(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Ra(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function _a(e){return e=Number(e),e%1===0?e:null}function ei(e){return e=Number(e),e%1===0&&0<e?e:null}function hn(e){return e=Number(e),e%1===0&&0<=e?e:null}function $s(e){return e=Number(e),isNaN(e)?null:e}function Tf(e){return e?e.toLowerCase()==="true":!1}function HS(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Uo(e,t){var n=new DOMParser,r=KS.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function xf(e,t){try{var n=wi(e);return Uo(n,t)}catch{return null}}var KS=new Lo(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Pa(e,t){var n=this;t=t===void 0?1:t,this.C=e,this.H=new Set,this.m=this.s=null,this.ma=this.da=!1,this.I=0,this.g=null,this.A=new ht,this.i=new Map,this.u=new Map,this.l=new pt,this.h=null,this.o=function(r){r.severity==2&&n.l.reject(r),e.onError(r)},this.V=new Map,this.ea=new Map,this.W=new Ve(function(){return eE(n)}),this.K=!1,this.J=[],this.N=!1,this.ka=new Ve(function(){rE(n)}).$a(t),this.l.catch(function(){}),this.j=new No(function(){return zS(n)}),this.Y=!1,this.F=this.G=null}d=Pa.prototype,d.destroy=function(){return this.j.destroy()};function zS(e){return O(function(t){switch(t.g){case 1:return e.A.release(),e.A=null,e.l.reject(),e.ka.stop(),e.ka=null,e.W.stop(),e.W=null,I(t,im(e),2);case 2:if(!e.m){t.B(3);break}return Ce(t,4),I(t,e.m.setMediaKeys(null),6);case 6:ae(t,5);break;case 4:Y(t);case 5:e.m=null;case 3:e.g=null,e.H.clear(),e.s=null,e.u=new Map,e.h=null,e.o=function(){},e.C=null,e.Y=!1,e.G=null,J(t)}})}d.configure=function(e){this.h=e};function $S(e,t,n){return e.ma=!0,e.u=new Map,e.K=n,Xg(e,t)}function qg(e,t,n){e.u=new Map,n=w(n);for(var r=n.next();!r.done;r=n.next())e.u.set(r.value,{initData:null,initDataType:null});for(n=w(e.h.persistentSessionsMetadata),r=n.next();!r.done;r=n.next())r=r.value,e.u.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.K=0<e.u.size,Xg(e,t)}function GS(e,t,n,r,i,o){var s=new Map;return i={audioCapabilities:i,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},i.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],s.set(t,i),em(e,s,[])}function Xg(e,t){var n,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M;return O(function(_){if(_.g==1){if(n=QS(e))for(r=w(t),i=r.next();!i.done;i=r.next())o=i.value,o.video&&(o.video.drmInfos=[n]),o.audio&&(o.audio.drmInfos=[n]);for(s=t.some(function(R){return!!(R.video&&R.video.drmInfos.length||R.audio&&R.audio.drmInfos.length)}),s||(u=Ks(e.h.servers),oE(t,u)),l=new Set,c=w(t),i=c.next();!i.done;i=c.next())for(h=i.value,m=sm(h),T=w(m),y=T.next();!y.done;y=T.next())S=y.value,l.add(S);for(E=w(l),y=E.next();!y.done;y=E.next())C=y.value,sE(C,Ks(e.h.servers),Ks(e.h.advanced||{}),e.h.keySystemsMapping);return I(_,vg(t,e.K,e.Y,e.h.preferredKeySystems),2)}return k=s||Object.keys(e.h.servers).length,k?(M=em(e,void 0,t),_.return(s?M:M.catch(function(){}))):(e.da=!0,_.return(Promise.resolve()))})}function Yg(e){var t;return O(function(n){switch(n.g){case 1:if(e.m.mediaKeys)return n.return();if(!e.G){n.B(2);break}return I(n,e.G,3);case 3:return nt(e.j),n.return();case 2:return Ce(n,4),e.G=e.m.setMediaKeys(e.s),I(n,e.G,6);case 6:ae(n,5);break;case 4:t=Y(n),e.o(new P(2,6,6003,t.message));case 5:nt(e.j),J(n)}})}function WS(e,t){return O(function(n){if(n.g==1)return I(n,Yg(e),2);Gs(e,t.initDataType,Me(t.initData)),J(n)})}d.Ic=function(e){var t=this;return O(function(n){if(n.g==1)return t.s?(t.m=e,t.A.ja(t.m,"play",function(){for(var r=w(t.J),i=r.next();!i.done;i=r.next())Ef(t,i.value);t.N=!0,t.J=[]}),"webkitCurrentPlaybackTargetIsWireless"in t.m&&t.A.D(t.m,"webkitcurrentplaybacktargetiswirelesschanged",function(){return im(t)}),t.F=t.g&&t.g.initData.find(function(r){return 0<r.initData.length})||null,t.F||t.g.keySystem!=="com.apple.fps"||t.u.size?I(n,Yg(t),2):n.B(2)):(t.A.ja(e,"encrypted",function(){t.o(new P(2,6,6010))}),n.return());Jg(t).catch(function(){}),t.F||t.u.size||t.h.parseInbandPsshEnabled||t.A.D(t.m,"encrypted",function(r){return WS(t,r)}),J(n)})};function qS(e){var t,n,r,i,o;return O(function(s){switch(s.g){case 1:if(!e.s||!e.g)return s.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){s.B(2);break}return t=Gt([e.g.serverCertificateUri],e.h.retryParameters),Ce(s,3),n=e.C.Tb.request(5,t),I(s,n.promise,5);case 5:r=s.h,e.g.serverCertificate=Me(r.data),ae(s,4);break;case 3:throw i=Y(s),new P(2,6,6017,i);case 4:if(e.j.g)return s.return();case 2:return!e.g.serverCertificate||!e.g.serverCertificate.length?s.return():(Ce(s,6),I(s,e.s.setServerCertificate(e.g.serverCertificate),8));case 8:ae(s,0);break;case 6:throw o=Y(s),new P(2,6,6004,o.message)}})}function XS(e,t){var n,r,i;return O(function(o){if(o.g==1)return I(o,nm(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(r=[],(i=e.i.get(n))&&(i.hb=new pt,r.push(i.hb)),r.push(n.remove()),I(o,Promise.all(r),3)):o.return();e.i.delete(n),J(o)})}function Jg(e){var t,n,r,i,o;return O(function(s){if(s.g==1)return e.u.size?(e.u.forEach(function(u,l){nm(e,l,u)}),I(s,e.l,3)):s.B(2);if(s.g!=2){if(t=e.g&&e.g.keyIds||new Set([]),0<t.size&&iE(e))return s.return(e.l);e.l=new pt,e.l.catch(function(){})}for(n=(e.g?e.g.initData:[])||[],r=w(n),i=r.next();!i.done;i=r.next())o=i.value,Gs(e,o.initDataType,o.initData);return n.length||e.l.resolve(),s.return(e.l)})}function Gs(e,t,n){if(n.length){var r=e.i.values();r=w(r);for(var i=r.next();!i.done;i=r.next())if(zt(n,i.value.initData)&&e.h.ignoreDuplicateInitData)return;0<e.i.size&&If(e)&&(e.l.resolve(),e.l=new pt,e.l.catch(function(){})),ZS(e,t,n,e.g.sessionType)}}function Qg(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function Zg(e){return e=e.i.keys(),e=gf(e,function(t){return t.sessionId}),Array.from(e)}d.Fe=function(){var e=this,t=this.i.keys();return t=gf(t,function(n){var r=e.i.get(n);return{sessionId:n.sessionId,sessionType:r.type,initData:r.initData,initDataType:r.initDataType}}),Array.from(t)},d.Qc=function(){var e=1/0,t=this.i.keys();t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},d.Bd=function(){return mf(this.ea)};function em(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E,C,k;return O(function(M){switch(M.g){case 1:if(r=new Map,n.length){i=YS(e,n,r),M.B(2);break}return I(M,JS(e,t),3);case 3:i=M.h;case 2:if(o=i,!o)throw new P(2,6,6001);for(nt(e.j),Ce(M,4),e.H.clear(),s=o.getConfiguration(),u=s.audioCapabilities||[],l=s.videoCapabilities||[],c=w(u),h=c.next();!h.done;h=c.next())m=h.value,e.H.add(m.contentType.toLowerCase());for(T=w(l),h=T.next();!h.done;h=T.next())y=h.value,e.H.add(y.contentType.toLowerCase());if(n.length){var _=o.keySystem,R=r.get(o.keySystem),L=[],j=[],$=[],H=[],K=new Set;um(R,L,$,j,H,K);var W=e.K?"persistent-license":"temporary";for(_={keySystem:_,licenseServerUri:L[0],distinctiveIdentifierRequired:R[0].distinctiveIdentifierRequired,persistentStateRequired:R[0].persistentStateRequired,sessionType:R[0].sessionType||W,audioRobustness:R[0].audioRobustness||"",videoRobustness:R[0].videoRobustness||"",serverCertificate:$[0],serverCertificateUri:j[0],initData:H,keyIds:K},R=w(R),L=R.next();!L.done;L=R.next())L=L.value,L.distinctiveIdentifierRequired&&(_.distinctiveIdentifierRequired=L.distinctiveIdentifierRequired),L.persistentStateRequired&&(_.persistentStateRequired=L.persistentStateRequired);R=_}else R=o.keySystem,_=t.get(o.keySystem),L=[],j=[],$=[],H=[],K=new Set,um(_.drmInfos,L,$,j,H,K),R={keySystem:R,licenseServerUri:L[0],distinctiveIdentifierRequired:_.distinctiveIdentifier=="required",persistentStateRequired:_.persistentState=="required",sessionType:_.sessionTypes[0]||"temporary",audioRobustness:(_.audioCapabilities?_.audioCapabilities[0].robustness:"")||"",videoRobustness:(_.videoCapabilities?_.videoCapabilities[0].robustness:"")||"",serverCertificate:$[0],serverCertificateUri:j[0],initData:H,keyIds:K};if(e.g=R,!e.g.licenseServerUri)throw new P(2,6,6012,e.g.keySystem);return I(M,o.createMediaKeys(),6);case 6:if(S=M.h,nt(e.j),e.s=S,!(e.h.minHdcpVersion!=""&&"getStatusForPolicy"in e.s)){M.B(7);break}return Ce(M,8),I(M,e.s.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if(E=M.h,E!="usable")throw new P(2,6,6018);nt(e.j),ae(M,7,4);break;case 8:throw C=Y(M,4),C instanceof P?C:new P(2,6,6019,C.message);case 7:return e.da=!0,I(M,qS(e),11);case 11:nt(e.j),ae(M,0);break;case 4:throw k=Y(M),nt(e.j,k),e.g=null,e.H.clear(),k instanceof P?k:new P(2,6,6002,k.message)}})}function YS(e,t,n){for(var r=w(t),i=r.next();!i.done;i=r.next()){var o=w(sm(i.value));for(i=o.next();!i.done;i=o.next())i=i.value,n.has(i.keySystem)||n.set(i.keySystem,[]),n.get(i.keySystem).push(i)}if(n.size==1&&n.has(""))throw new P(2,6,6e3);for(r={},e=w(e.h.preferredKeySystems),i=e.next();!i.done;r={ce:r.ce},i=e.next())for(r.ce=i.value,o=w(t),i=o.next();!i.done;i=o.next())if(i=i.value.decodingInfos.find(function(c){return function(h){return h.supported&&h.keySystemAccess!=null&&h.keySystemAccess.keySystem==c.ce}}(r)))return i.keySystemAccess;for(e=w([!0,!1]),i=e.next();!i.done;i=e.next())for(r=i.value,o=w(t),i=o.next();!i.done;i=o.next()){var s=w(i.value.decodingInfos);for(i=s.next();!i.done;i=s.next()){var u=i.value;if(u.supported&&u.keySystemAccess){i=n.get(u.keySystemAccess.keySystem);var l=w(i);for(i=l.next();!i.done;i=l.next())if(!!i.value.licenseServerUri==r)return u.keySystemAccess}}}return null}function JS(e,t){var n,r,i,o,s,u,l,c,h,m,T,y,S,E,C;return O(function(k){switch(k.g){case 1:if(t.size==1&&t.has(""))throw new P(2,6,6e3);for(r=w(t.values()),i=r.next();!i.done;i=r.next())o=i.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;s=w(e.h.preferredKeySystems),u=s.next();case 2:if(u.done){k.B(4);break}if(l=u.value,!t.has(l)){k.B(3);break}return c=t.get(l),Ce(k,6),I(k,navigator.requestMediaKeySystemAccess(l,[c]),8);case 8:return n=k.h,k.return(n);case 6:Y(k);case 7:nt(e.j);case 3:u=s.next(),k.B(2);break;case 4:h=w([!0,!1]),m=h.next();case 9:if(m.done){k.B(11);break}T=m.value,y=w(t.keys()),u=y.next();case 12:if(u.done){m=h.next(),k.B(9);break}if(S=u.value,E=t.get(S),C=E.drmInfos.some(function(M){return!!M.licenseServerUri}),C!=T){k.B(13);break}return Ce(k,15),I(k,navigator.requestMediaKeySystemAccess(S,[E]),17);case 17:return n=k.h,k.return(n);case 15:Y(k);case 16:nt(e.j);case 13:u=y.next(),k.B(12);break;case 11:return k.return(n)}})}function QS(e){if(e=Ks(e.h.clearKeys),e.size==0)return null;var t=[],n=[];e.forEach(function(i,o){var s=o;s.length!=22&&(s=Wi(qi(o),!1)),o=i,o.length!=22&&(o=Wi(qi(i),!1)),i={kty:"oct",kid:s,k:o},t.push(i),n.push(i.kid)}),e=JSON.stringify({keys:t});var r=JSON.stringify({kids:n});return r=[{initData:Me(Yr(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+v.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:r,keyIds:new Set(n)}}function Sf(e){If(e)&&e.l.resolve()}function tm(e,t){new Ve(function(){t.loaded=!0,Sf(e)}).U(aE)}function nm(e,t,n){var r,i,o,s,u,l,c;return O(function(h){switch(h.g){case 1:try{r=e.s.createSession("persistent-license")}catch(m){return i=new P(2,6,6005,m.message),e.o(i),h.return(Promise.reject(i))}return e.A.D(r,"message",function(m){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.N?e.J.push(m):Ef(e,m)}),e.A.D(r,"keystatuseschange",function(m){return rm(e,m)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,$e:1/0,hb:null,type:"persistent-license"},e.i.set(r,o),Ce(h,2),I(h,r.load(t),4);case 4:return s=h.h,nt(e.j),s||(e.i.delete(r),u=e.h.persistentSessionOnlinePlayback?1:2,e.o(new P(u,6,6013)),o.loaded=!0),tm(e,o),Sf(e),h.return(r);case 2:l=Y(h),nt(e.j,l),e.i.delete(r),c=e.h.persistentSessionOnlinePlayback?1:2,e.o(new P(c,6,6005,l.message)),o.loaded=!0,Sf(e);case 3:return h.return(Promise.resolve())}})}function ZS(e,t,n,r){try{var i=e.s.createSession(r)}catch(o){e.o(new P(2,6,6005,o.message));return}e.A.D(i,"message",function(o){e.m&&e.h.delayLicenseRequestUntilPlayed&&e.m.paused&&!e.N?e.J.push(o):Ef(e,o)}),e.A.D(i,"keystatuseschange",function(o){return rm(e,o)}),e.i.set(i,{initData:n,initDataType:t,loaded:!1,$e:1/0,hb:null,type:r});try{n=e.h.initDataTransform(n,t,e.g)}catch(o){t=o,o instanceof P||(t=new P(2,6,6016,o)),e.o(t);return}e.h.logLicenseExchange&&Wi(n),i.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(i);var s=o.errorCode;if(s&&s.systemCode){var u=s.systemCode;0>u&&(u+=Math.pow(2,32)),u="0x"+u.toString(16)}e.o(new P(2,6,6006,o.message,o,u))}})}function Ef(e,t){var n,r,i,o,s,u,l,c,h,m,T,y,S;O(function(E){switch(E.g){case 1:if(n=t.target,e.h.logLicenseExchange&&Wi(t.message),r=e.i.get(n),i=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(i=o.individualizationServer),s=Gt([i],e.h.retryParameters),s.body=t.message,s.method="POST",s.licenseRequestType=t.messageType,s.sessionId=n.sessionId,s.drmInfo=e.g,r&&(s.initData=r.initData,s.initDataType=r.initDataType),Qg(e.g.keySystem)){var C=Xr(s.body,!0,!0);if(C.includes("PlayReadyKeyMessage")){C=Uo(C,"PlayReadyKeyMessage");for(var k=w(C.getElementsByTagName("HttpHeader")),M=k.next();!M.done;M=k.next())M=M.value,s.headers[M.getElementsByTagName("name")[0].textContent]=M.getElementsByTagName("value")[0].textContent;s.body=fr(C.getElementsByTagName("Challenge")[0].textContent)}else s.headers["Content-Type"]="text/xml; charset=utf-8"}return u=Date.now(),Ce(E,2),c=e.C.Tb.request(2,s),I(E,c.promise,4);case 4:l=E.h,ae(E,3);break;case 2:return h=Y(E),m=new P(2,6,6007,h),e.o(m),r&&r.hb&&r.hb.reject(m),E.return();case 3:return e.j.g?E.return():(e.I+=(Date.now()-u)/1e3,e.h.logLicenseExchange&&Wi(l.data),Ce(E,5),I(E,n.update(l.data),7));case 7:ae(E,6);break;case 5:return T=Y(E),y=new P(2,6,6008,T.message),e.o(y),r&&r.hb&&r.hb.reject(y),E.return();case 6:if(e.j.g)return E.return();S=new Ee("drmsessionupdate"),e.C.onEvent(S),r&&(r.hb&&r.hb.resolve(),tm(e,r)),J(E)}})}function rm(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach(function(o,s){if(typeof s=="string"){var u=s;s=o,o=u}if(Qg(e.g.keySystem)&&s.byteLength==16&&(rf()||Co())){u=xt(s);var l=u.getUint32(0,!0),c=u.getUint16(4,!0),h=u.getUint16(6,!0);u.setUint32(0,l,!1),u.setUint16(4,c,!1),u.setUint16(6,h,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(r=!0),s=bo(s).slice(0,32),e.V.set(s,o)});var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.hb&&(e.i.delete(t),t.close().catch(function(){})),If(e)&&(e.l.resolve(),e.W.U(lE))}function eE(e){var t=e.V,n=e.ea;n.clear(),t.forEach(function(r,i){return n.set(i,r)}),t=Array.from(n.values()),t.length&&t.every(function(r){return r=="expired"})&&e.o(new P(2,6,6014)),e.C.Ud(mf(n))}function tE(){var e,t,n,r,i,o,s,u;return O(function(l){return l.g==1?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n={initDataTypes:["cenc"],videoCapabilities:t},r={videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},i=[r,n],o=new Map,s=function(c){var h,m,T;return O(function(y){switch(y.g){case 1:if(Ce(y,2),c==="org.w3.clearkey"&&pa())throw Error("Unsupported keySystem");return I(y,navigator.requestMediaKeySystemAccess(c,i),4);case 4:return h=y.h,T=(m=h.getConfiguration().sessionTypes)?m.includes("persistent-license"):!1,fa()&&(T=!1),o.set(c,{persistentState:T}),I(y,h.createMediaKeys(),5);case 5:ae(y,0);break;case 2:Y(y),o.set(c,null),J(y)}})},u=e.map(function(c){return s(c)}),I(l,Promise.all(u),2)):l.return(mf(o))})}function nE(e){var t;return O(function(n){if(n.g==1)return t=new Promise(function(r,i){new Ve(i).U(uE)}),Ce(n,2),I(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4);if(n.g!=2)return ae(n,0);Y(n),J(n)})}function im(e){var t;return O(function(n){return t=Array.from(e.i.entries()),e.i.clear(),I(n,Promise.all(t.map(function(r){r=w(r);var i=r.next().value,o=r.next().value;return O(function(s){if(s.g==1)return Ce(s,2),e.ma||e.u.has(i.sessionId)||o.type!=="persistent-license"||e.h.persistentSessionOnlinePlayback?I(s,nE(i),5):I(s,i.remove(),5);if(s.g!=2)return ae(s,0);Y(s),J(s)})})),0)})}function om(e,t){return e.length&&t.length&&e!==t?0<Af(e,t).length:!0}function Af(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=w(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.keySystem==o.keySystem){i=new Map;for(var s=w((r.initData||[]).concat(o.initData||[])),u=s.next();!u.done;u=s.next())u=u.value,i.set(u.keyId,u);i=Array.from(i.values()),s=r.keyIds&&o.keyIds?new Set([].concat(U(r.keyIds),U(o.keyIds))):r.keyIds||o.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,serverCertificateUri:r.serverCertificateUri||o.serverCertificateUri,initData:i,keyIds:s});break}}return n}function sm(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function rE(e){e.i.forEach(function(t,n){var r=t.$e,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.$e=i)})}function If(e){return e=e.i.values(),FS(e,function(t){return t.loaded})}function iE(e){for(var t=w(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.V.get(n.value)!=="usable")return!1;return!0}function oE(e,t){var n=[];for(t.forEach(function(r,i){n.push({keySystem:i,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=w(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function um(e,t,n,r,i,o){var s={};e=w(e);for(var u=e.next();!u.done;s={Fa:s.Fa},u=e.next()){if(s.Fa=u.value,t.includes(s.Fa.licenseServerUri)||t.push(s.Fa.licenseServerUri),r.includes(s.Fa.serverCertificateUri)||r.push(s.Fa.serverCertificateUri),s.Fa.serverCertificate&&(n.some(function(h){return function(m){return zt(m,h.Fa.serverCertificate)}}(s))||n.push(s.Fa.serverCertificate)),s.Fa.initData){u={};for(var l=w(s.Fa.initData),c=l.next();!c.done;u={kd:u.kd},c=l.next())u.kd=c.value,i.some(function(h){return function(m){var T=h.kd;return m.keyId&&m.keyId==T.keyId?!0:m.initDataType==T.initDataType&&zt(m.initData,T.initData)}}(u))||i.push(u.kd)}if(s.Fa.keyIds)for(u=w(s.Fa.keyIds),l=u.next();!l.done;l=u.next())o.add(l.value)}}function sE(e,t,n,r){var i=e.keySystem;i&&(i!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&(t=t.get(i)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(i))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),r[i]&&(e.keySystem=r[i]),v.cast&&v.cast.__platform__&&i=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}var uE=1,aE=5,lE=.5,Da=new Lo(function(){return fn(new Uint8Array([0]))});function Ws(){}function am(e,t){if(t){var n=dr[t.toLowerCase()];if(n)return n}throw new P(2,4,4e3,e,t)}ue("shaka.media.ManifestParser",Ws),Ws.unregisterParserByMime=function(e){delete dr[e]},Ws.registerParserByMime=function(e,t){dr[e]=t},Ws.registerParserByExtension=function(){cr("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},Ws.AccessibilityPurpose={Yi:"visually impaired",ui:"hard of hearing"};var dr={};function cE(e){function t(){r=!0}function n(c){o.push(c),Ze(c)}e=Me(e);var r=!1,i,o=[],s=[];if(new lt().box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).O("stsd",function(c){i=c,o.push(c),Oo(c)}).O("encv",t).O("enca",t).O("dvav",function(c){s.push({box:c,Ma:1701733238})}).O("dva1",function(c){s.push({box:c,Ma:1701733238})}).O("dvh1",function(c){s.push({box:c,Ma:1701733238})}).O("dvhe",function(c){s.push({box:c,Ma:1701733238})}).O("hev1",function(c){s.push({box:c,Ma:1701733238})}).O("hvc1",function(c){s.push({box:c,Ma:1701733238})}).O("avc1",function(c){s.push({box:c,Ma:1701733238})}).O("avc3",function(c){s.push({box:c,Ma:1701733238})}).O("ac-3",function(c){s.push({box:c,Ma:1701733217})}).O("ec-3",function(c){s.push({box:c,Ma:1701733217})}).O("ac-4",function(c){s.push({box:c,Ma:1701733217})}).O("mp4a",function(c){s.push({box:c,Ma:1701733217})}).parse(e),r)return e;if(s.length==0||!i)throw bo(e),new P(2,3,3019);s.reverse();for(var u=w(s),l=u.next();!l.done;l=u.next())l=l.value,e=fE(e,i,l.box,o,l.Ma);return e}function fE(e,t,n,r,i){var o=hE.value(),s=e.subarray(n.start,n.start+n.size),u=xt(s),l=new Uint8Array(n.size+o.byteLength);for(l.set(s,0),s=xt(l),s.setUint32(4,i),l.set(o,n.size),i=u.getUint32(4),s.setUint32(n.size+16,i),lm(l,0,l.byteLength),i=new Uint8Array(e.byteLength+l.byteLength),n=Vs()?n.start:n.start+n.size,o=e.subarray(n),i.set(e.subarray(0,n)),i.set(l,n),i.set(o,n+l.byteLength),e=w(r),r=e.next();!r.done;r=e.next())r=r.value,lm(i,r.start,r.size+l.byteLength);return l=xt(i,t.start),t=zs(t),e=l.getUint32(t),l.setUint32(t,e+1),i}function lm(e,t,n){e=xt(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var hE=new Lo(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Wn(e,t,n,r,i,o,s){this.Z=e,this.Qa=t,this.wa=n,this.Ve=r===void 0?null:r,this.timescale=i===void 0?null:i,this.g=o===void 0?null:o,this.aes128Key=s===void 0?null:s,this.mimeType=this.codecs=null}Wn.prototype.ic=function(){return this.Qa},Wn.prototype.fc=function(){return this.wa};function cm(e,t){return e===t?!0:e&&t?e.ic()==t.ic()&&e.fc()==t.fc()&&zc(e.Z().sort(),t.Z().sort())&&zt(e.g,t.g):e==t}ue("shaka.media.InitSegmentReference",Wn),Wn.prototype.getEndByte=Wn.prototype.fc,Wn.prototype.getStartByte=Wn.prototype.ic;function Ae(e,t,n,r,i,o,s,u,l,c,h,m,T,y,S,E){for(c=c===void 0?[]:c,y=y===void 0?Ti:y,this.startTime=e,this.h=this.endTime=t,this.A=n,this.Qa=r,this.wa=i,this.aa=o,this.timestampOffset=s,this.appendWindowStart=u,this.appendWindowEnd=l,this.g=c,this.tilesLayout=h===void 0?"":h,this.u=m===void 0?null:m,this.ca=T===void 0?null:T,this.status=y,this.l=!1,this.j=!0,this.m=!1,this.aes128Key=S===void 0?null:S,this.s=null,this.i=0,this.o=E===void 0?!1:E,this.Md=this.Zc=!1,e=w(this.g),t=e.next();!t.done;t=e.next())t.value.ag();this.o&&this.g.length&&this.g[this.g.length-1].$f(),this.mimeType=this.codecs=null}d=Ae.prototype,d.Z=function(){return this.A()},d.getStartTime=function(){return this.startTime},d.Ug=function(){return this.endTime},d.ic=function(){return this.Qa},d.fc=function(){return this.wa},d.lh=function(){return this.tilesLayout},d.kh=function(){return this.u},d.Pb=function(){return this.status},d.Bh=function(){this.status=fm},d.Ue=function(){this.l=!0},d.xh=function(){return this.l},d.Od=function(){this.j=!1},d.uh=function(){return this.j},d.ag=function(){this.Zc=!0},d.wh=function(){return this.Zc},d.$f=function(){this.Md=!0},d.vh=function(){return this.Md},d.Zf=function(){this.m=!0},d.rh=function(){return this.m},d.pg=function(e){this.s=e},d.jh=function(){return this.s},d.offset=function(e){this.startTime+=e,this.endTime+=e,this.h+=e;for(var t=w(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.h+=e},d.tf=function(e){this.ca==null?Z("Sync attempted without sync time!"):(e=this.ca-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},ue("shaka.media.SegmentReference",Ae),Ae.prototype.syncAgainst=Ae.prototype.tf,Ae.prototype.offset=Ae.prototype.offset,Ae.prototype.getThumbnailSprite=Ae.prototype.jh,Ae.prototype.setThumbnailSprite=Ae.prototype.pg,Ae.prototype.hasByterangeOptimization=Ae.prototype.rh,Ae.prototype.markAsByterangeOptimization=Ae.prototype.Zf,Ae.prototype.isLastPartial=Ae.prototype.vh,Ae.prototype.markAsLastPartial=Ae.prototype.$f,Ae.prototype.isPartial=Ae.prototype.wh,Ae.prototype.markAsPartial=Ae.prototype.ag,Ae.prototype.isIndependent=Ae.prototype.uh,Ae.prototype.markAsNonIndependent=Ae.prototype.Od,Ae.prototype.isPreload=Ae.prototype.xh,Ae.prototype.markAsPreload=Ae.prototype.Ue,Ae.prototype.markAsUnavailable=Ae.prototype.Bh,Ae.prototype.getStatus=Ae.prototype.Pb,Ae.prototype.getTileDuration=Ae.prototype.kh,Ae.prototype.getTilesLayout=Ae.prototype.lh,Ae.prototype.getEndByte=Ae.prototype.fc,Ae.prototype.getStartByte=Ae.prototype.ic,Ae.prototype.getEndTime=Ae.prototype.Ug,Ae.prototype.getStartTime=Ae.prototype.getStartTime,Ae.prototype.getUris=Ae.prototype.Z;var Ti=0,fm=1;Ae.Status={gi:Ti,Wi:fm,Ai:2};function Cf(e){return!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Mf(e,t){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1)?!1:t>=e.start(0)}function hm(e,t){if(!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0))return 0;var n=0;e=w(xi(e));for(var r=e.next();!r.done;r=e.next()){var i=r.value;r=i.start,i=i.end,i>t&&(n+=i-Math.max(r,t))}return n}function dE(e,t,n){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)?null:(e=xi(e).findIndex(function(r,i,o){return r.start>t&&(i==0||o[i-1].end-t<=n)}),0<=e?e:null)}function xi(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function kf(){}function dm(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function pm(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Rf(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function pE(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var r=gt(Me(e.data,1,n)),i=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var s=gt(Me(e.data,3+n,o)),u;return r==="-->"?u=gt(Me(e.data,4+n+o)):u=fn(e.data.subarray(4+n+o)),t.mimeType=r,t.pictureType=i,t.description=s,t.data=u,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=gt(Me(e.data,1,r)),e=gt(Me(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=gt(Me(e.data,1,r)),e=gt(Me(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=gt(Me(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=fn(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=gt(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=gt(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=fn(e.data),t):null}function Ji(e){for(var t=0,n=[];dm(e,t);){var r=Rf(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,r=t+r;t+10<r;){var i=e.subarray(t),o=Rf(i,4);i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:o,data:i.subarray(10,10+o)},(o=pE(i))&&n.push(o),t+=i.size+10}pm(e,t)&&(t+=10)}return n}function qs(e,t){for(var n=t=t===void 0?0:t,r=0;dm(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Rf(e,t+6),pm(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}ue("shaka.util.Id3Utils",kf),kf.getID3Data=qs,kf.getID3Frames=Ji;function gm(e,t){var n=null,r=null,i=null,o=e.L();return t&1&&(i=e.oc()),t&2&&e.skip(4),t&8&&(n=e.L()),t&16&&(r=e.L()),{trackId:o,Kf:n,Mg:r,$i:i}}function _f(e,t){return t==1?(t=e.L(),e=e.L(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.L()}}function Na(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.L(),e.skip(4),e=e.Ea(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function mm(e,t,n){var r=e.L(),i=[],o=null;n&1&&(o=e.L()),n&4&&e.skip(4);for(var s=0;s<r;s++){var u={hf:null,sampleSize:null,Wd:null};n&256&&(u.hf=e.L()),n&512&&(u.sampleSize=e.L()),n&1024&&e.skip(4),n&2048&&(u.Wd=t==0?e.L():e.fg()),i.push(u)}return{dj:r,ig:i,Lg:o}}function vm(e,t){t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4));var n=e.L();return t==1?e.skip(8):e.skip(4),e.skip(4),e.skip(8),e.skip(2),e.skip(2),e.skip(2),e.skip(2),e.skip(36),t=e.Ea()+e.Ea()/16,e=e.Ea()+e.Ea()/16,{trackId:n,width:t,height:e}}function gE(e){for(var t="mp4a",n,r;e.ia();){n=e.ga();for(var i=e.ga();i&128;)i=e.ga();if(n==3)e.Ea(),i=e.ga(),i&128&&e.Ea(),i&64&&e.skip(e.ga()),i&32&&e.Ea();else if(n==4)r=e.ga(),e.skip(12);else if(n==5)break}return r&&(t+="."+this.g(r),n==5&&e.ia()&&(n=e.ga(),r=(n&248)>>3,r===31&&e.ia()&&(r=32+((n&7)<<3)+((e.ga()&224)>>5)),t+="."+r)),{ha:t}}function ym(e,t){return e.skip(87),{ha:t+"."+this.g(e.ga())+this.g(e.ga())+this.g(e.ga())}}function wm(e){return e=e.L(),{ha:Ma(e)}}function ti(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&e[r]==3&&e[r-1]==0&&e[r-2]==0||(t[n]=e[r],n++);this.j=Me(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Pf(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);r!==0&&(n.set(e.j.subarray(t,t+r)),e.h=new rt(n,0).L(),e.g=8*r,e.i-=r)}function xn(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Pf(e)}e.h<<=t,e.g-=t}function be(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&Pf(e),n=t-n,0<n?r<<n|be(e,n):r}function Df(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return Pf(e),t+Df(e)}function dn(e){xn(e,1+Df(e))}function le(e){var t=Df(e);return be(e,t+1)-1}function Fo(e){return e=le(e),1&e?1+e>>>1:-1*(e>>>1)}function ve(e){return be(e,1)===1}function $e(e){return be(e,8)}function La(e,t){for(var n=8,r=8,i=0;i<t;i++)r!==0&&(r=Fo(e),r=(n+r+256)%256),n=r===0?n:r}function mE(e){return $e(e),le(e),le(e)}ue("shaka.util.ExpGolomb",ti);function st(){this.A=null,this.C=!1,this.m=this.F=null,this.j=[],this.g=[],this.o=this.s=null,this.i=[],this.h=[],this.u=null,this.l=[]}d=st.prototype,d.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},d.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,Of(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(e[i]==71){var o=!!(e[i+1]&64),s=((e[i+1]&31)<<8)+e[i+2];if(1<(e[i+3]&48)>>4){var u=i+5+e[i+4];if(u==i+188)continue}else u=i+4;switch(s){case 0:o&&(u+=e[u]+1),this.A=(e[u+10]&31)<<8|e[u+11];break;case 17:case 8191:break;case this.A:o&&(u+=e[u]+1),o=e,s={audio:-1,video:-1,Jd:-1,audioCodec:"",videoCodec:""};var l=u+3+((o[u+1]&15)<<8|o[u+2])-4;for(u+=12+((o[u+10]&15)<<8|o[u+11]);u<l;){var c=(o[u+1]&31)<<8|o[u+2],h=(o[u+3]&15)<<8|o[u+4];switch(o[u]){case 6:if(s.audio==-1&&0<h)for(var m=u+5,T=h;2<T;){switch(o[m]){case 106:s.audio=c,s.audioCodec="ac3";break;case 122:s.audio=c,s.audioCodec="ec3"}var y=o[m+1]+2;m+=y,T-=y}break;case 15:s.audio==-1&&(s.audio=c,s.audioCodec="aac");break;case 21:s.Jd==-1&&(s.Jd=c);break;case 27:s.video==-1&&(s.video=c,s.videoCodec="avc");break;case 3:case 4:s.audio==-1&&(s.audio=c,s.audioCodec="mp3");break;case 36:s.video==-1&&(s.video=c,s.videoCodec="hvc");break;case 129:s.audio==-1&&(s.audio=c,s.audioCodec="ac3");break;case 132:case 135:s.audio==-1&&(s.audio=c,s.audioCodec="ec3")}u+=h+5}o=s,o.video!=-1&&(this.F=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.s=o.audio,this.o=o.audioCodec),o.Jd!=-1&&(this.u=o.Jd),r&&!this.C&&(r=!1,i=t-188),this.C=!0;break;case this.F:u=e.subarray(u,i+188),o?this.j.push([u]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(u);break;case this.s:u=e.subarray(u,i+188),o?this.i.push([u]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(u);break;case this.u:u=e.subarray(u,i+188),o?this.l.push([u]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(u);break;default:r=!0}}return this};function Nf(e){if((e[0]<<16|e[1]<<8|e[2])!==1)return null;var t={data:new Uint8Array(0),packetLength:e[4]<<8|e[5],pts:null,dts:null,nalus:[]};if(t.packetLength&&t.packetLength>e.byteLength-6)return null;var n=e[7];return n&192&&(t.pts=536870912*(e[9]&14)+4194304*(e[10]&255)+16384*(e[11]&254)+128*(e[12]&255)+(e[13]&254)/2,t.dts=t.pts,n&64&&(t.dts=536870912*(e[14]&14)+4194304*(e[15]&255)+16384*(e[16]&254)+128*(e[17]&255)+(e[18]&254)/2)),n=e[8]+9,e.byteLength<=n?null:(t.data=e.subarray(n),t)}d.Hh=function(e){return cr("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.cf(e)},d.cf=function(e,t,n){var r=e.pts?e.pts/9e4:null;e=e.data;var i=e.byteLength,o=1;this.m=="hvc"&&(o=2);for(var s=n||0,u=[],l=-1,c=0,h,m=0;m<i;++m){var T=e[m];if(T){if(2<=s&&T==1){if(t&&!u.length&&l==-1&&(T=m-(3<s?3:s),n&&T!=0&&(T=e.subarray(0,T),t.data=St(t.data,T),t.fullData=St(t.fullData,T))),0<=l?(s=m-((3<s?3:s)+1),u.push({data:e.subarray(l+o,s+1),fullData:e.subarray(l,s+1),type:c,time:r})):t&&!u.length&&(l=m-s,0<l&&(l=e.subarray(0,l),t.data=St(t.data,l),t.fullData=St(t.fullData,l))),m>=i-o)return u;m++,l=m,c=this.m=="hvc"?e[m]>>1&63:e[m]&31}s=0}else s++;m>=i-1&&0<=l&&0<=s&&(h={data:e.subarray(l+o,i),fullData:e.subarray(l,i),type:c,time:r})}return h&&u.push(h),!u.length&&t&&(t.data=St(t.data,e),t.fullData=St(t.fullData,e)),u},d.getMetadata=function(){for(var e=[],t=w(this.l),n=t.next();!n.done;n=t.next())n=St.apply(on,U(n.value)),(n=Nf(n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ji(n.data),dts:n.dts,pts:n.pts});return e},d.Mb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=w(this.i),n=t.next();!n.done;n=t.next()){var r=St.apply(on,U(n.value)),i=Nf(r);n=this.h.length?this.h[this.h.length-1]:null,i&&i.pts!=null&&i.dts!=null&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&(n=this.h.pop(),n.data=St(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort(function(o,s){var u=(o.pts||0)-(s.pts||0);return(o.dts||0)-(s.dts||0)||u}))}return this.h},d.kc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=w(this.j),r=n.next();!r.done;r=n.next()){var i=St.apply(on,U(r.value)),o=Nf(i);r=this.g.length?this.g[this.g.length-1]:null,o&&o.pts!=null&&o.dts!=null&&(!r||r.pts!=o.pts&&r.dts!=o.dts)?(this.g.length&&o.dts<(r.dts||0)&&(t=!0),this.g.push(o)):this.g.length&&(i=o?o.data:i)&&(r=this.g.pop(),r.data=St(r.data,i),this.g.push(r))}if(e){var s;for(n=w(this.g),r=n.next();!r.done;r=n.next())r=r.value,r.nalus=this.cf(r,s,void 0),r.nalus.length&&(s=r.nalus[r.nalus.length-1]);this.g=this.g.filter(function(u){return u.nalus.length})}t&&(this.g=this.g.sort(function(u,l){var c=(u.pts||0)-(l.pts||0);return(u.dts||0)-(l.dts||0)||c}))}return e?this.g:(e=this.g,this.g=[],e)},d.getStartTime=function(e){if(e=="audio"){e=null;var t=this.Mb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.kc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},d.Pc=function(){return{audio:this.o,video:this.m}},d.Fd=function(){for(var e=[],t=w(this.kc()),n=t.next();!n.done;n=t.next())e.push.apply(e,U(n.value.nalus));return e},d.oh=function(){cr("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.Je();return{height:e.height,width:e.width}},d.Je=function(){return this.m=="hvc"?yE(this):vE(this)};function vE(e){var t={height:null,width:null,ha:null};if(e=e.Fd(),!e.length||(e=e.find(function(T){return T.type==7}),!e))return t;e=new ti(e.data);var n=$e(e),r=$e(e),i=$e(e);if(dn(e),wE.includes(n)){var o=le(e);if(o===3&&xn(e,1),dn(e),dn(e),xn(e,1),ve(e)){o=o!==3?8:12;for(var s=0;s<o;s++)ve(e)&&(6>s?La(e,16):La(e,64))}}if(dn(e),o=le(e),o===0)le(e);else if(o===1)for(xn(e,1),dn(e),dn(e),o=le(e),s=0;s<o;s++)dn(e);dn(e),xn(e,1),o=le(e),s=le(e);var u=be(e,1);u===0&&xn(e,1),xn(e,1);var l=0,c=0,h=0,m=0;return ve(e)&&(l=le(e),c=le(e),h=le(e),m=le(e)),t.height=String((2-u)*(s+1)*16-2*h-2*m),t.width=String(16*(o+1)-2*l-2*c),t.ha="avc1."+("0"+n.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2),t}function yE(e){var t={height:null,width:null,ha:null};if(e=e.Fd(),!e.length||(e=e.find(function(R){return R.type==33}),!e))return t;var n=new ti(e.fullData,!0);$e(n),$e(n),be(n,4);var r=be(n,3);ve(n);var i=be(n,2),o=be(n,1),s=be(n,5),u=be(n,32);e=$e(n);for(var l=$e(n),c=$e(n),h=$e(n),m=$e(n),T=$e(n),y=$e(n),S=[],E=[],C=0;C<r;C++)S.push(ve(n)),E.push(ve(n));if(0<r)for(C=r;8>C;C++)be(n,2);for(C=0;C<r;C++)S[C]&&be(n,88),E[C]&&$e(n);le(n),r=le(n),r==3&&be(n,1),S=le(n),E=le(n);var k=C=0,M=0,_=0;return ve(n)&&(C+=le(n),k+=le(n),M+=le(n),_+=le(n)),t.width=String(S-(C+k)*(r===1||r===2?2:1)),t.height=String(E-(M+_)*(r===1?2:1)),n=function(R){for(var L=0,j=0;32>j;j++)L|=(R>>j&1)<<31-j;return L>>>0}(u),o=o==1?"H":"L",i="hvc1"+("."+["","A","B","C"][i]+s),i+="."+n.toString(16).toUpperCase(),i+="."+o+y,T&&(i+="."+T.toString(16).toUpperCase()),m&&(i+="."+m.toString(16).toUpperCase()),h&&(i+="."+h.toString(16).toUpperCase()),c&&(i+="."+c.toString(16).toUpperCase()),l&&(i+="."+l.toString(16).toUpperCase()),e&&(i+="."+e.toString(16).toUpperCase()),t.ha=i,t}function Lf(e){return!(0>Of(e))}function Of(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}ue("shaka.util.TsParser",st),st.syncOffset=Of,st.probe=Lf,st.prototype.getVideoInfo=st.prototype.Je,st.prototype.getVideoResolution=st.prototype.oh,st.prototype.getVideoNalus=st.prototype.Fd,st.prototype.getCodecs=st.prototype.Pc,st.prototype.getStartTime=st.prototype.getStartTime,st.prototype.getVideoData=st.prototype.kc,st.prototype.getAudioData=st.prototype.Mb,st.prototype.getMetadata=st.prototype.getMetadata,st.prototype.parseNalus=st.prototype.cf,st.prototype.parseAvcNalus=st.prototype.Hh,st.prototype.parse=st.prototype.parse,st.prototype.clearData=st.prototype.clearData,st.Timescale=9e4;var wE=[100,110,122,244,44,83,86,118,128,138,139,134];function Xs(e,t,n){this.g=null,this.o=-1,this.l=e,this.i=t,this.m=n,this.j=!1;e:{if(typeof libDPIModule>"u"&&X("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,cr("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{X("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(X("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||X(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Tm(e){e.g&&e.i.classList.add("shaka-hidden")}Xs.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function xm(e,t,n){var r=TE,i=IE;switch(t.mimeType){case"video/webm":r=xE;break;case"video/mp4":r=SE}switch(n){case"DASH":i=AE;break;case"HLS":i=EE}e.g&&(e.o=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(r),e.j||e.g.setStreamingFormat(i))}ue("shaka.lcevc.Dec",Xs),Xs.prototype.release=Xs.prototype.release;var TE=0,xE=1,SE=2,EE=0,AE=1,IE=-1;function Sm(e,t,n,r){var i=this;this.i=e,this.C=null,this.F=t,this.g={},this.G={},this.ma={},this.h=null,this.Y=!1,this.Aa=n||function(){},this.N=r||null,this.j={},this.s=new ht,this.m={},this.H=null,this.J=new pt,this.K="",this.da=!1,this.l=Em(this,this.J),this.A=!1,this.I=new No(function(){return CE(i)}),this.u=!1,this.W="UNKNOWN",this.ka=this.za=!1,this.Ba=new pt,this.o=!1,this.ea=!0,this.V=null}function Em(e,t){if(v.ManagedMediaSource){e.i.disableRemotePlayback=!0;var n=new ManagedMediaSource;return e.s.D(n,"startstreaming",function(){e.ea=!0}),e.s.D(n,"endstreaming",function(){e.ea=!1}),e.s.ja(n,"sourceopen",function(){URL.revokeObjectURL(e.K),t.resolve()}),e.s.ja(e.i,"playing",function(){e.da=!0}),e.K=Ba(n),e.i.src=e.K,n}return n=new MediaSource,e.s.ja(n,"sourceopen",function(){URL.revokeObjectURL(e.K),t.resolve()}),e.s.ja(e.i,"playing",function(){e.da=!0}),e.K=Ba(n),e.i.src=e.K,n}d=Sm.prototype,d.destroy=function(){return this.I.destroy()};function CE(e){var t,n,r,i,o,s,u,l;return O(function(c){if(c.g==1){t=[];for(n in e.j)for(r=e.j[n],i=r[0],e.j[n]=r.slice(0,1),i&&t.push(i.p.catch(ug)),o=w(r.slice(1)),s=o.next();!s.done;s=o.next())u=s.value,u.p.reject(new P(2,7,7003,void 0));e.h&&t.push(e.h.destroy()),e.F&&t.push(e.F.destroy());for(l in e.m)t.push(e.m[l].destroy());return I(c,Promise.all(t),2)}e.s&&(e.s.release(),e.s=null),e.i&&(e.i.removeAttribute("src"),e.i.load(),e.i=null),e.C=null,e.l=null,e.h=null,e.F=null,e.g={},e.m={},e.H=null,e.j={},e.N=null,J(c)})}d.init=function(e,t,n,r){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,r=r===void 0?!1:r;var i=this,o,s,u,l,c;return O(function(h){if(h.g==1)return o=Vt,I(h,i.J,2);for(i.u=t,i.W=n,i.za=r,i.ka=!i.u&&i.W=="HLS"&&!i.za,s=w(e.keys()),u=s.next();!u.done;u=s.next())l=u.value,c=e.get(l),Oa(i,l,c,c.codecs),i.o?(i.j[o.P]=[],i.j[o.$]=[]):i.j[l]=[];J(h)})};function Oa(e,t,n,r,i){i=i===void 0?!1:i;var o=Nn(n.mimeType,r);if(t==ze)ja(e,o,e.u,n.external);else{var s=e.C.forceTransmux||i;if((!ge(o)||!e.u&&Eo.includes(o))&&(s=!0),i=xo(n.mimeType,r),s){if(s=Tn("audio",(r||"").split(",")),r=Tn("video",(r||"").split(",")),s&&r){e.o=!0,Oa(e,"audio",n,s,!0),Oa(e,"video",n,r,!0);return}(r=Bi(i))&&(o=r(),e.m[t]=o,o=o.convertCodecs(t,i))}i=o+e.C.sourceBufferExtraFeatures,nt(e.I);try{var u=e.l.addSourceBuffer(i)}catch(l){throw new P(2,3,3015,l,"The mediaSource_ status was "+e.l.readyState+" expected 'open'")}e.u&&(u.mode=UE),e.s.D(u,"error",function(){e.j[t][0].p.reject(new P(2,3,3014,e.i.error?e.i.error.code:0))}),e.s.D(u,"updateend",function(){return ni(e,t)}),e.g[t]=u,e.G[t]=o,e.ma[t]=!!n.drmInfos.length}}d.configure=function(e){this.C=e};function ja(e,t,n,r){e.h||(e.h=new Wr(e.F));var i=e.h;r=r||e.Y,e=e.W,t=="application/cea-608"||t=="application/cea-708"?i.i=null:(i.i=(0,$t[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):X('Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):X('Text parsers should have a "setManifestType" method!'),i.u=r)}function Am(e){return e.A?!1:e.l?e.l.readyState=="ended":!0}function Im(e,t){return e.A||!Object.keys(e.g).length?e=null:t==ze?e=e.h.g:(e=Bo(e,t),e=!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null),e}function ba(e,t){return e.A?null:t==ze?e.h.h:Cf(Bo(e,t))}function ME(e,t,n){return e.A?0:t==ze?(e=e.h,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=Bo(e,t),hm(e,n))}d.pb=function(){var e={total:this.A?[]:xi(this.i.buffered),audio:this.A?[]:xi(Bo(this,"audio")),video:this.A?[]:xi(Bo(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function Bo(e,t){try{return e.g[t].buffered}catch{return null}}function kE(e,t,n,r,i,o){var s=null,u=Me(n);if(Eo.includes(i))o=Ji(u),o.length&&r&&((t=o.find(function(m){return m.description==="com.apple.streaming.transportStreamTimestamp"}))&&t.data&&(s=Math.round(t.data)/1e3),e.Aa([{cueTime:r.startTime,data:u,frames:o,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(i.includes("/mp4")&&r&&r.timestampOffset==0&&r.aa&&r.aa.timescale){var l=r.aa.timescale;if(!isNaN(l)){var c=0,h=!1;new lt().box("moof",Ze).box("traf",Ze).O("tfdt",function(m){c=_f(m.reader,m.version).baseMediaDecodeTime/l,h=!0,m.parser.stop()}).parse(n,!0),h&&(s=c)}}else i.includes("/mp4")||i.includes("/webm")||!Lf(u)||(u=new st().parse(u),t=u.getStartTime(t),t!=null&&(s=t),u=u.getMetadata(),u.length&&e.Aa(u,o,r?r.endTime:null));return s}function Ua(e,t,n,r,i,o,s,u,l,c){s=s===void 0?!1:s,u=u===void 0?!1:u,l=l===void 0?!1:l,c=c===void 0?!1:c;var h,m,T,y,S,E,C,k,M,_,R;return O(function(L){switch(L.g){case 1:if(h=Vt,t!=h.na){L.B(2);break}if(!e.u){L.B(3);break}return I(L,e.Ba,4);case 4:m=L.h,e.h.s=m;case 3:return I(L,uS(e.h,n,r?r.startTime:null,r?r.endTime:null,r?r.Z()[0]:null),5);case 5:return L.return();case 2:if(c||!e.o){L.B(6);break}return I(L,Ua(e,h.P,n,r,i,o,s,u,l,!0),7);case 7:return I(L,Ua(e,h.$,n,r,i,o,s,u,l,!0),8);case 8:return L.return();case 6:if(!e.g[t])return L.return();if(T=e.g[t].timestampOffset,y=e.G[t],e.m[t]&&(y=e.m[t].getOriginalMimeType()),r&&(S=kE(e,t,n,r,y,T),S!=null&&(E=r.startTime-S,C=Math.abs(T-E),(.001<=C||s||u)&&(!l||0<E||!T)&&(T=E,e.ka&&(Ft(e,t,function(){return Vo(e,t)}),Ft(e,t,function(){return Ho(e,t,T)}))),k=t==h.$||!(h.$ in e.g),e.u&&k&&e.Ba.resolve(T))),o&&t==h.$&&(e.h||ja(e,"application/cea-608",e.u,!1),e.H||(M=y.split(";",1)[0],e.H=new Dn(M)),r?(_=e.H.i(n),_.length&&lS(e.h,_,r.startTime,r.endTime,T)):e.H.init(n)),!e.m[t]){L.B(9);break}return I(L,e.m[t].transmux(n,i,r,e.l.duration,t),10);case 10:n=L.h;case 9:return n=NE(e,n,r?r.startTime:null,t),r&&e.u&&t!=h.na&&(s||u)&&(R=r.startTime,Ft(e,t,function(){return Vo(e,t)}),Ft(e,t,function(){return Ho(e,t,R)})),I(L,Ft(e,t,function(){var j=n;if(t=="video"&&e.N){var $=e.N;$.g&&$.g.appendBuffer(j,"video",$.o,-T)}e.g[t].appendBuffer(j)}),11);case 11:J(L)}})}function RE(e,t){var n=ba(e,"video")||0;og(e.h,t,n)}function _E(e){e.h&&og(e.h,"",0)}d.remove=function(e,t,n){var r=this,i;return O(function(o){return o.g==1?(i=Vt,e==i.na?I(o,r.h.remove(t,n),0):I(o,Ft(r,e,function(){return Fa(r,e,t,n)}),4)):r.o?I(o,Ft(r,i.P,function(){return Fa(r,i.P,t,n)}),0):o.B(0)})};function Cm(e,t){var n;return O(function(r){return r.g==1?(n=Vt,t==n.na?e.h?I(r,e.h.remove(0,1/0),0):r.return():I(r,Ft(e,t,function(){return Fa(e,t,0,e.l.duration)}),4)):e.o?I(r,Ft(e,n.P,function(){return Fa(e,n.P,0,e.l.duration)}),0):r.B(0)})}d.flush=function(e){var t=this,n;return O(function(r){return r.g==1?(n=Vt,e==n.na?r.return():I(r,Ft(t,e,function(){t.i.currentTime-=.001,ni(t,e)}),2)):t.o?I(r,Ft(t,n.P,function(){var i=n.P;t.i.currentTime-=.001,ni(t,i)}),0):r.B(0)})};function PE(e,t,n,r,i,o,s,u,l){var c,h,m;return O(function(T){return T.g==1?(c=Vt,t==c.na?(o||(e.h.s=n),aS(e.h,r,i),T.return()):(h=[],I(T,jE(e,t,s,u,l),2))):(m=T.h,m||(h.push(Ft(e,t,function(){return Vo(e,t)})),e.o&&h.push(Ft(e,c.P,function(){return Vo(e,c.P)}))),o||(h.push(Ft(e,t,function(){return Ho(e,t,n)})),e.o&&h.push(Ft(e,c.P,function(){return Ho(e,c.P,n)}))),h.push(Ft(e,t,function(){e.g[t].appendWindowStart=0,e.g[t].appendWindowEnd=i,e.g[t].appendWindowStart=r,ni(e,t)})),e.o&&h.push(Ft(e,c.P,function(){var y=c.P;e.g[y].appendWindowStart=0,e.g[y].appendWindowEnd=i,e.g[y].appendWindowStart=r,ni(e,y)})),I(T,Promise.all(h),0))})}function DE(e,t,n){var r;return O(function(i){return i.g==1?(r=Vt,t==r.na?i.return():(Ft(e,t,function(){return Vo(e,t)}),e.o&&Ft(e,r.P,function(){return Vo(e,r.P)}),I(i,Ft(e,t,function(){return Ho(e,t,n)}),2))):e.o?I(i,Ft(e,r.P,function(){return Ho(e,r.P,n)}),0):i.B(0)})}d.endOfStream=function(e){var t=this;return O(function(n){return I(n,jf(t,function(){Am(t)||t.l.readyState==="closed"||(e?t.l.endOfStream(e):t.l.endOfStream())}),0)})},d.Pa=function(e){var t=this;return O(function(n){return I(n,jf(t,function(){if(e<t.l.duration)for(var r in t.g){var i={start:function(){},p:new pt};t.j[r].unshift(i)}t.l.duration=e,t.V=e}),0)})},d.getDuration=function(){return this.l.duration};function Fa(e,t,n,r){r<=n?ni(e,t):e.g[t].remove(n,r)}function Vo(e,t){var n=e.g[t].appendWindowStart,r=e.g[t].appendWindowEnd;e.g[t].abort(),e.g[t].appendWindowStart=n,e.g[t].appendWindowEnd=r,ni(e,t)}function Ho(e,t,n){0>n&&(n+=.001),e.g[t].timestampOffset=n,ni(e,t)}function ni(e,t){if(!e.A){var n=e.j[t][0];n&&(n.p.resolve(),bf(e,t))}}function Ft(e,t,n){return nt(e.I),n={start:n,p:new pt},e.j[t].push(n),e.j[t].length==1&&Mm(e,t),n.p}function jf(e,t){var n,r,i,o,s,u,l;return O(function(c){switch(c.g){case 1:nt(e.I),n=[],r={};for(i in e.g)r.yc=new pt,o={start:function(h){return function(){return h.yc.resolve()}}(r),p:r.yc},e.j[i].push(o),n.push(r.yc),e.j[i].length==1&&o.start(),r={yc:r.yc};return Ce(c,2),I(c,Promise.all(n),4);case 4:ae(c,3);break;case 2:throw s=Y(c),s;case 3:return Ce(c,5,6),I(c,t(),6);case 6:re(c);for(u in e.g)bf(e,u);ce(c,0);break;case 5:throw l=Y(c),new P(2,3,3015,l,e.i.error||"No error in the media element")}})}function bf(e,t){e.j[t].shift(),Mm(e,t)}function Mm(e,t){var n=e.j[t][0];if(n)try{n.start()}catch(r){r.name=="QuotaExceededError"?n.p.reject(new P(2,3,3017,t)):n.p.reject(new P(2,3,3015,r,e.i.error||"No error in the media element")),bf(e,t)}}function NE(e,t,n,r){var i=e.ma[r];return e.C.insertFakeEncryptionInInit&&n==null&&i&&(Ki()||Vs()||Tt("SOPOpenBrowser"))&&e.G[r].split(";")[0].split("/")[1]=="mp4"&&(t=cE(t)),t}function LE(e,t,n,r){return Ft(e,t,function(){t!==ze&&(je()&&(e.m[t]&&(e.m[t].destroy(),delete e.m[t]),r&&(e.m[t]=r),e.g[t].changeType(n+e.C.sourceBufferExtraFeatures),e.G[t]=n),ni(e,t))})}function OE(e,t){var n,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H;return O(function(K){switch(K.g){case 1:n=Vt,e.A=!0,e.o=!1,r=e.i.currentTime,i=e.i.autoplay,o=e.i.paused,e.da&&(e.i.autoplay=!1),rn(K,2),e.s.Za(),s=[];for(u in e.m)s.push(e.m[u].destroy());for(l in e.j)for(c=e.j[l],h=c[0],e.j[l]=c.slice(0,1),h&&s.push(h.p.catch(ug)),m=w(c.slice(1)),T=m.next();!T.done;T=m.next())y=T.value,y.p.reject(new P(2,7,7003,void 0));for(S in e.g){E=e.g[S];try{e.l.removeSourceBuffer(E)}catch{}}return I(K,Promise.all(s),4);case 4:return e.m={},e.g={},C=e.l.duration,e.J=new pt,e.l=Em(e,e.J),I(K,e.J,5);case 5:for(!isNaN(C)&&C?e.l.duration=C:!isNaN(e.V)&&e.V&&(e.l.duration=e.V),k=new pt,M=e.l.sourceBuffers,_=t.size,R=0,e.s.D(M,"addsourcebuffer",function(){R++,R===_&&k.resolve()}),L=w(t.keys()),j=L.next();!j.done;j=L.next())$=j.value,H=t.get($),Oa(e,$,H,H.codecs),e.o?(e.j[n.P]=[],e.j[n.$]=[]):e.j[$]=[];return e.i.currentTime=r,I(K,k,2);case 2:re(K),e.A=!1,nt(e.I),e.s.ja(e.i,"canplaythrough",function(){nt(e.I),e.i.autoplay=i,o||e.i.play()}),ce(K,0)}})}function km(e,t){return jf(e,function(){return OE(e,t)})}function jE(e,t,n,r,i){var o,s,u,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){return R.g==1?(o=Vt,t==o.na||(s=xr(ar(e.G[t])),u=Gr(e.G[t]),c=!1,h=Nn(n,r),m=e.C.forceTransmux,(!ge(h)||!e.u&&Eo.includes(h)||r.includes(","))&&(m=!0),m&&(T=xo(n,r),y=Bi(T))&&(l=y(),S=Tn(o.P,(r||"").split(",")),E=Tn(o.$,(r||"").split(",")),S&&E?(c=!0,C=E,t==o.P&&(C=S),h=l.convertCodecs(t,xo(n,C))):h=l.convertCodecs(t,T)),k=xr(ar(h)),M=Gr(h),s===k&&u===M)?R.return(!1):(_=!0,(e.o||c&&l&&!e.m[t])&&(_=!1),_&&e.C.codecSwitchingStrategy==="smooth"&&je()?I(R,LE(e,t,h,l),3):(l&&l.destroy(),I(R,km(e,i),3)))):R.return(!0)})}function bE(e,t,n){if(t==ze)var r=!1;else{r=xr(ar(e.G[t]));var i=Gr(e.G[t]),o=Nn(n.mimeType,n.codecs),s=e.C.forceTransmux;(!ge(o)||!e.u&&Eo.includes(o)||n.codecs.includes(","))&&(s=!0),n=xo(n.mimeType,n.codecs),s&&(s=Bi(n))&&(s=s(),o=s.convertCodecs(t,n),s.destroy()),t=xr(ar(o)),o=Gr(o),r=r!==t||i!==o}return r?e.C.codecSwitchingStrategy!=="smooth"||!je()||e.o:!1}var Ba=v.URL.createObjectURL,UE="sequence";function De(e,t,n){this.i=e,this.o=t,this.u=this.j=1/0,this.g=1,this.h=this.l=null,this.s=0,this.C=!0,this.F=0,this.A=n===void 0?!0:n,this.G=0,this.m=!1}d=De.prototype,d.getDuration=function(){return this.j},d.$g=function(){return this.g},d.qf=function(e){this.i=e},d.Pa=function(e){this.j=e},d.eh=function(){return this.i},d.mg=function(e){this.s=e},d.pc=function(e){this.C=e},d.Xd=function(e){this.u=e},d.ng=function(e){this.o=e},d.Tg=function(){return this.o},d.dg=function(e,t){if(e.length!=0){var n=e[e.length-1].end+t;this.Sd(e[0].start+t),this.g=e.reduce(function(r,i){return Math.max(r,i.end-i.start)},this.g),this.h=Math.max(this.h,n),this.i!=null&&this.A&&!this.m&&(this.i=(Date.now()+this.s)/1e3-this.h-this.g)}},d.Xc=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.s)/1e3;e=w(e);for(var i=e.next();!i.done;i=e.next())i=i.value,r<i.startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.g=Math.max(this.g,i.endTime-i.startTime));this.Sd(t),this.h=Math.max(this.h,n),this.i!=null&&this.A&&!this.m&&(this.i=r-this.h-this.g)}},d.Nd=function(){this.m=!0},d.yh=function(){return this.m},d.Sd=function(e){this.l=this.l==null?e:Math.min(this.l,e)},d.Ye=function(e){this.g=Math.max(this.g,e)},d.offset=function(e){this.l!=null&&(this.l+=e),this.h!=null&&(this.h+=e)},d.R=function(){return this.j==1/0&&!this.C},d.Rb=function(){return this.j!=1/0&&!this.C},d.eb=function(){return Math.max(this.F,this.Bb()-this.u)},d.qg=function(e){this.F=e},d.Bb=function(){return this.R()||this.Rb()?Math.min(Math.max(0,(Date.now()+this.s)/1e3-this.g-this.i)+this.G,this.j):this.h?Math.min(this.h,this.j):this.j},d.Rc=function(e){var t=Math.max(this.l,this.F);return this.u==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.Bb()-this.u+e,this.qb()))},d.hc=function(){return this.Rc(0)},d.qb=function(){return Math.max(0,this.Bb()-(this.R()||this.Rb()?this.o:0))},d.ug=function(){return!(this.i==null||this.h!=null&&this.A)},d.lg=function(e){this.G=e},ue("shaka.media.PresentationTimeline",De),De.prototype.setAvailabilityTimeOffset=De.prototype.lg,De.prototype.usingPresentationStartTime=De.prototype.ug,De.prototype.getSeekRangeEnd=De.prototype.qb,De.prototype.getSeekRangeStart=De.prototype.hc,De.prototype.getSafeSeekRangeStart=De.prototype.Rc,De.prototype.getSegmentAvailabilityEnd=De.prototype.Bb,De.prototype.setUserSeekStart=De.prototype.qg,De.prototype.getSegmentAvailabilityStart=De.prototype.eb,De.prototype.isInProgress=De.prototype.Rb,De.prototype.isLive=De.prototype.R,De.prototype.offset=De.prototype.offset,De.prototype.notifyMaxSegmentDuration=De.prototype.Ye,De.prototype.notifyMinSegmentStartTime=De.prototype.Sd,De.prototype.isStartTimeLocked=De.prototype.yh,De.prototype.lockStartTime=De.prototype.Nd,De.prototype.notifySegments=De.prototype.Xc,De.prototype.notifyTimeRange=De.prototype.dg,De.prototype.getDelay=De.prototype.Tg,De.prototype.setDelay=De.prototype.ng,De.prototype.setSegmentAvailabilityDuration=De.prototype.Xd,De.prototype.setStatic=De.prototype.pc,De.prototype.setClockOffset=De.prototype.mg,De.prototype.getPresentationStartTime=De.prototype.eh,De.prototype.setDuration=De.prototype.Pa,De.prototype.setPresentationStartTime=De.prototype.qf,De.prototype.getMaxSegmentDuration=De.prototype.$g,De.prototype.getDuration=De.prototype.getDuration;function Rm(e,t,n){this.j=n,this.l=e,this.s=_m(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=t,this.i=function(){}}Rm.prototype.release=function(){this.j=this.l=null,this.i=function(){}};function FE(e,t){e.i=t}function BE(e){this.g=e}function _m(e){if(e.g.paused||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=w(xi(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Uf(e,t,n,r,i){var o=this;this.u=i,this.g=e,this.A=t,this.s=n,this.l=new ht,this.j=!1,this.F=e.readyState,this.C=this.i=0,this.h=r,this.o=!1,this.l.D(e,"waiting",function(){return Ff(o)}),this.m=new Ve(function(){Ff(o)}).$a(this.s.gapJumpTimerTime)}Uf.prototype.release=function(){this.l&&(this.l.release(),this.l=null),this.m!=null&&(this.m.stop(),this.m=null),this.h&&(this.h.release(),this.h=null),this.g=this.A=this.u=null},Uf.prototype.af=function(){this.o=!0,Ff(this)};function Ff(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){e.g.readyState!=e.F&&(e.F=e.g.readyState);var t;if(!(t=!e.h)){t=e.h;var n=t.l,r=_m(n),i=n.g.currentTime,o=Date.now()/1e3;(t.g!=i||t.s!=r)&&(t.m=o,t.g=i,t.s=r,t.h=!1),i=o-t.m,(r=i>=t.u&&r&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=n.g.currentTime,t.o++,t.j(new Ee("stalldetected"))),t=!r}t&&(t=e.g.currentTime,n=e.g.buffered,r=dE(n,t,e.s.gapDetectionThreshold),r==null||r==0&&!e.o||(i=n.start(r),i>=e.A.qb()||.001>i-t||(r!=0&&n.end(r-1),e.g.currentTime=i,t==e.i&&(e.i=i),e.C++,e.u(new Ee("gapjumped")))))}}}function Ko(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=VE.value().get(t),n.ja(e,t,r))}var VE=new Lo(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Pm(e,t,n,r){var i=this;this.g=e,this.m=t,this.s=n,this.l=null,this.j=function(){return i.l==null&&(i.l=r()),i.l},this.o=!1,this.h=new ht,this.i=new Om(e),Ko(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Nm(i,i.j())})}Pm.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function Bf(e){return e.o?e.g.currentTime:e.j()}function Dm(e,t){0<e.g.readyState?jm(e.i,t):Ko(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){Nm(e,e.j())})}function Nm(e,t){.001>Math.abs(e.g.currentTime-t)?Lm(e):(e.h.ja(e.g,"seeking",function(){Lm(e)}),jm(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function Lm(e){e.o=!0,e.h.D(e.g,"seeking",function(){return e.m()}),e.s(e.g.currentTime)}function Om(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new Ve(function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)})}Om.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null};function jm(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.$a(.1)}function bm(e){this.g=e,this.j=!1,this.h=null,this.i=new ht}d=bm.prototype,d.ie=function(){function e(){t.h==null||t.h==0?t.j=!0:(t.i.ja(t.g,"seeking",function(){t.j=!0}),t.g.currentTime=Math.max(0,t.g.currentTime+t.h))}var t=this;Ko(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},d.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},d.je=function(e){this.h=this.j?this.h:e},d.qd=function(){return(this.j?this.g.currentTime:this.h)||0},d.Bf=function(){return 0},d.Af=function(){return 0},d.cg=function(){};function Um(e,t,n,r,i,o){var s=this;this.i=e,this.g=t.presentationTimeline,this.A=t.minBufferTime||0,this.l=n,this.u=i,this.s=null,this.o=HE(e,n,o),this.j=new Uf(e,t.presentationTimeline,n,this.o,o),this.h=new Pm(e,function(){e:{var u=s.j;u.j=!0,u.o=!1;var l=Bf(s.h);if(u=Bm(s,l),.001<Math.abs(u-l)&&(l=Date.now()/1e3,!s.s||s.s<l-1)){s.s=l,Dm(s.h,u),u=void 0;break e}s.u(),u=void 0}return u},function(u){var l=s.j;l.g.seeking&&!l.j&&(l.j=!0,l.i=u)},function(){var u=r;return u==null?u=1/0>s.g.getDuration()?s.g.hc():s.g.qb():0>u&&(u=s.g.qb()+u),Fm(s,Vm(s,u))}),this.m=new Ve(function(){if(s.i.readyState!=0&&!s.i.paused){var u=Bf(s.h),l=s.g.hc(),c=s.g.qb();3>c-l&&(l=c-3),u<l&&(u=Bm(s,u),s.i.currentTime=u)}})}d=Um.prototype,d.ie=function(){this.m.$a(.25)},d.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},d.je=function(e){Dm(this.h,e)},d.qd=function(){var e=Bf(this.h);return 0<this.i.readyState&&!this.i.paused?Vm(this,e):e},d.Bf=function(){return this.o?this.o.o:0},d.Af=function(){return this.j.C},d.cg=function(){this.j.af()};function Fm(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Bm(e,t){var n=Math.max(e.A,e.l.rebufferingGoal),r=e.l.safeSeekOffset,i=e.g.hc(),o=e.g.qb(),s=e.g.getDuration();3>o-i&&(i=o-3);var u=e.g.Rc(n),l=e.g.Rc(r);return n=e.g.Rc(n+r),t>=s?Fm(e,t):t>o?o:t<i?Mf(e.i.buffered,l)?l:n:t>=u||Mf(e.i.buffered,t)?t:n}function Vm(e,t){var n=e.g.hc();return t<n?n:(e=e.g.qb(),t>e?e:t)}function HE(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return t=new Rm(new BE(e),t.stallThreshold,n),FE(t,function(){r?e.currentTime+=r:(e.pause(),e.play())}),t}function Xe(e){this.g=e,this.m=null,this.j=0,this.o=!1}d=Xe.prototype,d.Ab=function(){return this.g.length},d.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},d.Ch=function(){this.o=!0};function Vf(e,t){e=w(e.g);for(var n=e.next();!n.done;n=e.next())t(n.value)}d.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.j}return this.g.length&&e<this.g[0].startTime?this.j:null},d.get=function(e){return this.g.length==0?null:(e-=this.j,0>e||e>=this.g.length?null:this.g[e])},d.offset=function(e){if(!this.o)for(var t=w(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},d.Qd=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,U(e))}},d.Wc=function(e,t){var n=this;e=e.filter(function(r){return r.endTime>t&&(n.g.length==0||r.endTime>n.g[0].startTime)}),this.Qd(e),this.bb(t)},d.bb=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.j+=t-this.g.length}},d.bc=function(e,t,n){if(n=n===void 0?!1:n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.j++;this.g.length!=0&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new Ae(e.startTime,t,e.A,e.Qa,e.wa,e.aa,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.u,e.ca,e.status,e.aes128Key),this.g[this.g.length-1].i=e.i)}},d.Yd=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new Ve(function(){var r=t();r?n.g.push.apply(n.g,U(r)):(n.m.stop(),n.m=null)}),this.m.$a(e))},Xe.prototype[Symbol.iterator]=function(){return this.Nb(0)},Xe.prototype.Nb=function(e){var t=this.find(e);if(t==null)return null;t--;var n=this.get(t+1),r=-1;if(n&&0<n.g.length)for(var i=n.g.length-1;0<=i;--i){var o=n.g[i];if(e>=o.startTime&&e<o.endTime){for(;i&&!o.j;)i--,o=n.g[i];if(!o.j)return Z("No independent partial segment found!"),null;t++,r=i-1;break}}return new Er(this,t,r)};function Hf(e,t,n){return e=new Ae(e,e+t,function(){return n},0,null,null,e,e,e+t),new Xe([e])}ue("shaka.media.SegmentIndex",Xe),Xe.forSingleSegment=Hf,Xe.prototype.getIteratorForTime=Xe.prototype.Nb,Xe.prototype.updateEvery=Xe.prototype.Yd,Xe.prototype.fit=Xe.prototype.bc,Xe.prototype.evict=Xe.prototype.bb,Xe.prototype.mergeAndEvict=Xe.prototype.Wc,Xe.prototype.offset=Xe.prototype.offset,Xe.prototype.get=Xe.prototype.get,Xe.prototype.find=Xe.prototype.find,Xe.prototype.markImmutable=Xe.prototype.Ch,Xe.prototype.release=Xe.prototype.release;function Er(e,t,n){this.i=e,this.g=t,this.h=n}Er.prototype.Kg=function(){return this.g},Er.prototype.current=function(){var e=this.i.get(this.g);return e&&0<e.g.length&&e.o&&this.h>=e.g.length&&(this.g++,this.h=0,e=this.i.get(this.g)),e&&0<e.g.length?e.g[this.h]:e},Er.prototype.next=function(){var e=this.i.get(this.g);return e&&0<e.g.length?(this.h++,e.o&&this.h==e.g.length&&(this.g++,this.h=0)):(this.g++,this.h=0),e=this.current(),{value:e,done:!e}},ue("shaka.media.SegmentIterator",Er),Er.prototype.next=Er.prototype.next,Er.prototype.current=Er.prototype.current,Er.prototype.currentPosition=Er.prototype.Kg;function Pt(){Xe.call(this,[]),this.h=[]}Pe(Pt,Xe),d=Pt.prototype,d.clone=function(){var e=new Pt;return e.h=this.h.slice(),e},d.release=function(){for(var e=w(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},d.find=function(e){for(var t=0,n=w(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.find(e);if(i!=null)return i+t;t+=r.j+r.Ab()}return null},d.get=function(e){for(var t=0,n=w(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.get(e-t);if(i)return i;t+=r.j+r.Ab()}return null},d.offset=function(){},d.Qd=function(){},d.bb=function(){},d.Wc=function(){},d.bc=function(){},d.Yd=function(){},ue("shaka.media.MetaSegmentIndex",Pt),Pt.prototype.updateEvery=Pt.prototype.Yd,Pt.prototype.fit=Pt.prototype.bc,Pt.prototype.mergeAndEvict=Pt.prototype.Wc,Pt.prototype.evict=Pt.prototype.bb,Pt.prototype.merge=Pt.prototype.Qd,Pt.prototype.offset=Pt.prototype.offset,Pt.prototype.get=Pt.prototype.get,Pt.prototype.find=Pt.prototype.find,Pt.prototype.release=Pt.prototype.release;function Ys(e){var t=this;this.g=e,this.h=this.g.Ed(),this.i=new Ve(function(){t.g.bg(.25*t.h)})}Ys.prototype.release=function(){this.set(this.ec()),this.i&&(this.i.stop(),this.i=null),this.g=null},Ys.prototype.set=function(e){if(this.h!=e)e:{if(this.h=e,this.i.stop(),0<=this.h)try{var t=this.h;this.g.Ed()!=t&&this.g.rf(t);break e}catch{}this.i.$a(.25),this.g.Ed()!=0&&this.g.rf(0)}},Ys.prototype.ec=function(){return this.g.ec()};function Hm(e){var t=this;this.h=e,this.g=new Set,this.i=new Ve(function(){Km(t,!1)}).$a(.25)}Hm.prototype.release=function(){this.i.stop();for(var e=w(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function Km(e,t){for(var n=w(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function Va(e){Qe.call(this),this.g=new Map,this.h=e}Pe(Va,Qe),Va.prototype.release=function(){this.g.clear(),Qe.prototype.release.call(this)};function KE(e,t){var n=e.g.get(t);return n||(n={$c:[],If:null,contentType:t},e.g.set(t,n)),n}function zE(e,t,n){var r=KE(e,t.contentType);$E(e,r),e={Ve:t,position:n},r=r.$c,t=r.findIndex(function(i){return i.position>=n}),0<=t?r.splice(t,r[t].position==n?1:0,e):r.push(e)}Va.prototype.j=function(e){for(var t=w(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;e:{for(var r=n.$c,i=r.length-1;0<=i;i--){var o=r[i];if(o.position<=e){r=o.Ve;break e}}r=null}if((i=r)&&(i=n.If,i=!(i===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width)),i)e:{if(i=e,o=r.contentType,(o=this.h()[o])&&0<o.length){var s=o[o.length-1].end;if(i>=o[0].start&&i<s){i=!0;break e}}i=!1}i&&(n.If=r,JSON.stringify(r),n=new Ee("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}};function $E(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.$c;t.$c=i.filter(function(o,s){return!(o.position<=n&&s+1<i.length&&i[s+1].position<=n||o.position>=r)})}else t.$c=[]}function Kf(e){Qe.call(this);var t=this;this.g=new Set,this.i=e,this.h=new Ve(function(){for(var n=t.i(),r=w(t.g),i=r.next();!i.done;i=r.next())i=i.value,i.endTime<n.start&&(t.g.delete(i),i=new Ee("regionremove",new Map([["region",i]])),t.dispatchEvent(i))}).$a(2)}Pe(Kf,Qe),Kf.prototype.release=function(){this.g.clear(),this.h.stop(),Qe.prototype.release.call(this)};function Ha(e,t){Qe.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Yb:null,Xb:zo,Qb:function(r,i){return Qi(n,"enter",r,i)}},{Yb:Js,Xb:zo,Qb:function(r,i){return Qi(n,"enter",r,i)}},{Yb:Qs,Xb:zo,Qb:function(r,i){return Qi(n,"enter",r,i)}},{Yb:zo,Xb:Js,Qb:function(r,i){return Qi(n,"exit",r,i)}},{Yb:zo,Xb:Qs,Qb:function(r,i){return Qi(n,"exit",r,i)}},{Yb:Js,Xb:Qs,Qb:function(r,i){return Qi(n,"skip",r,i)}},{Yb:Qs,Xb:Js,Qb:function(r,i){return Qi(n,"skip",r,i)}}],this.h=new ht,this.h.D(this.i,"regionremove",function(r){n.g.delete(r.region)})}Pe(Ha,Qe),Ha.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Qe.prototype.release.call(this)},Ha.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=w(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=e<r.startTime?Js:e>r.endTime?Qs:zo;this.g.set(r,o);for(var s=w(this.m),u=s.next();!u.done;u=s.next())u=u.value,u.Yb==i&&u.Xb==o&&u.Qb(r,t)}}};function Qi(e,t,n,r){t=new Ee(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}var Js=1,zo=2,Qs=3;function GE(e,t,n){this.i=e,this.h=t,this.j=0,this.l=n,this.g=new Map}function zf(e,t,n){if(n=n===void 0?!1:n,e.h.segmentIndex){var r=e.h.segmentIndex.Nb(Math.max(t.startTime,e.j));if(r){var i=t;for(n&&(i=r.next().value)&&i.startTime==t.startTime&&i.endTime==t.endTime&&(i=null);e.g.size<e.i&&i!=null&&(t=!0,i.l&&i.wa!=null&&(t=!1),i.Pb()==2&&(t=!1),t&&!e.g.has(i)&&(t=new $f(e.l),Gm(t,i,e.h),e.g.set(i,t)),e.j=i.startTime,!(e.h.fastSwitching&&i.Zc&&i.Md));)i=r.next().value}}}function WE(e,t){if(e.h.segmentIndex&&e.g.size<e.i&&!e.g.has(t)){var n=new $f(e.l);Gm(n,t,e.h),e.g.set(t,n)}}function zm(e){if(e.g.size!==0){for(var t=w(e.g.keys()),n=t.next();!n.done;n=t.next())(n=n.value)&&$m(e,n);e.j=0}}function qE(e,t){t&&t!==e.h&&(zm(e),e.h=t)}function $m(e,t){var n=e.g.get(t);e.g.delete(t),n&&n.abort()}function $f(e){this.i=e,this.g=this.h=null}function Gm(e,t,n){var r=new Uint8Array(0);e.g=e.i(t,n,function(i){return O(function(o){if(o.g==1)return 0<r.byteLength?r=St(r,i):r=i,e.h?I(o,e.h(r),3):o.B(0);r=new Uint8Array(0),J(o)})})}$f.prototype.abort=function(){this.g&&this.g.abort()};function Ka(e,t,n,r,i){return e=Gt(e,r,i),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Wm(e,t){var n=this;this.g=t,this.m=e,this.h=null,this.u=1,this.o=this.j=null,this.F=0,this.C=!1,this.i=new Map,this.A=!1,this.G=null,this.s=!1,this.l=new No(function(){return XE(n)}),this.H=Date.now()/1e3}d=Wm.prototype,d.destroy=function(){return this.l.destroy()};function XE(e){var t,n,r,i;return O(function(o){if(o.g==1){for(t=[],n=w(e.i.values()),r=n.next();!r.done;r=n.next())i=r.value,eu(i),t.push(tu(i));return I(o,Promise.all(t),2)}e.i.clear(),e.g=null,e.m=null,e.h=null,J(o)})}d.configure=function(e){this.h=e,this.G=new _g({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0);for(var t=w(this.i.keys()),n=t.next();!n.done;n=t.next())if(n=this.i.get(n.value),n.ra){var r=n.ra,i=e.segmentPrefetchLimit;r.i=i;for(var o=Array.from(r.g.keys());o.length>i;){var s=o.pop();s&&$m(r,s)}0<e.segmentPrefetchLimit||(n.ra=null)}else 0<e.segmentPrefetchLimit&&(n.ra=Jm(this,n.stream))},d.start=function(){var e=this;return O(function(t){if(t.g==1)return I(t,ZE(e),2);nt(e.l),e.A=!0,J(t)})};function YE(e,t){var n,r,i,o,s,u;O(function(l){switch(l.g){case 1:return n=Vt,e.F++,r=e.F,Ce(l,2),I(l,Cm(e.g.T,n.na),4);case 4:ae(l,3);break;case 2:i=Y(l),e.g&&e.g.onError(i);case 3:o=Nn(t.mimeType,t.codecs),ja(e.g.T,o,e.m.sequenceMode,t.external),s=e.g.T.F,(s.isTextVisible()||e.h.alwaysStreamText)&&e.F==r&&(u=Ym(e,t),e.i.set(n.na,u),pr(e,u,0)),J(l)}})}function JE(e){var t=e.i.get(ze);t&&(eu(t),tu(t).catch(function(){}),e.i.delete(ze)),e.o=null}function qm(e,t){var n=e.i.get("video");if(n){var r=n.stream;r&&(t?(t=r.trickModeVideo)&&!n.Ub&&($o(e,t,!1,0,!1),n.Ub=r):(r=n.Ub)&&(n.Ub=null,$o(e,r,!0,0,!1)))}}function Xm(e,t,n,r,i,o){n=n===void 0?!1:n,r=r===void 0?0:r,i=i===void 0?!1:i,o=o===void 0?!1:o,e.j=t,e.A&&(t.video&&$o(e,t.video,n,r,i,o),t.audio&&$o(e,t.audio,n,r,i,o))}function za(e,t){O(function(n){if(n.g==1)return e.o=t,e.A?t.segmentIndex?n.B(2):I(n,t.createSegmentIndex(),2):n.return();$o(e,t,!0,0,!1),J(n)})}function $o(e,t,n,r,i,o){var s=e.i.get(t.type);s||t.type!=ze?s&&(s.Ub&&(t.trickModeVideo?(s.Ub=t,t=t.trickModeVideo):s.Ub=null),s.stream!=t||i)&&(s.ra&&qE(s.ra,t),t.type==ze&&(i=Nn(t.mimeType,t.codecs),ja(e.g.T,i,e.m.sequenceMode,t.external)),s.stream.closeSegmentIndex&&s.stream.closeSegmentIndex(),s.stream=t,s.X=null,s.Cf=!!o,n&&(s.Lc?s.Zd=!0:s.Da?(s.wb=!0,s.vd=r,s.Zd=!0):(eu(s),Xf(e,s,!0,r).catch(function(u){e.g&&e.g.onError(u)}))),QE(e,s).catch(function(u){e.g&&e.g.onError(u)})):YE(e,t)}function QE(e,t){var n,r;return O(function(i){if(i.g==1)return t.Na?(n=t.stream,r=t.Na,n.segmentIndex?i.B(2):I(i,n.createSegmentIndex(),2)):i.return();if(t.Na!=r||t.stream!=n)return i.return();var o=e.g.Dd(),s=ba(e.g.T,t.type),u=t.stream.segmentIndex.find(t.Ca?t.Ca.endTime:o),l=u==null?null:t.stream.segmentIndex.get(u);u=l&&l.wa?l.wa-l.Qa:null,l&&!u&&(u=(l.endTime-l.getStartTime())*(t.stream.bandwidth||0)/8),u?((l=l.aa)&&(u+=(l.wa?l.wa-l.Qa:null)||0),l=e.g.getBandwidthEstimate(),o=8*u/l<(s||0)-o-Math.max(e.m.minBufferTime||0,e.h.rebufferingGoal)||t.Na.h.g>u):o=!1,o&&t.Na.abort(),J(i)})}d.dd=function(){if(this.g)for(var e=this.g.Dd(),t=w(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=null;n.X&&(i=n.X.current()),(!i||i.startTime>e||i.endTime<e)&&(n.X=null),i=this.g.T,i.A?i=!1:r==ze?(i=i.h,i=i.g==null||i.h==null?!1:e>=i.g&&e<i.h):(i=Bo(i,r),i=Mf(i,e)),i||((ba(this.g.T,r)!=null||n.Da)&&Zs(this,n),n.Na&&(n.Na.abort(),n.Na=null),r===ze&&(r=this.g.T,r.H&&r.H.h()),n.dd=!0)}};function Zs(e,t){t.Lc||t.wb||(t.Da?(t.wb=!0,t.vd=0):Im(e.g.T,t.type)==null?t.ib==null&&pr(e,t,0):(eu(t),Xf(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function ZE(e){var t,n,r,i,o,s,u,l,c;return O(function(h){if(h.g==1){if(t=Vt,!e.j)throw new P(2,5,5006);return n=new Map,r=new Set,e.j.audio&&(n.set(t.P,e.j.audio),r.add(e.j.audio)),e.j.video&&(n.set(t.$,e.j.video),r.add(e.j.video)),e.o&&(n.set(t.na,e.o),r.add(e.o)),i=e.g.T,I(h,i.init(n,e.m.sequenceMode,e.m.type,e.m.ignoreManifestTimestampsInSegmentsMode),2)}for(nt(e.l),e.updateDuration(),o=w(n.keys()),s=o.next();!s.done;s=o.next())u=s.value,l=n.get(u),e.i.has(u)||(c=Ym(e,l),e.i.set(u,c),pr(e,c,0));J(h)})}function Ym(e,t){return{stream:t,type:t.type,X:null,ra:Jm(e,t),Ca:null,Db:null,Re:null,Pe:null,Oe:null,Ub:null,endOfStream:!1,Da:!1,ib:null,wb:!1,vd:0,Zd:!1,Lc:!1,dd:!0,Xe:!1,ff:!1,Tc:!1,Na:null}}function Jm(e,t){return t.type!=="video"&&t.type!=="audio"?null:0<e.h.segmentPrefetchLimit?new GE(e.h.segmentPrefetchLimit,t,function(n,r,i){return Qm(e,n,r,i)}):null}d.updateDuration=function(){var e=this.m.presentationTimeline.getDuration();1/0>e?this.g.T.Pa(e):this.g.T.Pa(Math.pow(2,32))};function eA(e,t){var n,r,i,o,s;return O(function(u){switch(u.g){case 1:if(nt(e.l),t.Da||t.ib==null||t.Lc)return u.return();if(t.ib=null,!t.wb){u.B(2);break}return I(u,Xf(e,t,t.Zd,t.vd),3);case 3:return u.return();case 2:if(t.stream.segmentIndex){u.B(4);break}return n=t.stream,I(u,t.stream.createSegmentIndex(),5);case 5:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Da||t.ib||pr(e,t,0),u.return();case 4:Ce(u,6),r=tA(e,t),r!=null&&(pr(e,t,r),t.Tc=!1),ae(u,7);break;case 6:return i=Y(u),I(u,Zm(e,t,i),8);case 8:return u.return();case 7:if(o=Array.from(e.i.values()),!e.A||!o.every(function(l){return l.endOfStream})){u.B(0);break}return I(u,e.g.T.endOfStream(),10);case 10:nt(e.l),s=e.g.T.getDuration(),s!=0&&s<e.m.presentationTimeline.getDuration()&&e.m.presentationTimeline.Pa(s),J(u)}})}function tA(e,t){if(Wf(t))return RE(e.g.T,t.stream.originalId||""),null;if(t.type==ze&&_E(e.g.T),!e.g.T.ea&&t.type!=ze)return e.h.updateIntervalSeconds/2;var n=e.g.Dd(),r=t.Ca?t.Ca.endTime:n,i=ME(e.g.T,t.type,n),o=Math.max(1,Math.max(e.m.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.u),s=e.m.presentationTimeline.getDuration()-r,u=ba(e.g.T,t.type);if(1e-6>s&&u)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(ze))&&Wf(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,i>=o)return e.h.updateIntervalSeconds/2;if(i=nA(e,t,n,u),!i)return e.h.updateIntervalSeconds;for(o=1/0,s=Array.from(e.i.values()),s=w(s),u=s.next();!u.done;u=s.next())u=u.value,Wf(u)||u.X&&!u.X.current()||(o=Math.min(o,u.Ca?u.Ca.endTime:n));return r>=o+e.m.presentationTimeline.g?e.h.updateIntervalSeconds:(t.ra&&t.X&&(r=i.aa,!r||t.Ca&&cm(r,t.Db)||WE(t.ra,r),zf(t.ra,i)),rA(e,t,n,i).catch(function(){}),null)}function nA(e,t,n,r){if(t.X)return t.X.current();if(t.Ca||r)return n=t.Ca?t.Ca.endTime:r,t.Xe=!0,t.X=t.stream.segmentIndex.Nb(n),t.X&&t.X.next().value;e=e.h.inaccurateManifestTolerance,r=Math.max(n-e,0);var i=null;return e&&(t.X=t.stream.segmentIndex.Nb(r),i=t.X&&t.X.next().value),i||(t.X=t.stream.segmentIndex.Nb(n),i=t.X&&t.X.next().value),i}function rA(e,t,n,r){var i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){switch(R.g){case 1:if(i=Vt,o=t.stream,s=t.X,t.Da=!0,Ce(R,2),r.Pb()==2)throw new P(1,1,1011);return I(R,uA(e,t,r),4);case 4:return nt(e.l),e.s?R.return():(u=o.mimeType=="video/mp4"||o.mimeType=="audio/mp4",l=v.ReadableStream,e.h.lowLatencyMode&&l&&u&&(e.m.type!="HLS"||r.m)?(m=new Uint8Array(0),y=T=!1,E=function(L){var j,$,H;return O(function(K){switch(K.g){case 1:if(T||(y=!0,nt(e.l),e.s))return K.return();if(Ce(K,2),m=oA(m,L),j=!1,$=0,new lt().box("mdat",function(W){$=W.size+W.start,j=!0}).parse(m,!1,!0),!j){K.B(4);break}return H=m.subarray(0,$),m=m.subarray($),I(K,Gf(e,t,n,o,r,H,!0),5);case 5:t.ra&&t.X&&zf(t.ra,r,!0);case 4:ae(K,0);break;case 2:S=Y(K),J(K)}})},I(R,qf(e,t,r,E),9)):(c=qf(e,t,r),I(R,c,7)));case 7:return h=R.h,nt(e.l),e.s?R.return():(nt(e.l),t.wb?(t.Da=!1,pr(e,t,0),R.return()):I(R,Gf(e,t,n,o,r,h),6));case 9:if(C=R.h,S)throw S;if(y){R.B(10);break}return T=!0,nt(e.l),e.s?R.return():t.wb?(t.Da=!1,pr(e,t,0),R.return()):I(R,Gf(e,t,n,o,r,C),10);case 10:t.ra&&t.X&&zf(t.ra,r,!0);case 6:if(nt(e.l),e.s)return R.return();t.Ca=r,s.next(),t.Da=!1,t.ff=!1,k=e.g.T.pb(),M=k[t.type],JSON.stringify(M),t.wb||e.g.af(r,t.stream),pr(e,t,0),ae(R,0);break;case 2:if(_=Y(R),nt(e.l,_),e.s)return R.return();if(t.Da=!1,_.code==7001)t.Da=!1,eu(t),pr(e,t,0),R.B(0);else if(t.type==i.na&&e.h.ignoreTextStreamFailures)e.i.delete(i.na),R.B(0);else if(_.code==3017)sA(e,t,_),R.B(0);else return t.Tc=!0,_.severity=2,I(R,Zm(e,t,_),0)}})}function iA(e,t,n){var r,i,o,s;return O(function(u){if(u.g==1)return r=t,r.cryptoKey?u.B(2):I(u,r.fetchKey(),3);if(i=r.iv,!i)for(i=Me(new ArrayBuffer(16)),o=r.firstMediaSequenceNumber+n,s=i.byteLength-1;0<=s;s--)i[s]=o&255,o>>=8;return u.return(v.crypto.subtle.decrypt({name:"AES-CBC",iv:i},r.cryptoKey,e))})}function oA(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function sA(e,t,n){if(!Array.from(e.i.values()).some(function(i){return i!=t&&i.ff})){if(0<e.h.maxDisabledTime&&e.g.wd(t.stream,e.h.maxDisabledTime))return;var r=Math.round(100*e.u);if(20<r)e.u-=.2;else if(4<r)e.u-=.04;else{t.Tc=!0,e.s=!0,e.g.onError(n);return}t.ff=!0}pr(e,t,4)}function uA(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E;return O(function(C){return C.g==1?(r=Vt,i=[],o=Math.max(0,n.appendWindowStart-.1),s=n.appendWindowEnd+.01,u=xr(t.stream.codecs),l=Gr(t.stream.mimeType),c=n.timestampOffset,c==t.Re&&o==t.Pe&&s==t.Oe&&u==t.Qe&&l==t.Yf?C.B(2):((h=t.Qe&&t.Yf&&bE(e.g.T,t.type,t.stream))&&(m=null,t.type===r.$?m=e.i.get(r.P):t.type===r.P&&(m=e.i.get(r.$)),m&&(m.Db=null,Zs(e,m),tu(m).catch(function(){}))),T=function(){var k,M,_,R;return O(function(L){if(L.g==1)return k=new Map,e.j.audio&&k.set(r.P,e.j.audio),e.j.video&&k.set(r.$,e.j.video),Ce(L,2),t.Pe=o,t.Oe=s,t.Qe=u,t.Yf=l,t.Re=c,M=e.m.sequenceMode||e.m.type=="HLS",I(L,PE(e.g.T,t.type,c,o,s,M,n.mimeType||t.stream.mimeType,n.codecs||t.stream.codecs,k),4);if(L.g!=2)return h&&(_=null,t.type===r.$?_=e.i.get(r.P):t.type===r.P&&(_=e.i.get(r.$)),_&&(_.wb=!1,_.Da=!1,Zs(e,_))),ae(L,0);throw R=Y(L),t.Pe=null,t.Oe=null,t.Qe=null,t.Re=null,R})},I(C,T(),2))):(cm(n.aa,t.Db)||(t.Db=n.aa,n.j&&n.aa&&(y=qf(e,t,n.aa),S=function(){var k,M,_,R,L,j;return O(function($){switch($.g){case 1:return Ce($,2),I($,y,4);case 4:return k=$.h,nt(e.l),M=null,_=new Map,R=new lt,R.box("moov",Ze).box("trak",Ze).box("mdia",Ze).O("mdhd",function(H){M=Na(H.reader,H.version).timescale}).box("hdlr",function(H){H=H.reader,H.skip(8),H=H.ub(4);var K=String.fromCharCode(H[0]);switch(K+=String.fromCharCode(H[1]),K+=String.fromCharCode(H[2]),K+=String.fromCharCode(H[3]),K){case"soun":_.set(r.P,M);break;case"vide":_.set(r.$,M)}M=null}).parse(k),_.has(t.type)?n.aa.timescale=_.get(t.type):M!=null&&(n.aa.timescale=M),L=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,I($,e.g.Ef(t.type,k),5);case 5:return I($,Ua(e.g.T,t.type,k,null,t.stream,L),6);case 6:ae($,0);break;case 2:throw j=Y($),t.Db=null,j}})},e.g.Eh(n.startTime,n.aa),i.push(S()))),e.m.sequenceMode&&(E=t.Ca?t.Ca.i:null,n.i!=E||t.Xe)&&(t.Xe=!1,i.push(DE(e.g.T,t.type,n.startTime))),I(C,Promise.all(i),0))})}function Gf(e,t,n,r,i,o,s){s=s===void 0?!1:s;var u,l,c,h,m,T;return O(function(y){switch(y.g){case 1:return u=r.closedCaptions&&0<r.closedCaptions.size,c=r.emsgSchemeIdUris!=null&&0<r.emsgSchemeIdUris.length||e.h.dispatchAllEmsgBoxes,h=e.h.parsePrftBox&&!e.C,(c||h)&&(l=new lt),c&&l.O("emsg",function(S){var E=r.emsgSchemeIdUris;if(S.version===0)var C=S.reader.ad(),k=S.reader.ad(),M=S.reader.L(),_=S.reader.L(),R=S.reader.L(),L=S.reader.L(),j=i.startTime+_/M;else M=S.reader.L(),j=S.reader.oc()/M+i.timestampOffset,_=j-i.startTime,R=S.reader.L(),L=S.reader.L(),C=S.reader.ad(),k=S.reader.ad();S=S.reader.ub(S.reader.getLength()-S.reader.qa()),(E&&E.includes(C)||e.h.dispatchAllEmsgBoxes)&&(C=="urn:mpeg:dash:event:2012"?e.g.Fh():(E=new Map().set("detail",{startTime:j,endTime:j+R/M,schemeIdUri:C,value:k,timescale:M,presentationTimeDelta:_,eventDuration:R,id:L,messageData:S}),E=new Ee("emsg",E),E.cancelable=!0,e.g.onEvent(E),E.defaultPrevented||C!="https://aomedia.org/emsg/ID3"&&C!="https://developer.apple.com/streaming/emsg-id3"||(C=Ji(S),C.length&&i&&e.g.Gh([{cueTime:i.startTime,data:S,frames:C,dts:i.startTime,pts:i.startTime}],0,i.endTime))))}),h&&l.O("prft",function(S){if(!e.C&&i.aa.timescale){var E=S.reader,C=S.version;E.L(),S=E.L();var k=E.L();S=1e3*S+k/Math.pow(2,32)*1e3,C===0?E=E.L():(C=E.L(),E=E.L(),E=C*Math.pow(2,32)+E),S=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+S).getTime(),E=new Map().set("detail",{wallClockTime:S,programStartDate:new Date(S-E/i.aa.timescale*1e3)}),E=new Ee("prft",E),e.g.onEvent(E),e.C=!0}}),(c||h)&&l.parse(o),I(y,aA(e,t,n),2);case 2:return nt(e.l),m=t.dd,t.dd=!1,T=t.Cf,t.Cf=!1,I(y,e.g.Ef(t.type,o),3);case 3:return I(y,Ua(e.g.T,t.type,o,i,r,u,m,T,s),4);case 4:nt(e.l),J(y)}})}function aA(e,t,n){var r,i,o,s;return O(function(u){if(u.g==1)return r=Math.max(e.h.bufferBehind,e.m.presentationTimeline.g),i=Im(e.g.T,t.type),i==null?u.return():(o=n-i,s=o-r,1>=s?u.return():I(u,e.g.T.remove(t.type,i,i+s),2));nt(e.l),J(u)})}function Wf(e){return e&&e.type==ze&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function qf(e,t,n,r){var i,o,s,u,l;return O(function(c){switch(c.g){case 1:if(n instanceof Wn&&(i=n.g))return c.return(i);if(o=null,t.ra){var h=t.ra;if(h.g.has(n)){var m=h.g.get(n);r&&(m.h=r),h.g.delete(n),o=m.g}else o=null}return o||(o=Qm(e,n,t.stream,r)),s=0,t.X&&(s=t.X.g),t.Na=o,I(c,o.promise,2);case 2:if(u=c.h,t.Na=null,l=u.data,!n.aes128Key){c.B(3);break}return I(c,iA(l,n.aes128Key,s),4);case 4:l=c.h;case 3:return c.return(l)}})}function Qm(e,t,n,r){var i=t instanceof Ae?t:void 0,o=i?1:0;return t=Ka(t.Z(),t.Qa,t.wa,e.h.retryParameters,r),e.g.Tb.request(Lr,t,{type:o,stream:n,segment:i})}function Xf(e,t,n,r){var i,o;return O(function(s){if(s.g==1)return t.wb=!1,t.Zd=!1,t.vd=0,t.Lc=!0,t.Ca=null,t.Db=null,t.X=null,t.ra&&zm(t.ra),r?(i=e.g.Dd(),o=e.g.T.getDuration(),I(s,e.g.T.remove(t.type,i+r,o),3)):I(s,Cm(e.g.T,t.type),4);if(s.g!=3)return nt(e.l),n?I(s,e.g.T.flush(t.type),3):s.B(3);nt(e.l),t.Lc=!1,t.endOfStream=!1,t.Da||t.ib||pr(e,t,0),J(s)})}function pr(e,t,n){var r=t.type;(r!=ze||e.i.has(r))&&(t.ib=new Fs(function(){var i;return O(function(o){if(o.g==1)return Ce(o,2),I(o,eA(e,t),4);if(o.g!=2)return ae(o,0);i=Y(o),e.g&&e.g.onError(i),J(o)})}).U(n))}function eu(e){e.ib!=null&&(e.ib.stop(),e.ib=null)}function tu(e){return O(function(t){return e.Na?I(t,e.Na.abort(),0):t.B(0)})}function Zm(e,t,n){var r;return O(function(i){if(i.g==1)return I(i,Pg(e.G),2);nt(e.l),r=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.category===1&&0<r&&(n.handled=e.g.wd(t.stream,r),n.handled&&(n.severity=1)),e.g.onError(n),n.handled||e.h.failureCallback(n),J(i)})}function lA(e){var t,n,r,i,o,s;return O(function(u){return u.g==1?(t=Date.now()/1e3,n=e.h.minTimeBetweenRecoveries,!e.h.allowMediaSourceRecoveries||t-e.H<n?u.return(!1):(e.H=t,r=Vt,(i=e.i.get(r.P))&&(i.Db=null,Zs(e,i),tu(i).catch(function(){})),(o=e.i.get(r.$))&&(o.Db=null,Zs(e,o),tu(o).catch(function(){})),s=new Map,e.j.audio&&s.set(r.P,e.j.audio),e.j.video&&s.set(r.$,e.j.video),I(u,km(e.g.T,s),2))):u.return(!0)})}function Yf(e,t,n){var r,i,o,s,u,l,c;return O(function(h){switch(h.g){case 1:var m=new _t(e).Ga.split("/").pop().split(".");return r=m.length==1?"":m.pop().toLowerCase(),(i=cA[r])?h.return(i):(o=0,s=Gt([e],n),Ce(h,2),s.method="HEAD",I(h,t.request(o,s).promise,4));case 4:u=h.h,i=u.headers["content-type"],ae(h,3);break;case 2:if(l=Y(h),!l||l.code!=1002&&l.code!=1001){h.B(3);break}return s.method="GET",I(h,t.request(o,s).promise,6);case 6:c=h.h,i=c.headers["content-type"];case 3:return h.return(i?i.toLowerCase().split(";").shift():"")}})}var cA={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav",sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function ev(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(s){return ev(s,e)}).join("");var n=[],r=700<=e.fontWeight,i=e.fontStyle=="italic",o=e.textDecoration.includes("underline");return r&&n.push(["b"]),i&&n.push(["i"]),o&&n.push(["u"]),i=e.color,i==""&&t&&(i=t.color),r="",(i=tv(i))&&(r+="."+i),i=e.backgroundColor,i==""&&t&&(i=t.backgroundColor),(t=tv(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight(function(s,u){var l=w(u);return u=l.next().value,l=l.next().value,"<"+u+(l===void 0?"":l)+">"+s+"</"+u+">"},e.payload)}function tv(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Jf(e,t){var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next())if(r=r.value,r.isContainer)n.push.apply(n,U(Jf(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=ev(r,t),n.push(i)}return n}function qn(e,t){this.g=null;for(var n=w(Array.from(e.textTracks)),r=n.next();!r.done;r=n.next())r=r.value,r.mode="disabled",r.label==t&&(this.g=r);this.g||(this.g=e.addTextTrack("subtitles",t)),this.g.mode="hidden"}d=qn.prototype,d.remove=function(e,t){return this.g?(nv(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},d.append=function(e){var t=Jf(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];var r={};t=w(t);for(var i=t.next();!i.done;r={Zb:r.Zb},i=t.next())r.Zb=i.value,e.some(function(o){return function(s){return s.startTime==o.Zb.startTime&&s.endTime==o.Zb.endTime&&s.text==o.Zb.payload}}(r))||(i=fA(r.Zb))&&n.push(i);for(e=n.slice().sort(function(o,s){return o.startTime!=s.startTime?o.startTime-s.startTime:o.endTime!=s.endTime?o.endTime-s.startTime:"line"in VTTCue.prototype?n.indexOf(s)-n.indexOf(o):n.indexOf(o)-n.indexOf(s)}),e=w(e),r=e.next();!r.done;r=e.next())this.g.addCue(r.value)},d.destroy=function(){return this.g&&(nv(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},d.isTextVisible=function(){return this.g.mode=="showing"},d.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"};function fA(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch{}return e.textAlign=="center"&&t.align!="center"&&(t.align="middle"),e.writingMode=="vertical-lr"?t.vertical="lr":e.writingMode=="vertical-rl"&&(t.vertical="rl"),e.lineInterpretation==1&&(t.snapToLines=!1),e.line!=null&&(t.line=e.line),e.position!=null&&(t.position=e.position),t}function nv(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var r=w(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}ue("shaka.text.SimpleTextDisplayer",qn),qn.prototype.setTextVisibility=qn.prototype.setTextVisibility,qn.prototype.isTextVisible=qn.prototype.isTextVisible,qn.prototype.destroy=qn.prototype.destroy,qn.prototype.append=qn.prototype.append,qn.prototype.remove=qn.prototype.remove;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Xn(){}d=Xn.prototype,d.remove=function(){},d.append=function(){},d.destroy=function(){},d.isTextVisible=function(){return!1},d.setTextVisibility=function(){},ue("shaka.text.StubTextDisplayer",Xn),Xn.prototype.setTextVisibility=Xn.prototype.setTextVisibility,Xn.prototype.isTextVisible=Xn.prototype.isTextVisible,Xn.prototype.destroy=Xn.prototype.destroy,Xn.prototype.append=Xn.prototype.append,Xn.prototype.remove=Xn.prototype.remove;function rv(){}function nu(e){for(;e.firstChild;)e.removeChild(e.firstChild)}ue("shaka.util.Dom",rv),rv.removeAllChildren=nu;function Yn(e,t){var n=this;this.m=!1,this.i=[],this.A=e,this.s=t,this.j=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.s.appendChild(this.g),this.C=new Ve(function(){ru(n)}).$a(.25),this.h=new Map,this.l=new ht,this.l.D(document,"fullscreenchange",function(){ru(n,!0)}),this.l.D(this.A,"resize",function(){var r=n.A,i=r.videoWidth;r=r.videoHeight,i&&r?n.j=i/r:n.j=null}),this.o=null,"ResizeObserver"in v&&(this.o=new ResizeObserver(function(){ru(n,!0)}),this.o.observe(this.g)),this.u=new Map}d=Yn.prototype,d.append=function(e){var t=[].concat(U(this.i)),n={};e=w(e);for(var r=e.next();!r.done;n={jd:n.jd},r=e.next())n.jd=r.value,t.some(function(i){return function(o){return $c(o,i.jd)}}(n))||this.i.push(n.jd);ru(this)},d.destroy=function(){return this.g&&(this.s.removeChild(this.g),this.g=null,this.m=!1,this.i=[],this.C&&this.C.stop(),this.h.clear(),this.l&&(this.l.release(),this.l=null),this.o&&(this.o.disconnect(),this.o=null)),Promise.resolve()},d.remove=function(e,t){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter(function(r){return r.startTime<e||r.endTime>=t}),ru(this,n>this.i.length),!0},d.isTextVisible=function(){return this.m},d.setTextVisibility=function(e){this.m=e};function hA(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function iv(e,t,n,r,i){var o=!1,s=[],u=[];t=w(t);for(var l=t.next();!l.done;l=t.next()){l=l.value,i.push(l);var c=e.h.get(l),h=l.startTime<=r&&l.endTime>r,m=c?c.wg:null;c&&(s.push(c.pe),c.bd&&s.push(c.bd),h||(o=!0,e.h.delete(l),c=null)),h&&(u.push(l),c?hA(e,m)||(o=!0):(dA(e,l,i),c=e.h.get(l),m=c.wg,o=!0)),0<l.nestedCues.length&&m&&iv(e,l.nestedCues,m,r,i),i.pop()}if(o){for(r=w(s),i=r.next();!i.done;i=r.next())i=i.value,i.parentElement&&i.parentElement.removeChild(i);for(u.sort(function(T,y){return T.startTime!=y.startTime?T.startTime-y.startTime:T.endTime-y.endTime}),u=w(u),l=u.next();!l.done;l=u.next())r=e.h.get(l.value),r.bd?(n.appendChild(r.bd),r.bd.appendChild(r.pe)):n.appendChild(r.pe)}}function ru(e,t){if(e.g){var n=e.A.currentTime;if(!e.m||t!==void 0&&t){t=w(e.u.values());for(var r=t.next();!r.done;r=t.next())nu(r.value);nu(e.g),e.h.clear(),e.u.clear()}if(e.m){t=new Map,r=w(e.h.keys());for(var i=r.next();!i.done;i=r.next())i=i.value,t.set(i,e.h.get(i));iv(e,e.i,e.g,n,[])}}}function dA(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var o=document.createElement(i);if(i!="br"&&gA(e,o,t,n,r),n=null,t.region&&t.region.id){n=t.region,i=e.j===4/3?2.5:1.9;var s=n.id+"_"+n.width+"x"+n.height+(n.heightUnits==Gn?"%":"px")+"-"+n.viewportAnchorX+"x"+n.viewportAnchorY+(n.viewportAnchorUnits==Gn?"%":"px");if(e.u.has(s))n=e.u.get(s);else{var u=document.createElement("span"),l=n.heightUnits==Gn?"%":"px",c=n.widthUnits==Gn?"%":"px",h=n.viewportAnchorUnits==Gn?"%":"px";u.id="shaka-text-region---"+s,u.classList.add("shaka-text-region"),u.style.position="absolute",n.heightUnits===2&&n.widthUnits===2?(u.style.height=5.33*n.height+"%",u.style.width=n.width*i+"%"):(u.style.height=n.height+l,u.style.width=n.width+c),n.viewportAnchorUnits===2?(l=n.viewportAnchorY/75*100,c=n.viewportAnchorX/(e.j===4/3?160:210)*100,l-=n.regionAnchorY*n.height*5.33/100,c-=n.regionAnchorX*n.width*i/100,u.style.top=l+"%",u.style.left=c+"%"):(u.style.top=n.viewportAnchorY-n.regionAnchorY*n.height/100+h,u.style.left=n.viewportAnchorX-n.regionAnchorX*n.width/100+h),u.style.display="flex",u.style.flexDirection="column",u.style.alignItems="center",u.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.u.set(s,u),n=u}}i=o,r&&(i=document.createElement("span"),i.classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",o.appendChild(i)),e.h.set(t,{pe:o,wg:i,bd:n})}function pA(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==na?n:e==="left"||e==="start"&&t===Ds||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===Ds?"line-right":"center"}function gA(e,t,n,r,i){var o=t.style,s=n.nestedCues.length==0,u=1<r.length;o.whiteSpace="pre-wrap";var l=n.payload.replace(/\s+$/g,function(h){return" ".repeat(h.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=Qf(n.linePadding,n,e.s),o.paddingRight=Qf(n.linePadding,n,e.s),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",o.width="100%",o.height="100%";else{if(n.nestedCues.length)var c=t;else c=document.createElement("span"),t.appendChild(c);n.border&&(c.style.border=n.border),!i&&((t=ov(r,function(h){return h.backgroundColor}))?c.style.backgroundColor=t:l&&(c.style.backgroundColor="rgba(0, 0, 0, 0.8)"),t=ov(r,function(h){return h.fontFamily}))&&(c.style.fontFamily=t),l&&(c.textContent=l)}u&&!r[r.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),s||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=Qf(n.fontSize,n,e.s),r=n.line,r!=null&&(s=n.lineInterpretation,s==ra&&(s=1,u=16,e.j&&1>e.j&&(u=32),r=0>r?100+r/u*100:r/u*100),s==1&&(o.position="absolute",n.writingMode==Ns?(o.width="100%",n.lineAlign==Ui?o.top=r+"%":n.lineAlign=="end"&&(o.bottom=100-r+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==Ui?o.left=r+"%":n.lineAlign=="end"&&(o.right=100-r+"%")):(o.height="100%",n.lineAlign==Ui?o.right=r+"%":n.lineAlign=="end"&&(o.left=100-r+"%")))),o.lineHeight=n.lineHeight,n.position!=null&&(n.writingMode==Ns?o.paddingLeft=n.position:o.paddingTop=n.position),e=pA(n),e=="line-left"?o.cssFloat="left":e=="line-right"&&(o.cssFloat="right"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==Ns?o.width=n.size+"%":o.height=n.size+"%")}function Qf(e,t,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;var i=r.value;switch(r.unit){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function ov(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||r===0)return r}return null}ue("shaka.text.UITextDisplayer",Yn),Yn.prototype.setTextVisibility=Yn.prototype.setTextVisibility,Yn.prototype.isTextVisible=Yn.prototype.isTextVisible,Yn.prototype.remove=Yn.prototype.remove,Yn.prototype.destroy=Yn.prototype.destroy,Yn.prototype.append=Yn.prototype.append;function mA(e,t){function n(o){for(var s=o,u=w(t),l=u.next();!l.done;l=u.next())l=l.value,l.end&&l.start<o&&(s+=l.end-l.start);return o=Math.floor(s/3600),u=Math.floor(s/60%60),l=Math.floor(s%60),s=Math.floor(1e3*s%1e3),(10>o?"0":"")+o+":"+(10>u?"0":"")+u+":"+(10>l?"0":"")+l+"."+(100>s?10>s?"00":"0":"")+s}var r=Jf(e);e=`WEBVTT

`,r=w(r);for(var i=r.next();!i.done;i=r.next())i=i.value,e+=n(i.startTime)+" --> "+n(i.endTime)+function(o){var s=[];switch(o.textAlign){case"left":s.push("align:left");break;case"right":s.push("align:right");break;case zr:s.push("align:middle");break;case"start":s.push("align:start");break;case"end":s.push("align:end")}switch(o.writingMode){case"vertical-lr":s.push("vertical:lr");break;case"vertical-rl":s.push("vertical:rl")}return s.length?" "+s.join(" "):""}(i)+`
`,e+=i.payload+`

`;return e}ue("shaka.text.WebVttGenerator",function(){});function sv(e,t){this.h=e,this.g=t,this.m=void 0,this.i=!1,this.l=!0,this.j=!1}sv.prototype.configure=function(e){this.g=e};function vA(e,t,n){try{if(!e.g.enabled)return t;var r=Zf(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=Ga;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=qa;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=uv;break e}i=void 0}r.ot=i,r.su=!0;var o=$a(r);return eh(t,o)}catch(s){return de("CMCD_SRC_ERROR","Could not generate src CMCD data.",s),t}}function Zf(e){return e.g.sessionId||(e.g.sessionId=v.crypto.randomUUID()),{v:1,sf:e.m,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Go(e,t,n){n=n===void 0?{}:n;var r=r===void 0?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,Zf(e)),n.pr=e.h.Cd();var i=n.ot===Wa||n.ot===qa;if(e.j&&i&&(n.bs=!0,n.su=!0,e.j=!1),n.su==null&&(n.su=e.l),r)e=xA(n),Object.keys(e).length&&Object.assign(t.headers,e);else{var o=$a(n);o&&(t.uris=t.uris.map(function(s){return eh(s,o)}))}}}function yA(e){if(e.type===0)return SA;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?qa:Wa;if(t=="audio")return Ga;if(t=="text")return e.mimeType==="application/mp4"?nh:th}}function wA(e,t){if(t=e.h.pb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):NaN}function TA(e,t){var n=e.h.Cb();if(!n.length)return NaN;e=n[0],n=w(n);for(var r=n.next();!r.done;r=n.next())r=r.value,r.type==="variant"&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Wa:return e.videoBandwidth||NaN;case Ga:return e.audioBandwidth||NaN;default:return e.bandwidth}}function $a(e){function t(m){return 100*n(m/100)}function n(m){return Math.round(m)}function r(m){return!Number.isNaN(m)&&m!=null&&m!==""&&m!==!1}var i=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(m){return encodeURIComponent(m)},rtp:t,tb:n},s=Object.keys(e||{}).sort();s=w(s);for(var u=s.next();!u.done;u=s.next()){u=u.value;var l=e[u];if(r(l)&&(u!=="v"||l!==1)&&(u!="pr"||l!==1)){var c=o[u];c&&(l=c(l)),c=typeof l;var h=void 0;h=c==="string"&&u!=="ot"&&u!=="sf"&&u!=="st"?u+"="+JSON.stringify(l):c==="boolean"?u:c==="symbol"?u+"="+l.description:u+"="+l,i.push(h)}}return i.join(",")}function xA(e){var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=w(t);for(var s=t.next();!s.done;s=t.next())s=s.value,i[o[s]!=null?o[s]:1][s]=e[s];for(e=0;e<i.length;e++)(o=$a(i[e]))&&(n["CMCD-"+r[e]]=o);return n}function eh(e,t){return!t||e.includes("offline:")?e:(e=new _t(e),e.g.set("CMCD",t),e.toString())}var uv="m",Ga="a",Wa="v",qa="av",SA="i",th="c",nh="tt";ue("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",yg:"s",OTHER:"o"});function Jn(e){this.h=e,this.g=null}d=Jn.prototype,d.configure=function(e){this.h=e},d.Rf=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(cv)?1e3*this.g.get(cv):null},d.Qf=function(){return this.h.enabled&&this.g&&this.g.has(lv)?1e3*this.g.get(lv):null},d.fh=function(){return this.h.enabled&&this.g&&this.g.has(fv)?this.g.get(fv):null},d.gh=function(){return this.h.enabled&&this.g&&this.g.has(hv)?this.g.get(hv):null},d.getBandwidthEstimate=function(e){var t=this.Qf();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function av(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}ue("shaka.util.CmsdManager",Jn),Jn.prototype.getBandwidthEstimate=Jn.prototype.getBandwidthEstimate,Jn.prototype.getRoundTripTime=Jn.prototype.gh,Jn.prototype.getResponseDelay=Jn.prototype.fh,Jn.prototype.getEstimatedThroughput=Jn.prototype.Qf,Jn.prototype.getMaxBitrate=Jn.prototype.Rf;var lv="etp",cv="mb",fv="rd",hv="rtt";function rh(){}function ih(e,t,n,r,i){var o=i in r,s=!0,u;for(u in t){var l=i+"."+u,c=o?r[i]:n[u];o||u in n?t[u]===void 0?c===void 0||o?delete e[u]:e[u]=Hi(c):c.constructor==Object&&t[u]&&t[u].constructor==Object?(e[u]||(e[u]=Hi(c)),l=ih(e[u],t[u],c,r,l),s=s&&l):typeof t[u]!=typeof c||t[u]==null||typeof t[u]!="function"&&t[u].constructor!=c.constructor?(Z("Invalid config, wrong type for "+l),s=!1):(typeof n[u]=="function"&&n[u].length!=t[u].length&&X("Unexpected number of arguments for "+l),e[u]=t[u]):(Z("Invalid config, unrecognized key "+l),s=!1)}return s}function oh(e,t){for(var n={},r=n,i=0,o=0;i=e.indexOf(".",i),!(0>i);)(i==0||e[i-1]!="\\")&&(o=e.substring(o,i).replace(/\\\./g,"."),r[o]={},r=r[o],o=i+1),i+=1;return r[e.substring(o).replace(/\\\./g,".")]=t,n}function Xa(e,t){return e&&t}ue("shaka.util.ConfigUtils",rh),rh.convertToConfigObject=oh,rh.mergeConfigObjects=ih;function dv(){this.g=null,this.h=[]}function sh(e,t){return O(function(n){if(n.g==1)return e.g?I(n,new Promise(function(r){return e.h.push(r)}),2):n.B(2);e.g=t,J(n)})}dv.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function Qn(){}function pv(e){return e=wi(e),new _t(e).ob}function iu(e,t,n){function r(u){xt(o).setUint32(s,u.byteLength,!0),s+=4,o.set(Me(u),s),s+=u.byteLength}if(!n||!n.byteLength)throw new P(2,6,6015);var i;typeof t=="string"?i=vf(t,!0):i=t,e=wi(e),e=vf(e,!0);var o=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),s=0;return r(e),r(i),r(n),o}function gv(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=wi(e).split("skd://").pop(),iu(e,n,t))}function uh(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")}ue("shaka.util.FairPlayUtils",Qn),Qn.commonFairPlayResponse=function(e,t){if(e===2){try{var n=gt(t.data)}catch{return}e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch{}e&&(t.data=fn(fr(n)))}},Qn.expressplayFairPlayRequest=function(e,t){uh(e,t)},Qn.conaxFairPlayRequest=function(e,t){uh(e,t)},Qn.ezdrmFairPlayRequest=function(e,t){uh(e,t)},Qn.verimatrixFairPlayRequest=function(e,t){e===2&&(e=Me(t.body),e=Wi(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Yr("spc="+e))},Qn.expressplayInitDataTransform=function(e,t,n){return gv(e,t,n)},Qn.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=wi(e).split("skd://").pop().split("?").shift(),n=v.atob(n);var r=new ArrayBuffer(2*n.length);r=_s(r);for(var i=0,o=n.length;i<o;i++)r[i]=n.charCodeAt(i);return iu(e,r,t)},Qn.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=wi(e).split(";").pop(),iu(e,n,t))},Qn.verimatrixInitDataTransform=function(e,t,n){return gv(e,t,n)},Qn.initDataTransform=iu,Qn.defaultGetContentId=pv,Qn.isFairPlaySupported=function(){var e;return O(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},Ce(t,2),I(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(Y(t),t.return(!1))})};function ah(){}function Wo(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:Nr(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(u,l,c){return v.shakaMediaKeysPolyfill&&l=="skd"&&(l=c.serverCertificate,c=pv(u),u=iu(u,c,l)),u},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Vs(),minHdcpVersion:"",ignoreDuplicateInitData:!ha()},n="reload",r=!1;ha()||fa()||Tt("Tizen 4")||of()||navigator.userAgent.match(/webOS\/4/i)||navigator.userAgent.match(/webOS\/5/i)||(n="smooth",r=!0),r={retryParameters:Nr(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(u){return Xa([u],u)},sequenceMode:!1,enableAudioGroups:!1,multiTypeVariantsAllowed:r},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3,sequenceMode:!(fa()||ha()||of()||Co()),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,allowLowLatencyByteRangeOptimization:!0},mss:{manifestPreprocessor:function(u){return Xa([u],u)},sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var i={retryParameters:Nr(),failureCallback:function(u){return Xa([u])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,liveSync:!1,liveSyncMaxLatency:1,liveSyncPlaybackRate:1.1,liveSyncMinLatency:0,liveSyncMinPlaybackRate:1,allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5};(Tt("Web0S")||Ki()||Io()||Tt("Hisense")||Tt("VIDAA"))&&(i.stallSkip=0);var o={trackSelectionCallback:function(u){return O(function(l){return l.return(u)})},downloadSizeCallback:function(u){var l;return O(function(c){return c.g==1?navigator.storage&&navigator.storage.estimate?I(c,navigator.storage.estimate(),3):c.return(!0):(l=c.h,c.return(l.usage+u<.95*l.quota))})},progressCallback:function(u,l){return Xa([u,l])},usePersistentLicense:!0,numberOfParallelDownloads:5},s={drm:t,manifest:r,streaming:i,mediaSource:{codecSwitchingStrategy:n,sourceBufferExtraFeatures:"",forceTransmux:!1,insertFakeEncryptionInInit:!0},offline:o,abrFactory:function(){return new dt},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:!1}};return o.trackSelectionCallback=function(u){return O(function(l){return l.return(EA(u,s.preferredAudioLanguage,s.preferredVideoHdrLevel))})},s}function qo(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return ih(e,t,n||Wo(),r,"")}function EA(e,t,n){var r=n;r=="AUTO"&&(r=v.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR");var i=e.filter(function(u){return!(u.type!="variant"||u.hdr&&u.hdr!=r)});n=[];var o=la(t,i.map(function(u){return u.language}));o&&(n=i.filter(function(u){return Je(u.language)==o})),n.length==0&&(n=i.filter(function(u){return u.primary})),n.length==0&&(i.map(function(u){return u.language}),n=i);var s=n.filter(function(u){return u.height&&480>=u.height});for(s.length&&(s.sort(function(u,l){return l.height-u.height}),n=s.filter(function(u){return u.height==s[0].height})),t=[],n.length&&(i=Math.floor(n.length/2),n.sort(function(u,l){return u.bandwidth-l.bandwidth}),t.push(n[i])),e=w(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=ze&&n.type!="image"||t.push(n);return t}ue("shaka.util.PlayerConfiguration",ah),ah.mergeConfigObjects=qo,ah.createDefault=Wo;function AA(){this.g=null,this.h=[]}function lh(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=w(e.h);for(var r=e.next();!r.done;r=e.next())r=r.value,n+=r.state==t?r.duration:0;return n}function IA(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],r=w(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}function CA(){this.i=this.h=null,this.g=[]}function ch(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function mv(){this.u=this.A=this.G=this.C=this.s=this.j=this.F=this.m=this.i=this.K=this.N=this.H=this.I=this.J=this.l=this.o=NaN,this.g=new AA,this.h=new CA}function G(e,t){Qe.call(this);var n=this;this.l=Th,this.xd=this.h=null,this.da=!1,this.Gd=new ht,this.sc=new ht,this.o=new ht,this.Ba=new ht,this.C=this.G=this.m=this.H=null,this.Kd=0,this.W=new dv,this.ma=this.ea=this.i=this.Ld=this.F=this.j=this.za=this.J=this.eg=this.Y=this.V=this.Aa=this.K=this.I=this.$b=null,this.mb=!1,this.Ne=this.s=null,this.We=1e9,this.Oc=[],this.N=NaN,this.g=Yo(this),this.Id={width:1/0,height:1/0},this.u=null,this.kb=new Ro(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),this.lb=this.g.preferredTextLanguage,this.Kc=this.g.preferredTextRole,this.Jc=this.g.preferForcedSubs,this.Hc=[],t&&t(this),this.V=KA(this),this.Y=new Jn(this.g.cmsd),this.H=FA(this),this.H.nf(this.g.streaming.forceHTTPS),this.A=null,tl&&(this.A=tl(),this.A.configure(this.g.ads)),this.Gd.D(v,"online",function(){vh(n),n.gf()}),this.yd=new Ve(function(){return XA(n)}),e&&(cr("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Ic(e,!0))}Pe(G,Qe);function Ya(e){e.J!=null&&(Tm(e.J),e.J.release(),e.J=null)}function MA(e,t){if(t.lcevc.enabled){var n=e.Cb();n&&n[0]&&n[0].videoMimeType=="video/mp2t"&&(rf()||navigator.userAgent.match(/Edge\//))&&(t.mediaSource.forceTransmux||X("LCEVC Warning: For MPEG-2 TS decoding the config.mediaSource.forceTransmux must be enabled.")),Ya(e),e.J==null&&(e.J=new Xs(e.h,e.eg,t.lcevc),e.G&&(e.G.N=e.J))}else Ya(e)}function vt(e,t){return new Ee(e,t)}d=G.prototype,d.destroy=function(){var e=this,t;return O(function(n){switch(n.g){case 1:return e.l==Ar?n.return():(Ya(e),t=e.detach(),e.l=Ar,I(n,t,2));case 2:if(e.Gd&&(e.Gd.release(),e.Gd=null),e.sc&&(e.sc.release(),e.sc=null),e.o&&(e.o.release(),e.o=null),e.Ba&&(e.Ba.release(),e.Ba=null),e.Ne=null,e.g=null,e.u=null,e.xd=null,e.V=null,e.Y=null,!e.H){n.B(3);break}return I(n,e.H.destroy(),4);case 4:e.H=null;case 3:e.s&&(e.s.release(),e.s=null),Qe.prototype.release.call(e),J(n)}})};function ri(e,t){e.dispatchEvent(vt("onstatechange",new Map().set("state",t)))}d.Ic=function(e,t){t=t===void 0?!0:t;var n=this,r,i;return O(function(o){switch(o.g){case 1:if(n.l==Ar)throw new P(2,7,7e3);if(!n.h||n.h==e){o.B(2);break}return I(o,n.detach(),2);case 2:return I(o,fh(n,"attach"),4);case 4:if(o.h)return o.return();if(Ce(o,5,6),ri(n,"attach"),r=function(){var s=yh(n);s&&Zi(n,s)},n.sc.D(e,"error",r),n.h=e,!t||!Sr()||n.G){o.B(6);break}return I(o,hh(n),6);case 6:re(o),n.W.release(),ce(o,0);break;case 5:return i=Y(o),I(o,n.detach(),10);case 10:throw i}})},d.Eg=function(e){this.eg=e},d.detach=function(e){e=e===void 0?!1:e;var t=this;return O(function(n){if(n.g==1){if(t.l==Ar)throw new P(2,7,7e3);return I(n,t.rc(!1,e),2)}if(n.g!=3)return I(n,fh(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.sc.Za(),t.h=null),ri(t,"detach"),t.A&&!e&&t.A.release()}finally{t.W.release()}J(n)})};function fh(e,t){var n;return O(function(r){return r.g==1?(n=++e.Kd,I(r,sh(e.W,t),2)):n!=e.Kd?(e.W.release(),r.return(!0)):r.return(!1)})}d.rc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r,i,o,s,u,l,c,h,m;return O(function(T){switch(T.g){case 1:return n.l!=Ar&&(n.l=Th),I(T,fh(n,"unload"),2);case 2:return T.h?T.return():(rn(T,3),n.mb=!1,ri(n,"unload"),e&&!Sr()&&(e=!1),Ya(n),r=n.Hc.map(function(y){return y()}),n.Hc=[],I(T,Promise.all(r),5));case 5:if(n.dispatchEvent(vt("unloading")),n.Aa&&(n.Aa.release(),n.Aa=null),n.h&&(n.o.Za(),n.Ba.Za()),n.yd.stop(),n.$b&&(n.$b.release(),n.$b=null),!n.F){T.B(6);break}return I(T,n.F.stop(),7);case 7:n.F=null,n.Ld=null;case 6:if(!n.s){T.B(8);break}return I(T,n.s.stop(),8);case 8:if(!n.j){T.B(10);break}return I(T,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.I&&(n.I.release(),n.I=null),n.C&&(n.C.release(),n.C=null),!n.G){T.B(12);break}return I(T,n.G.destroy(),13);case 13:n.G=null;case 12:if(n.A&&!t&&n.A.onAssetUnload(),n.Y&&(n.Y.g=null),n.h&&nu(n.h),!n.h||!n.h.src){T.B(14);break}return I(T,new Promise(function(y){return new Ve(y).U(.1)}),15);case 15:n.h.removeAttribute("src"),n.h.load();case 14:if(!n.m){T.B(16);break}return I(T,n.m.destroy(),17);case 17:n.m=null;case 16:if(n.ea=null,n.K=null,n.i){for(i=w(n.i.variants),o=i.next();!o.done;o=i.next())for(s=o.value,u=w([s.audio,s.video]),l=u.next();!l.done;l=u.next())(c=l.value)&&c.segmentIndex&&c.segmentIndex.release();for(h=w(n.i.textStreams),l=h.next();!l.done;l=h.next())m=l.value,m.segmentIndex&&m.segmentIndex.release()}n.i=null,n.u=new mv,n.Te=null,n.Oc=[],n.N=NaN,mh(n);case 3:re(T),n.W.release(),ce(T,4);break;case 4:if(e&&Sr()&&!n.G)return I(T,hh(n),0);T.B(0)}})},d.ei=function(e){this.ma=e},d.load=function(e,t,n){t=t===void 0?null:t;var r=this,i,o,s,u,l;return O(function(c){switch(c.g){case 1:if(r.l==Ar)throw new P(2,7,7e3);return I(c,sh(r.W,"load"),2);case 2:if(r.W.release(),!r.h)throw new P(2,7,7002);if(!r.ea){c.B(3);break}return I(c,r.rc(!1),3);case 3:if(i=++r.Kd,o=function(){if(r.Kd!=i)throw new P(2,7,7e3)},s=function(h,m){return O(function(T){switch(T.g){case 1:return rn(T,2),I(T,sh(r.W,m),4);case 4:return o(),I(T,h(),5);case 5:o();case 2:re(T),r.W.release(),ce(T,0)}})},Ce(c,5),r.ma=t,r.mb=!1,r.dispatchEvent(vt("loading")),u=Date.now()/1e3,r.u=new mv,r.ea=e,n){c.B(7);break}return I(c,s(function(){return O(function(h){if(h.g==1)return I(h,kA(r),2);n=h.h,J(h)})},"guessMimeType_"),7);case 7:if(RA(r,n))return I(c,s(function(){return O(function(h){return I(h,NA(r,n),0)})},"initializeSrcEqualsDrmInner_"),16);if(r.G){c.B(11);break}return I(c,s(function(){return O(function(h){return I(h,hh(r),0)})},"initializeMediaSourceEngineInner_"),11);case 11:return I(c,s(function(){return O(function(h){return I(h,_A(r,n),0)})},"parseManifestInner_"),13);case 13:return I(c,s(function(){return O(function(h){return I(h,PA(r),0)})},"initializeDrmInner_"),14);case 14:return I(c,s(function(){return O(function(h){return I(h,DA(r,u),0)})},"loadInner_"),10);case 16:return I(c,s(function(){return O(function(h){return I(h,LA(r,u,n),0)})},"srcEqualsInner_"),10);case 10:r.dispatchEvent(vt("loaded")),ae(c,0);break;case 5:if(l=Y(c),l.code==7e3){c.B(18);break}return I(c,r.rc(!1),18);case 18:throw l}})};function kA(e){var t,n;return O(function(r){return r.g==1?(t=e.g.manifest.retryParameters,I(r,Yf(e.ea,e.H,t),2)):(n=r.h,n=="application/x-mpegurl"&&da()&&(n="application/vnd.apple.mpegurl"),r.return(n))})}function RA(e,t){if(!Sr())return!0;if(t){if((e.h||cg()).canPlayType(t)=="")return!1;if(!(Sr()&&t in dr))return!0;if(t==="application/x-mpegurl"||t==="application/vnd.apple.mpegurl"){if(e.g.streaming.preferNativeHls)return!0;if(da())return e.g.streaming.useNativeHlsOnSafari}}return!1}function hh(e){var t,n,r,i,o;return O(function(s){if(s.g==1)return ri(e,"media-source"),t=e.g.textDisplayFactory,n=t(),e.Te=t,r=HA(e.h,n,function(u,l,c){vv(e,u,l,c)},e.J),r.configure(e.g.mediaSource),i=e.g.manifest,o=i.segmentRelativeVttTiming,r.Y=o,I(s,r.J,2);e.G=r,J(s)})}function _A(e,t){var n,r,i,o,s,u,l,c;return O(function(h){if(h.g==1)return n=e.H,ri(e,"manifest-parser"),e.Ld=am(e.ea,t||null),e.F=e.Ld(),r=Hi(e.g.manifest),e.h&&e.h.nodeName==="AUDIO"&&(r.disableVideo=!0),e.F.configure(r),e.Aa=new Kf(function(){return e.Eb()}),e.Aa.addEventListener("regionadd",function(m){m=m.region,su(e,"timelineregionadded",m),e.A&&e.A.onDashTimedMetadata(m)}),e.za=null,e.g.streaming.observeQualityChanges&&(e.za=new Va(function(){return e.pb()}),e.za.addEventListener("qualitychange",function(m){var T=m.quality;m=m.position,T=new Map().set("mediaQuality",{bandwidth:T.bandwidth,audioSamplingRate:T.audioSamplingRate,codecs:T.codecs,contentType:T.contentType,frameRate:T.frameRate,height:T.height,mimeType:T.mimeType,channelsCount:T.channelsCount,pixelAspectRatio:T.pixelAspectRatio,width:T.width}).set("position",m),e.dispatchEvent(vt("mediaqualitychanged",T))})),i={networkingEngine:n,filter:function(m){return Mv(e,m)},makeTextStreamsForClosedCaptions:function(m){return GA(e,m)},onTimelineRegionAdded:function(m){var T=e.Aa;e:{for(var y=w(T.g),S=y.next();!S.done;S=y.next())if(S=S.value,S.schemeIdUri==m.schemeIdUri&&S.id==m.id&&S.startTime==m.startTime&&S.endTime==m.endTime){y=S;break e}y=null}y==null&&(T.g.add(m),m=new Ee("regionadd",new Map([["region",m]])),T.dispatchEvent(m))},onEvent:function(m){return e.dispatchEvent(m)},onError:function(m){return Zi(e,m)},isLowLatencyMode:function(){return e.g.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.g.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&e.j.updateDuration()},newDrmInfo:function(m){var T=e.m?e.m.g:null;T&&e.m.s&&gh(e,T.keySystem,m)},onManifestUpdated:function(){var m=new Map().set("isLive",e.R());e.dispatchEvent(vt("manifestupdated",m)),e.A&&e.A.onManifestUpdated(e.R())},getBandwidthEstimate:function(){return e.s.getBandwidthEstimate()}},o=Date.now()/1e3,ri(e,"manifest"),s=e,I(h,e.F.start(e.ea,i),2);if(s.i=h.h,u=vt("manifestparsed"),e.dispatchEvent(u),e.i.variants.length==0)throw new P(2,4,4036);UA(e.i),l=Date.now()/1e3,c=l-o,e.u.F=c,J(h)})}function PA(e){var t,n,r;return O(function(i){return i.g==1?(ri(e,"drm-engine"),t=Date.now()/1e3,n=!0,e.m=Tv(e,{Tb:e.H,onError:function(o){Zi(e,o)},Ud:function(o){jv(e,o)},onExpirationUpdated:function(o,s){bv(e,o,s)},onEvent:function(o){e.dispatchEvent(o),o.type=="drmsessionupdate"&&n&&(n=!1,e.u.j=Date.now()/1e3-t,e.J&&Tm(e.J))}}),e.m.configure(e.g.drm),dg(e.i.variants,e.g.restrictions,e.Id)&&e.j&&Ln(e),r=cf(e.i.variants),I(i,qg(e.m,r,e.i.offlineSessionIds),2)):i.g!=3?I(i,e.m.Ic(e.h),3):I(i,Mv(e,e.i),0)})}function DA(e,t){var n,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R;return O(function(L){switch(L.g){case 1:for(ri(e,"load"),n=e.h,e.I=new Ys({Ed:function(){return n.playbackRate},ec:function(){return n.defaultPlaybackRate},rf:function(j){n.playbackRate=j},bg:function(j){n.currentTime+=j}}),r=function(){return Ja(e)},i=function(){return Rv(e)},e.o.D(n,"playing",r),e.o.D(n,"pause",r),e.o.D(n,"ended",r),e.o.D(n,"ratechange",i),MA(e,e.g),o=e.g.abrFactory,e.s&&e.Ne==o||(e.Ne=o,e.s=o(),typeof e.s.setMediaElement!="function"&&(cr("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),e.s.setMediaElement=function(){}),typeof e.s.setCmsdManager!="function"&&(cr("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),e.s.setCmsdManager=function(){}),typeof e.s.trySuggestStreams!="function"&&(cr("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),e.s.trySuggestStreams=function(){}),e.s.configure(e.g.abr)),e.kb=new Ro(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferSpatialAudio,e.g.preferredVideoLayout,e.g.preferredAudioLabel,e.g.preferredVideoLabel,e.g.mediaSource.codecSwitchingStrategy,e.g.manifest.dash.enableAudioGroups),e.lb=e.g.preferredTextLanguage,e.Kc=e.g.preferredTextRole,e.Jc=e.g.preferForcedSubs,wh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.s.init(function(j,$,H){e.j&&j!=e.j.j&&Za(e,j,!0,$===void 0?!1:$,H===void 0?0:H)}),e.s.setMediaElement(n),e.s.setCmsdManager(e.Y),hg(e.i,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes),e.j=zA(e),e.j.configure(e.g.streaming),e.l=sn,n.textTracks&&e.o.D(n.textTracks,"addtrack",function(j){if(j.track)switch(j=j.track,j.kind){case"chapters":wv(e,j)}}),e.dispatchEvent(vt("streaming")),s=null,(u=e.j.j)||(s=Pv(e,!0)),l=[],c=u||s,h=w([c.video,c.audio]),m=h.next();!m.done;m=h.next())(T=m.value)&&!T.segmentIndex&&l.push(T.createSegmentIndex());if(!(0<l.length)){L.B(2);break}return I(L,Promise.all(l),2);case 2:if(e.F&&e.F.onInitialVariantChosen&&e.F.onInitialVariantChosen(c),wh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.C=BA(e,e.ma),e.$b=VA(e,t),y=Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal),xv(e,n,y),u){L.B(4);break}if(Za(e,s,!0,!1,0),!e.g.streaming.startAtSegmentBoundary){L.B(4);break}return S=e.C,E=S.je,I(L,qA(s,e.C.qd()),6);case 6:E.call(S,L.h);case 4:return e.C.ie(),C=e.jc().find(function(j){return j.active}),C||((k=Hs(e.i.textStreams,e.lb,e.Kc,e.Jc)[0]||null)&&ch(e.u.h,k,!0),s&&(k?(s.audio&&YA(e,s.audio,k)&&(e.da=!0),e.da&&e.G.F.setTextVisibility(!0),Lv(e)):e.da=!1),k&&(e.g.streaming.alwaysStreamText||e.Me())&&za(e.j,k)),I(L,e.j.start(),7);case 7:e.g.abr.enabled&&(e.s.enable(),Ov(e)),Ln(e),Jo(e),e.i.variants.some(function(j){return j.primary}),(M=e.R())&&(e.g.streaming.liveSync||e.i.serviceDescription)?(_=function(){return _v(e)},e.o.D(n,"timeupdate",_)):M||(R=function(){return Qa(e)},e.o.D(n,"timeupdate",R),Qa(e)),e.A&&e.A.onManifestUpdated(M),e.mb=!0,e.o.ja(n,"loadedmetadata",function(){e.u.m=Date.now()/1e3-t}),J(L)}})}function NA(e,t){var n,r,i,o;return O(function(s){return s.g==1?(n=Vt,r=Date.now()/1e3,i=!0,e.m=Tv(e,{Tb:e.H,onError:function(u){Zi(e,u)},Ud:function(u){jv(e,u)},onExpirationUpdated:function(u,l){bv(e,u,l)},onEvent:function(u){e.dispatchEvent(u),u.type=="drmsessionupdate"&&i&&(i=!1,e.u.j=Date.now()/1e3-r)}}),e.m.configure(e.g.drm),o={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?Gr(t):"",codecs:t?ar(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.$,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},e.m.Y=!0,I(s,qg(e.m,[o],[]),2)):I(s,e.m.Ic(e.h),0)})}function LA(e,t,n){var r,i,o,s,u,l,c,h,m,T;return O(function(y){if(y.g==1)return ri(e,"src-equals"),r=e.h,e.C=new bm(r),i=!1,e.Hc.push(function(){i=!0}),e.ma!=null&&e.C.je(e.ma),e.I=new Ys({Ed:function(){return r.playbackRate},ec:function(){return r.defaultPlaybackRate},rf:function(S){r.playbackRate=S},bg:function(S){r.currentTime+=S}}),o=e.g.streaming.rebufferingGoal,xv(e,r,o),s=function(){return Ja(e)},u=function(){return Rv(e)},e.o.D(r,"playing",s),e.o.D(r,"pause",s),e.o.D(r,"ended",s),e.o.D(r,"ratechange",u),r.preload!="none"&&e.o.ja(r,"loadedmetadata",function(){e.u.m=Date.now()/1e3-t}),r.audioTracks&&(e.o.D(r.audioTracks,"addtrack",function(){return Ln(e)}),e.o.D(r.audioTracks,"removetrack",function(){return Ln(e)}),e.o.D(r.audioTracks,"change",function(){return Ln(e)})),r.textTracks&&(e.o.D(r.textTracks,"addtrack",function(S){if(S.track)switch(S=S.track,S.kind){case"metadata":bA(e,S);break;case"chapters":wv(e,S);break;default:Ln(e)}}),e.o.D(r.textTracks,"removetrack",function(){return Ln(e)}),e.o.D(r.textTracks,"change",function(){return Ln(e)})),r.src=vA(e.V,e.ea,n),(Ki()||Tt("Web0S"))&&r.load(),e.l=Sn,e.dispatchEvent(vt("streaming")),l=new pt,Ko(r,HTMLMediaElement.HAVE_METADATA,e.o,function(){e.C.ie(),l.resolve()}),Ko(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.o,function(){var S;return O(function(E){if(E.g==1)return OA(e),S=ou(e),S.find(function(C){return C.mode!="disabled"})?(0<S.length&&(e.da=!0),E.B(2)):I(E,new Promise(function(C){e.o.ja(r.textTracks,"change",C),new Ve(C).U(1)}),2);if(i)return E.return();jA(e),J(E)})}),r.error?l.reject(yh(e)):r.preload=="none"&&(X('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),e.o.ja(r,"error",function(){l.reject(yh(e))}),I(y,l,2);(c=e.R())&&e.g.streaming.liveSync?(h=function(){return _v(e)},e.o.D(r,"timeupdate",h)):c||(m=function(){return Qa(e)},e.o.D(r,"timeupdate",m),Qa(e)),e.A&&(e.A.onManifestUpdated(c),c&&(T=e.Eb().end,e.o.D(r,"progress",function(){var S=e.Eb().end;T!=S&&(e.A.onManifestUpdated(e.R()),T=S)}))),e.mb=!0,J(y)})}function OA(e){var t=e.g.preferredAudioLanguage;t!=""&&e.jg(t,e.g.preferredVariantRole)}function jA(e){var t=e.g.preferredTextLanguage;t!=""&&e.kf(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function bA(e,t){if(t.kind=="metadata"){t.mode="hidden",e.o.D(t,"cuechange",function(){if(t.activeCues)for(var r=w(t.activeCues),i=r.next();!i.done;i=r.next())i=i.value,yv(e,i.startTime,i.endTime,i.type,i.value),e.A&&e.A.onCueMetadataChange(i.value)});var n=new Ve(function(){var r=$A(e);r=w(r);for(var i=r.next();!i.done;i=r.next())i.value.mode="hidden"}).qc().U(.5);e.Hc.push(function(){n.stop()})}}function vv(e,t,n,r){t=w(t);for(var i=t.next();!i.done;i=t.next())if(i=i.value,i.data&&i.cueTime&&i.frames){var o=i.cueTime+n,s=r;s&&o>s&&(s=o);for(var u=w(i.frames),l=u.next();!l.done;l=u.next())yv(e,o,s,"org.id3",l.value);e.A&&e.A.onHlsTimedMetadata(i,o)}}function yv(e,t,n,r,i){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(vt("metadata",t))}function wv(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new Ve(function(){t.mode="hidden"}).qc().U(.5);e.Hc.push(function(){n.stop()})}}function UA(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}d.Mh=function(){for(var e=this.W;e.g;)e.release()};function Tv(e,t){return new Pa(t,e.g.drm.updateExpirationTime)}function FA(e){return new ft(function(t,n,r){e.s&&e.s.segmentDownloaded(t,n,r)},function(t,n,r){if(n=new Map().set("headers",t).set("request",n).set("requestType",r),e.dispatchEvent(vt("downloadheadersreceived",n)),e.Y&&(n=e.Y,n.h.enabled)){if(r=t["cmsd-static"])try{var i=new Map,o=r.split(",");for(r=0;r<o.length;r++){var s=o[r].split("=");i.set(s[0],av(s[1]))}}catch{}if(t=t["cmsd-dynamic"]){try{var u=new Map,l=t.split(";");for(t=1;t<l.length;t++){var c=l[t].split("=");u.set(c[0],av(c[1]))}var h=u}catch{h=null}h&&(n.g=h)}}},function(t,n,r,i){t=new Map().set("request",t).set("error",n).set("httpResponseCode",r).set("aborted",i),e.dispatchEvent(vt("downloadfailed",t))},function(t,n,r){var i=e.V;if(r=r===void 0?{}:r,i.g.enabled)if(n.method==="HEAD")Go(i,n);else switch(t){case 0:try{if(i.g.enabled){if(r.type){e:{switch(r.type){case 4:var o="d";break e;case 3:case 2:o="h";break e;case 5:o="s";break e}o=void 0}i.m=o}Go(i,n,{ot:uv,su:!i.i})}}catch(h){de("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",h)}break;case Lr:t=r;try{if(i.g.enabled){var s=t.segment;o=0,s&&(o=s.endTime-s.startTime);var u={d:1e3*o,st:i.h.R()?"l":"v"};u.ot=yA(t);var l=u.ot===Wa||u.ot===Ga||u.ot===qa||u.ot===nh,c=t.stream;c&&(l&&(u.bl=wA(i,c.type)),c.bandwidth&&(u.br=c.bandwidth/1e3)),l&&u.ot!==nh&&(u.tb=TA(i,u.ot)/1e3),Go(i,n,u)}}catch(h){de("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",h)}break;case 2:case 5:case 6:Go(i,n,{ot:"k"});break;case 4:Go(i,n,{ot:"o"})}},function(t,n,r,i){e.F&&e.F.banLocation&&e.F.banLocation(i)})}function BA(e,t){return new Um(e.h,e.i,e.g.streaming,t,function(){e.$b&&Km(e.$b,!0),e.j&&e.j.dd(),e.K&&Xo(e)},function(n){return e.dispatchEvent(n)})}function VA(e,t){t=new Ha(e.Aa,e.R()||0<t),t.addEventListener("enter",function(r){su(e,"timelineregionenter",r.region)}),t.addEventListener("exit",function(r){su(e,"timelineregionexit",r.region)}),t.addEventListener("skip",function(r){var i=r.region;r.seeking||(su(e,"timelineregionenter",i),su(e,"timelineregionexit",i))});var n=new Hm(e.h);return n.g.add(t),e.za&&n.g.add(e.za),n}function xv(e,t,n){e.K=new NS,e.K.g=_o,Rg(e.K,n,Math.min(.5,n/2)),mh(e),e.o.D(t,"waiting",function(){return Xo(e)}),e.o.D(t,"stalled",function(){return Xo(e)}),e.o.D(t,"canplaythrough",function(){return Xo(e)}),e.o.D(t,"progress",function(){return Xo(e)})}function Xo(e){switch(e.l){case Sn:if(e.h.ended)var t=!0;else{var n=Cf(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case sn:e:if(e.h.ended||Am(e.G))t=!0;else{if(e.i.presentationTimeline.R()){n=e.i.presentationTimeline.Bb();var r=Cf(e.h.buffered);if(r!=null&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=hm(e.h.buffered,e.h.currentTime),n=e.K;var i=t,o=n.h.get(n.g);t=n.g,r=i||r>=o?Sa:_o,n.g=r,t!=r&&mh(e)}function HA(e,t,n,r){return new Sm(e,t,n,r)}function KA(e){return new sv({getBandwidthEstimate:function(){return e.s?e.s.getBandwidthEstimate():NaN},pb:function(){return e.pb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},Cd:function(){return e.Cd()},Ob:function(){return e.Ob()},Cb:function(){return e.Cb()},R:function(){return e.R()}},e.g.cmcd)}function zA(e){return new Wm(e.i,{Dd:function(){return e.C?e.C.qd():0},getBandwidthEstimate:function(){return e.s.getBandwidthEstimate()},T:e.G,Tb:e.H,onError:function(t){return Zi(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Fh:function(){e.F&&e.F.update&&e.F.update()},af:function(t,n){var r=t.startTime,i=t.endTime,o=n.type;e.C&&e.C.cg(),Xo(e),r=new Map().set("start",r).set("end",i).set("contentType",o),e.dispatchEvent(vt("segmentappended",r)),e.s&&n.fastSwitching&&t.Zc&&t.Md&&e.s.trySuggestStreams()},Eh:function(t,n){(n=n.Ve)&&e.za&&zE(e.za,n,t)},Ef:function(t,n){var r=e.m;if(r.h.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){n=new $g(Me(n));var i=0,o=w(n.data);for(t=o.next();!t.done;t=o.next())i+=t.value.length;if(i==0)r=Promise.resolve();else{for(i=new Uint8Array(i),o=0,n=w(n.data),t=n.next();!t.done;t=n.next())t=t.value,i.set(t,o),o+=t.length;Gs(r,"cenc",i),r=r.l}}else r=Promise.resolve();return r},Gh:function(t,n,r){vv(e,t,n,r)},wd:function(t,n){return e.wd(t,n)}})}d.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=oh(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(cr("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(cr("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&e.streaming.lowLatencyMode&&(e.streaming.inaccurateManifestTolerance==null&&(e.streaming.inaccurateManifestTolerance=0),e.streaming.rebufferingGoal==null&&(e.streaming.rebufferingGoal=.01),e.streaming.segmentPrefetchLimit==null&&(e.streaming.segmentPrefetchLimit=2),e.streaming.retryParameters==null&&(e.streaming.retryParameters={}),e.streaming.retryParameters.baseDelay==null&&(e.streaming.retryParameters.baseDelay=100),e.manifest==null&&(e.manifest={}),e.manifest.retryParameters==null&&(e.manifest.retryParameters={}),e.manifest.retryParameters.baseDelay==null&&(e.manifest.retryParameters.baseDelay=100),e.drm==null&&(e.drm={}),e.drm.retryParameters==null&&(e.drm.retryParameters={}),e.drm.retryParameters.baseDelay==null&&(e.drm.retryParameters.baseDelay=100));var n=qo(this.g,e,Yo(this));return Sv(this),n};function Sv(e){if(e.F){var t=Hi(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.F.configure(t)}if(e.m&&e.m.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{kv(e,e.i)}catch(o){Zi(e,o)}e.s&&Jo(e),t=e.j.j,!t||t.allowedByApplication&&t.allowedByKeySystem||Qo(e)}if(e.H&&e.H.nf(e.g.streaming.forceHTTPS),e.G&&(e.G.configure(e.g.mediaSource),e.G.Y=e.g.manifest.segmentRelativeVttTiming,t=e.g.textDisplayFactory,e.Te!=t)){var n=t(),r=e.G,i=r.F;r.F=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.h&&(r.h.j=n),e.Te=t,e.j&&(t=e.j,(n=t.i.get(ze))&&$o(t,n.stream,!0,0,!0))}e.s&&(e.s.configure(e.g.abr),e.g.abr.enabled?e.s.enable():e.s.disable(),Ov(e)),e.K&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),Rg(e.K,t,Math.min(.5,t/2))),e.i&&wh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.A&&e.A.configure(e.g.ads),e.V&&e.V.configure(e.g.cmcd),e.Y&&e.Y.configure(e.g.cmsd)}d.getConfiguration=function(){var e=Yo(this);return qo(e,this.g,Yo(this)),e},d.Qg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.Eb().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},d.Qh=function(){for(var e in this.g)delete this.g[e];qo(this.g,Yo(this),Yo(this)),Sv(this)},d.Xg=function(){return this.l},d.He=function(){return this.i?this.i.type:null},d.ah=function(){return this.h},d.Ob=function(){return this.H},d.Ge=function(){return this.ea},d.Of=function(){return this.A?this.A:null},d.R=function(){return this.i?this.i.presentationTimeline.R():this.h&&this.h.src?this.h.duration==1/0:!1},d.Rb=function(){return this.i?this.i.presentationTimeline.Rb():!1},d.sh=function(){if(this.i){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},d.Eb=function(){if(this.i){if(!this.mb&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.hc(),end:e.qb()}}return this.h&&this.h.src&&(e=this.h.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},d.ph=function(){this.R()&&(this.h.currentTime=this.Eb().end)},d.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},d.drmInfo=function(){return this.m?this.m.g:null},d.Qc=function(){return this.m?this.m.Qc():1/0},d.Fe=function(){return this.m?this.m.Fe():[]},d.Bd=function(){return this.m?this.m.Bd():{}},d.Ke=function(){return this.K?this.K.g==_o:!1},d.Cd=function(){return this.h?this.I?this.I.h:1:0},d.xf=function(e){var t=this;e==0?X("A trick play rate of 0 is unsupported!"):(this.Ba.Za(),this.h.paused&&this.h.play(),this.I.set(e),this.l==sn&&(this.s.playbackRateChanged(e),qm(this.j,1<Math.abs(e))),this.R()&&this.Ba.D(this.h,"timeupdate",function(){var n=t.h.currentTime,r=t.Eb(),i=t.g.streaming.safeSeekOffset;0<e?n>=r.end&&t.ud():n<=r.start+i&&t.ud()}))},d.ud=function(){var e=this.I.ec();this.l==Sn&&this.I.set(e),this.l==sn&&(this.I.set(e),this.s.playbackRateChanged(e),qm(this.j,!1)),this.Ba.Za()},d.Cb=function(){if(this.i){for(var e=this.j?this.j.j:null,t=[],n=0,r=w(this.i.variants),i=r.next();!i.done;i=r.next())if(i=i.value,wa(i)){var o=ko(i);o.active=i==e,o.active||n==1||e==null||i.video!=e.video||i.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(s){return lf(s)}):[]},d.jc=function(){if(this.i){for(var e=this.j?this.j.o:null,t=[],n=w(this.i.textStreams),r=n.next();!r.done;r=n.next()){r=r.value;var i=ya(r);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?ou(this).map(function(o){return wg(o)}):[]},d.Wg=function(){var e=this.Oc;return this.i&&(e=this.i.imageStreams),e.map(function(t){return uf(t)})},d.Ng=function(e){var t=this,n,r,i,o;return O(function(s){return s.g==1?t.l!=sn&&t.l!=Sn?s.return(null):(n=t.Oc,t.i&&(n=t.i.imageStreams),(r=n.find(function(u){return u.id==e}))?r.segmentIndex?s.B(2):I(s,r.createSegmentIndex(),2):s.return(null)):s.g!=4?(i=[],Vf(r.segmentIndex,function(u){var l=Ev(u.tilesLayout||r.tilesLayout);if(l){l=l.rows*l.Kb;for(var c=u.h-u.startTime,h=0;h<l;h++)i.push(t.Tf(e,u.startTime+c*h/l))}}),I(s,Promise.all(i),4)):(o=s.h,s.return(o.filter(function(u){return u})))})};function Ev(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{Kb:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}d.Tf=function(e,t){var n=this,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R;return O(function(L){return L.g==1?n.l!=sn&&n.l!=Sn?L.return(null):(r=n.Oc,n.i&&(r=n.i.imageStreams),(i=r.find(function(j){return j.id==e}))?i.segmentIndex?L.B(2):I(L,i.createSegmentIndex(),2):L.return(null)):(o=i.segmentIndex.find(t),o==null||(s=i.segmentIndex.get(o),u=Ev(s.tilesLayout||i.tilesLayout),!u)?L.return(null):(l=i.width||0,c=i.height||0,h=l/u.Kb,m=c/u.rows,T=u.Kb*u.rows,y=s.h-s.startTime,S=s.u||y/T,E=s.startTime,k=C=0,1<T&&(M=Math.floor((t-s.startTime)/S),E=s.startTime+M*S,C=M%u.Kb*h,k=Math.floor(M/u.Kb)*m),_=!1,(R=s.s)&&(_=!0,m=R.height,C=R.positionX,k=R.positionY,h=R.width),L.return({segment:s,imageHeight:c,imageWidth:l,height:m,positionX:C,positionY:k,startTime:E,duration:S,uris:s.Z(),width:h,sprite:_})))})},d.kg=function(e){if(this.i&&this.j){var t=this.i.textStreams.find(function(r){return r.id==e.id});t&&t!=this.j.o&&(ch(this.u.h,t,!1),za(this.j,t),el(this),this.lb=t.language)}else if(this.h&&this.h.src&&this.h.textTracks){t=ou(this),t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,af(n)==e.id?n.mode=this.da?"showing":"hidden":n.mode="disabled";el(this)}},d.lf=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?0:n,this.i&&this.j){this.g.abr.enabled&&X("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.i.variants.find(function(i){return i.id==e.id});r&&wa(r)&&(Za(this,r,!1,t,n),this.kb=new kg(r,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),Jo(this))}else if(this.h&&this.h.audioTracks){for(t=Array.from(this.h.audioTracks),t=w(t),n=t.next();!n.done;n=t.next())if(n=n.value,af(n)==e.id){Dv(this,n);break}}},d.Pg=function(){return Bv(this.Cb())},d.ih=function(){return Bv(this.jc())},d.Og=function(){return Array.from(Fv(this.Cb()))},d.hh=function(){return Array.from(Fv(this.jc()))},d.jg=function(e,t,n,r){if(n=n===void 0?0:n,r=r===void 0?0:r,this.i&&this.C){this.kb=new Ro(e,t||"",n,"",!1,"","","",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),e=function(s,u){return s.video||u.video?s.video&&u.video?Math.abs((s.video.height||0)-(u.video.height||0))+Math.abs((s.video.width||0)-(u.video.width||0)):1/0:0},t=this.j.j;var i=this.kb.create(this.i.variants);n=null,i=w(i.values());for(var o=i.next();!o.done;o=i.next())o=o.value,(!n||e(n,t)>e(o,t))&&(n=o);n?(e=ko(n),this.lf(e,!0,r)):Qo(this)}else this.h&&this.h.audioTracks&&(r=Hs(this.Cb(),e,t||"",!1)[0])&&this.lf(r)},d.kf=function(e,t,n){n=n===void 0?!1:n,this.i&&this.C?(this.lb=e,this.Kc=t||"",this.Jc=n,(e=Hs(this.i.textStreams,this.lb,this.Kc,this.Jc)[0]||null)&&e!=this.j.o&&(ch(this.u.h,e,!1),this.g.streaming.alwaysStreamText||this.Me())&&(za(this.j,e),el(this))):(e=Hs(this.jc(),e,t||"",n)[0])&&this.kg(e)},d.Wh=function(e,t,n){if(t=t===void 0?!0:t,n=n===void 0?0:n,this.i&&this.C){for(var r=null,i=w(this.i.variants),o=i.next();!o.done;o=i.next())if(o=o.value,o.audio.label==e){r=o;break}r!=null&&(this.kb=new Ro(r.language,"",0,"",!1,"",e,"",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),Qo(this,t,n))}else if(this.h&&this.h.audioTracks){for(n=Array.from(this.h.audioTracks),t=null,n=w(n),r=n.next();!r.done;r=n.next())r=r.value,r.label==e&&(t=r);t&&Dv(this,t)}},d.Me=function(){var e=this.da;return this.G&&this.l==sn?this.G.F.isTextVisible():this.h&&this.h.src&&this.h.textTracks?ou(this).some(function(t){return t.mode=="showing"}):e},d.Pf=function(){return this.h&&this.h.src&&this.h.textTracks?Av(this).map(function(e){return wg(e)}):[]},d.Rg=function(e){if(!this.h||!this.h.src||!this.h.textTracks)return[];var t=Je(e),n=Av(this).filter(function(u){return Je(u.language)==t});if(!n||!n.length)return[];e=[];var r=new Set;n=w(n);for(var i=n.next();!i.done;i=n.next())if((i=i.value)&&i.cues){i=w(i.cues);for(var o=i.next();!o.done;o=i.next()){var s=o.value;(o=s.id)&&o!=""||(o=s.startTime+"-"+s.endTime+"-"+s.text),s={id:o,title:s.text,startTime:s.startTime,endTime:s.endTime},r.has(o)||(e.push(s),r.add(o))}}return e};function ou(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function $A(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function Av(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}d.og=function(e){if(e=!!e,this.da!=e){if(this.da=e,this.l==sn)this.G.F.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.o||(e=Hs(this.i.textStreams,this.lb,this.Kc,this.Jc),0<e.length&&(za(this.j,e[0]),el(this))):JE(this.j));else if(this.h&&this.h.src&&this.h.textTracks){var t=ou(this);t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.mode!="disabled"&&(n.mode=e?"showing":"hidden")}Lv(this)}},d.dh=function(){if(!this.R())return null;if(this.C)var e=this.C.qd();else{if(this.ma==null)return new Date;e=this.ma}if(this.i)return new Date(1e3*(this.i.presentationTimeline.i+e));if(this.h&&this.h.getStartDate){var t=this.h.getStartDate();return isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)}return null},d.Sf=function(){if(!this.R())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.h&&this.h.getStartDate){var e=this.h.getStartDate();return isNaN(e.getTime())?null:e}return null},d.pb=function(){if(this.l==sn)return this.G.pb();var e={total:[],audio:[],video:[],text:[]};return this.l==Sn&&(e.total=xi(this.h.buffered)),e},d.getStats=function(){if(this.l!=sn&&this.l!=Sn)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Ja(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.u;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.C&&(this.u.K=this.C.Af(),this.u.N=this.C.Bf()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.u;var r=Number(n.totalVideoFrames);t.J=Number(n.droppedVideoFrames),t.I=r,this.u.H=Number(n.corruptedVideoFrames)}if(this.m?(n=this.m,n=n.I?n.I:NaN):n=NaN,this.u.s=n,this.l==sn){if(n=this.j.j,t=this.j.o,n){r=this.I?this.I.h:1;var i=r*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.u.A=i}n&&n.video&&(t=this.u,r=n.video.height||NaN,t.o=n.video.width||NaN,t.l=r),this.R()&&(n=this.Sf().valueOf()+1e3*e.currentTime,this.u.C=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.u.G=this.i.presentationTimeline.g),n=this.s.getBandwidthEstimate(),this.u.u=n}this.l==Sn&&(n=this.u,t=e.videoHeight||NaN,n.o=e.videoWidth||NaN,n.l=t);var o=this.u;e=o.o,n=o.l,t=o.A,r=o.I,i=o.J;var s=o.H,u=o.N,l=o.K,c=o.u,h=o.i,m=o.m,T=o.F,y=o.j,S=lh(o.g,"playing"),E=lh(o.g,"paused"),C=lh(o.g,"buffering"),k=o.s,M=o.C,_=o.G,R=IA(o.g),L=[];o=w(o.h.g);for(var j=o.next();!j.done;j=o.next())j=j.value,L.push({timestamp:j.timestamp,id:j.id,type:j.type,fromAdaptation:j.fromAdaptation,bandwidth:j.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:s,stallsDetected:u,gapsJumped:l,estimatedBandwidth:c,completionPercent:h,loadLatency:m,manifestTimeSeconds:T,drmTimeSeconds:y,playTime:S,pauseTime:E,bufferingTime:C,licenseTime:k,liveLatency:M,maxSegmentDuration:_,stateHistory:R,switchHistory:L}},d.Bg=function(e,t,n,r,i,o,s){s=s===void 0?!1:s;var u=this,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){switch(R.g){case 1:if(u.l!=sn&&u.l!=Sn)throw new P(1,7,7004);if(n!="subtitles"&&n!="captions"&&X("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){R.B(2);break}return I(R,dh(u,e),3);case 3:r=R.h;case 2:if(l=[],u.A&&(l=u.A.getCuePoints()),u.l!=Sn){R.B(4);break}return s&&(n="forced"),I(R,Iv(u,e,t,n,r,o||"",l),5);case 5:if(c=Je(t),h=u.jc(),m=h.find(function(L){return Je(L.language)==c&&L.label==(o||"")&&L.kind==n}))return Ln(u),R.return(m);throw new P(1,2,2012);case 4:if(T=Vt,y=u.h.duration,u.i&&(y=u.i.presentationTimeline.getDuration()),y==1/0)throw new P(1,4,4033);if(!l.length){R.B(6);break}return I(R,ph(u,e,u.H,u.g.streaming.retryParameters),7);case 7:S=R.h,E=Cv(u,S,r,l),C=new Blob([E],{type:"text/vtt"}),e=Ba(C),r="text/vtt";case 6:if(k={id:u.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Hf(0,y,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:T.na,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1},M=Nn(k.mimeType,k.codecs),_=ua(M),!_)throw new P(2,2,2014,r);return u.i.textStreams.push(k),Ln(u),R.return(ya(k))}})},d.Cg=function(e,t){var n=this,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M;return O(function(_){switch(_.g){case 1:if(n.l!=sn&&n.l!=Sn)throw new P(1,7,7004);if(t){_.B(2);break}return I(_,dh(n,e),3);case 3:t=_.h;case 2:if(t!="text/vtt")throw new P(1,2,2017,e);if(r=Vt,i=n.h.duration,n.i&&(i=n.i.presentationTimeline.getDuration()),i==1/0)throw new P(1,4,4045);return I(_,ph(n,e,n.H,n.g.streaming.retryParameters),4);case 4:if(o=_.h,s=$t[t],!s)throw new P(2,2,2014,t);for(u=s(),l={periodStart:0,segmentStart:0,segmentEnd:i,vttOffset:0},c=Me(o),h=u.parseMedia(c,l,e),m=[],T={},y=w(h),S=y.next();!S.done;T={Dc:T.Dc,Hb:T.Hb},S=y.next())T.Hb=S.value,T.Dc=null,E=function(R){return function(){return R.Dc==null&&(R.Dc=tn([e],[R.Hb.payload])),R.Dc||[]}}(T),C=new Ae(T.Hb.startTime,T.Hb.endTime,E,0,null,null,0,0,1/0),T.Hb.payload.includes("#xywh")&&(k=T.Hb.payload.split("#xywh=")[1].split(","),k.length===4&&C.pg({height:parseInt(k[3],10),positionX:parseInt(k[0],10),positionY:parseInt(k[1],10),width:parseInt(k[2],10)})),m.push(C);return M={id:n.We++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Xe(m),mimeType:t||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.he,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1},n.l==Sn?n.Oc.push(M):n.i.imageStreams.push(M),Ln(n),_.return(uf(M))}})},d.Ag=function(e,t,n){var r=this,i,o,s,u;return O(function(l){switch(l.g){case 1:if(r.l!=sn&&r.l!=Sn)throw new P(1,7,7004);if(n){l.B(2);break}return I(l,dh(r,e),3);case 3:n=l.h;case 2:return i=[],r.A&&(i=r.A.getCuePoints()),I(l,Iv(r,e,t,"chapters",n,"",i),4);case 4:if(o=l.h,s=r.Pf(),u=s.find(function(c){return c.language==t}),!u){l.B(5);break}return I(l,new Promise(function(c,h){r.o.ja(o,"load",c),r.o.ja(o,"error",function(){h(new P(1,2,2015))})}),6);case 6:return Ln(r),l.return(u);case 5:throw new P(1,2,2012)}})};function dh(e,t){var n;return O(function(r){switch(r.g){case 1:return Ce(r,2),I(r,Yf(t,e.H,e.g.streaming.retryParameters),4);case 4:n=r.h,ae(r,3);break;case 2:Y(r);case 3:if(n)return r.return(n);throw new P(1,2,2011,t)}})}function Iv(e,t,n,r,i,o,s){var u,l,c,h;return O(function(m){if(m.g==1)return i!="text/vtt"||s.length?I(m,ph(e,t,e.H,e.g.streaming.retryParameters),3):m.B(2);m.g!=2&&(u=m.h,l=Cv(e,u,i,s),c=new Blob([l],{type:"text/vtt"}),t=Ba(c),i="text/vtt"),h=document.createElement("track");var T=e.V,y=t;try{if(T.g.enabled){var S=Zf(T);S.ot=th,S.su=!0;var E=$a(S),C=eh(y,E)}else C=y}catch(k){de("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",k),C=y}return h.src=C,h.label=o,h.kind=r,h.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(h),m.return(h)})}function ph(e,t,n,r){var i,o,s;return O(function(u){if(u.g==1){i=Lr,o=Gt([t],r),o.method="GET";var l=e.V;try{l.g.enabled&&Go(l,o,{ot:th,su:!0})}catch(c){de("CMCD_TEXT_ERROR","Could not generate text CMCD data.",c)}return I(u,n.request(i,o).promise,2)}return s=u.h,u.return(s.data)})}function Cv(e,t,n,r){var i=$t[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Me(t),t=n.parseMedia(t,e,null),mA(t,r);throw new P(2,2,2014,n)}d.pf=function(e,t){this.Id.width=e,this.Id.height=t},d.gf=function(e){if(this.l==sn){var t=this.j;if(e=e===void 0?.1:e,t.l.g)t=!1;else if(t.s)t=!1;else{for(var n=w(t.i.values()),r=n.next();!r.done;r=n.next())r=r.value,!r.Tc||r.Da||r.ib||(r.Tc=!1,pr(t,r,e));t=!0}}else t=!1;return t},d.Yg=function(){return X("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},d.Zg=function(){return this.Ld};function Yo(e){var t=Wo();return t.streaming.failureCallback=function(n){if(e.R()){var r=null;n.code==1001||n.code==1002?r=1:n.code==1003&&(r=.1),r!=null&&(n.severity=1,e.gf(r))}},t.textDisplayFactory=function(){return e.xd?new Yn(e.h,e.xd):HTMLMediaElement.prototype.addTextTrack?new qn(e.h,"Shaka Player TextTrack"):new Xn},t}d.rg=function(e){this.xd=e};function GA(e,t){for(var n=new Set,r=w(t.textStreams),i=r.next();!i.done;i=r.next())i=i.value,i.mimeType!="application/cea-608"&&i.mimeType!="application/cea-708"||n.add(i.originalId);for(r=w(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions){for(var o=w(i.closedCaptions.keys()),s=o.next();!s.done;s=o.next())if(s=s.value,!n.has(s)){var u=s.startsWith("CC")?"application/cea-608":"application/cea-708",l=new Pt,c=i.closedCaptions.get(s);u={id:e.We++,originalId:s,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:l,mimeType:u,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:c,originalLanguage:c,label:null,type:ze,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1},t.textStreams.push(u),n.add(s)}}}function Mv(e,t){return O(function(n){if(n.g==1)return I(n,WA(e,t),2);kv(e,t),J(n)})}function WA(e,t){return O(function(n){if(n.g==1)return I(n,dS(e.m,t),2);if(!t.variants.some(wa))throw new P(2,4,4032);J(n)})}function kv(e,t){if(e.l!=Ar){dg(t.variants,e.g.restrictions,e.Id)&&e.j&&Ln(e);var n=e.m?e.m.g:null;if(n&&e.m.s)for(var r=w(t.variants),i=r.next();!i.done;i=r.next())i=i.value,gh(e,n.keySystem,i.video),gh(e,n.keySystem,i.audio);Uv(e,t)}}function gh(e,t,n){if(n){n=w(n.drmInfos);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.keySystem==t){r=w(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,Gs(e.m,i.initDataType,i.initData)}}}function qA(e,t){var n,r,i,o,s;return O(function(u){return u.g==1?(n=e.audio,r=e.video,i=function(l,c){var h,m,T;return O(function(y){return y.g==1?l?I(y,l.createSegmentIndex(),2):y.return(null):(m=(h=l.segmentIndex.Nb(c))?h.next().value:null,m?(T=m.startTime,y.return(T)):y.return(null))})},I(u,i(n,t),2)):u.g!=3?(o=u.h,I(u,i(r,t),3)):(s=u.h,s!=null&&o!=null?u.return(Math.max(s,o)):s!=null?u.return(s):o!=null?u.return(o):u.return(t))})}function mh(e){var t=e.Ke();if(e.u&&e.K&&e.C){if(e.V){var n=e.V;t||n.i||(n.i=!0),n.i&&t&&(n.j=!0),n.l=t}Ja(e)}t=new Map().set("buffering",t),e.dispatchEvent(vt("buffering",t))}function Rv(e){var t=e.h.playbackRate;t!=0&&(e.I&&e.I.set(t),t=vt("ratechange"),e.dispatchEvent(t))}function Ja(e){if(e.u&&e.K){var t=e.u.g,n="playing";e.K.g==_o?n="buffering":e.h.paused?n="paused":e.h.ended&&(n="ended");var r=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(vt("statechanged",n)))}}function _v(e){if(e.R()){var t=e.Eb();if(Number.isFinite(t.end)&&!(e.h.currentTime<t.start)){if(e.g.streaming.liveSync)var n=e.g.streaming.liveSyncMaxLatency,r=e.g.streaming.liveSyncPlaybackRate;else e.i&&e.i.serviceDescription&&(n=e.i.serviceDescription.maxLatency||e.g.streaming.liveSyncMaxLatency,r=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSyncPlaybackRate);if(e.g.streaming.liveSync)var i=e.g.streaming.liveSyncMinLatency,o=e.g.streaming.liveSyncMinPlaybackRate;else e.i&&e.i.serviceDescription&&(i=e.i.serviceDescription.minLatency||e.g.streaming.liveSyncMinLatency,o=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSyncMinPlaybackRate);var s=e.h.playbackRate,u=t.end-e.h.currentTime,l=0;if(e.l==Sn){var c=e.h.buffered;0<c.length&&(l=c.end(c.length-1),l=Math.max(r,l-t.end))}n&&r&&u-l>n?s!=r&&e.xf(r):i&&o&&u-l<i?s!=o&&e.xf(o):s!==e.I.ec()&&e.ud()}}}function Qa(e){if(e.h){var t=!1,n=e.h.currentTime/e.h.duration;if(isNaN(n)||(n=Math.round(100*n),isNaN(e.N)?(e.N=n,t=!0):(n=Math.max(e.N,n),e.N!=n&&(e.N=n,t=!0))),t){var r;e.N==0?r=vt("started"):e.N==25?r=vt("firstquartile"):e.N==50?r=vt("midpoint"):e.N==75?r=vt("thirdquartile"):e.N==100&&(r=vt("complete")),r&&e.dispatchEvent(r)}}}function Jo(e){try{Uv(e,e.i)}catch(n){return Zi(e,n),!1}var t=cf(e.i.variants);return t=e.kb.create(t),e.s.setVariants(Array.from(t.values())),!0}function Pv(e,t){return t=t===void 0?!1:t,Jo(e)?e.s.chooseVariant(t):null}function XA(e){function t(s){var u="";return s.video&&(u+="video:"+s.video.id),s.audio&&(u=u+(u?"&":"")+("audio:"+s.audio.id)),u}for(var n=Date.now()/1e3,r=!1,i=w(e.i.variants),o=i.next();!o.done;o=i.next())o=o.value,0<o.disabledUntilTime&&o.disabledUntilTime<=n&&(o.disabledUntilTime=0,r=!0,""+t(o),void 0);e.i.variants.every(function(s){return s.disabledUntilTime===0})&&e.yd.stop(),r&&Qo(e,!0,void 0,!1,!1)}function Qo(e,t,n,r,i){t=t===void 0?!0:t,n=n===void 0?0:n,r=r===void 0?!1:r,i=i===void 0?!0:i;var o=Pv(e);o&&Za(e,o,i,t,n,r)}function Za(e,t,n,r,i,o){o=o===void 0?!1:o;var s=e.j.j;if(t==s)r&&Xm(e.j,t,r,i,!0);else{var u=e.u.h;u.h!=t&&(u.h=t,u.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Xm(e.j,t,r,i,o,n),r=null,s&&(r=ko(s)),t=ko(t),n?(n=new Map().set("oldTrack",r).set("newTrack",t),e.J&&xm(e.J,t,e.He()),n=vt("adaptation",n),Zo(e,n)):Nv(e,r,t)}}function Dv(e,t){var n=Array.from(e.h.audioTracks).find(function(r){return r.enabled});t.enabled=!0,t.id!==n.id&&(n.enabled=!1),n=lf(n),t=lf(t),Nv(e,n,t)}function YA(e,t,n){if(e.g.autoShowText==0)return!1;if(e.g.autoShowText==1)return!0;var r=Je(e.g.preferredTextLanguage);return n=Je(n.language),e.g.autoShowText==2?aa(n,r):e.g.autoShowText==3?(e=Je(t.language),aa(n,r)&&!aa(e,n)):(X("Invalid autoShowText setting!"),!1)}function Ln(e){var t=vt("trackschanged");Zo(e,t)}function Nv(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.J&&xm(e.J,n,e.He()),n=vt("variantchanged",t),Zo(e,n)}function el(e){var t=vt("textchanged");Zo(e,t)}function Lv(e){var t=vt("texttrackvisibility");Zo(e,t)}function Ov(e){e.g.abr.enabled||vh(e);var t=new Map().set("newStatus",e.g.abr.enabled);Zo(e,vt("abrstatuschanged",t))}function vh(e,t){if(t=t===void 0?!0:t,e.l==sn){e.yd.stop();for(var n=w(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Jo(e)}}d.wd=function(e,t){if(!this.g.abr.enabled||this.l===Ar||!navigator.onLine)return!1;if(this.i.variants.some(function(o){return(o=o[e.type])&&o.id!==e.id?e.type=="audio"?e.language===o.language:!0:!1})){for(var n=w(this.i.variants),r=n.next();!r.done;r=n.next()){r=r.value;var i=r[e.type];i&&i.id===e.id&&(r.disabledUntilTime=Date.now()/1e3+t)}return this.yd.$a(1),t=this.pb().video.reduce(function(o,s){return o+s.end-s.start},0),Qo(this,!0,t,!0,!1),!0}return!1};function Zi(e,t){var n,r,i;return O(function(o){switch(o.g){case 1:if(e.l==Ar)return o.return();if(n=!0,!(e.mb&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){o.B(2);break}return Ce(o,3),I(o,lA(e.j),5);case 5:r=o.h,n=!r,ae(o,2);break;case 3:Y(o),n=!0;case 2:if(!n)return o.return();t.severity===2&&vh(e,!1),i=vt("error",new Map().set("detail",t)),e.dispatchEvent(i),i.defaultPrevented&&(t.handled=!0),J(o)}})}function su(e,t,n){n=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(vt(t,n))}function yh(e){if(!e.h.error)return null;var t=e.h.error.code;if(t==1)return null;var n=e.h.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new P(2,3,3016,t,n,e.h.error.message)}function jv(e,t){if(e.j){var n=vt("keystatuschanged");e.dispatchEvent(n);var r=Object.keys(t);n=r.length==1&&r[0]=="00";var i=!1;if(r.length){r=w(e.i.variants);for(var o=r.next();!o.done;o=r.next()){o=o.value;var s=[];o.audio&&s.push(o.audio),o.video&&s.push(o.video),s=w(s);for(var u=s.next();!u.done;u=s.next()){var l=u.value;if(u=o.allowedByKeySystem,l.keyIds.size){o.allowedByKeySystem=!0,l=w(l.keyIds);for(var c=l.next();!c.done;c=l.next())c=c.value,((c=t[n?"00":c])||e.m.F)&&(o.allowedByKeySystem=o.allowedByKeySystem&&!!c&&!Hv.includes(c))}u!=o.allowedByKeySystem&&(i=!0)}}}if(i&&(Ln(e),!Jo(e)))return;(t=e.j.j)&&!t.allowedByKeySystem&&Qo(e)}}function bv(e,t,n){e.F&&e.F.onExpirationUpdated&&e.F.onExpirationUpdated(t,n),t=vt("expirationupdated"),e.dispatchEvent(t)}function wh(e,t,n){0<t&&(e.R()||e.qg(t)),t=e.getDuration(),n<t&&(e.R()||e.Pa(n))}function Uv(e,t){e=e.m?e.m.Bd():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var r=!1,i=!1,o=new Set,s=new Set;t=w(t.variants);for(var u=t.next();!u.done;u=t.next()){u=u.value;var l=[];u.audio&&l.push(u.audio),u.video&&l.push(u.video),l=w(l);for(var c=l.next();!c.done;c=l.next())if(c=c.value,c.keyIds.size){c=w(c.keyIds);for(var h=c.next();!h.done;h=c.next()){h=h.value;var m=e[n?"00":h];m?Hv.includes(m)&&s.add(m):o.add(h)}}u.allowedByApplication?u.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw e={hasAppRestrictions:i,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)},new P(2,4,4012,e)}function Zo(e,t){O(function(n){if(n.g==1)return I(n,Promise.resolve(),2);e.l!=Ar&&e.dispatchEvent(t),J(n)})}function Fv(e){var t=new Set;e=w(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(Je(n.language)):t.add("und");return t}function Bv(e){var t=new Map,n=new Map;e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i="und",o=[];r.language&&(i=Je(r.language)),r.type=="variant"?o=r.audioRoles:o=r.roles,o&&o.length||(o=[""]),t.has(i)||t.set(i,new Set),o=w(o);for(var s=o.next();!s.done;s=o.next())s=s.value,t.get(i).add(s),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(s,r.label))}var u=[];return t.forEach(function(l,c){l=w(l);for(var h=l.next();!h.done;h=l.next()){h=h.value;var m=null;n.has(c)&&n.get(c).has(h)&&(m=n.get(c).get(h)),u.push({language:c,role:h,label:m})}}),u}ue("shaka.Player",G),G.prototype.setVideoContainer=G.prototype.rg,G.prototype.getManifestParserFactory=G.prototype.Zg,G.prototype.getManifest=G.prototype.Yg,G.prototype.retryStreaming=G.prototype.gf,G.prototype.setMaxHardwareResolution=G.prototype.pf,G.prototype.addChaptersTrack=G.prototype.Ag,G.prototype.addThumbnailsTrack=G.prototype.Cg,G.prototype.addTextTrackAsync=G.prototype.Bg,G.prototype.getStats=G.prototype.getStats,G.prototype.getBufferedInfo=G.prototype.pb,G.prototype.getPresentationStartTimeAsDate=G.prototype.Sf,G.prototype.getPlayheadTimeAsDate=G.prototype.dh,G.prototype.setTextTrackVisibility=G.prototype.og,G.prototype.getChapters=G.prototype.Rg,G.prototype.getChaptersTracks=G.prototype.Pf,G.prototype.isTextTrackVisible=G.prototype.Me,G.prototype.selectVariantsByLabel=G.prototype.Wh,G.prototype.selectTextLanguage=G.prototype.kf,G.prototype.selectAudioLanguage=G.prototype.jg,G.prototype.getTextLanguages=G.prototype.hh,G.prototype.getAudioLanguages=G.prototype.Og,G.prototype.getTextLanguagesAndRoles=G.prototype.ih,G.prototype.getAudioLanguagesAndRoles=G.prototype.Pg,G.prototype.selectVariantTrack=G.prototype.lf,G.prototype.selectTextTrack=G.prototype.kg,G.prototype.getThumbnails=G.prototype.Tf,G.prototype.getAllThumbnails=G.prototype.Ng,G.prototype.getImageTracks=G.prototype.Wg,G.prototype.getTextTracks=G.prototype.jc,G.prototype.getVariantTracks=G.prototype.Cb,G.prototype.cancelTrickPlay=G.prototype.ud,G.prototype.trickPlay=G.prototype.xf,G.prototype.getPlaybackRate=G.prototype.Cd,G.prototype.isBuffering=G.prototype.Ke,G.prototype.getKeyStatuses=G.prototype.Bd,G.prototype.getActiveSessionsMetadata=G.prototype.Fe,G.prototype.getExpiration=G.prototype.Qc,G.prototype.drmInfo=G.prototype.drmInfo,G.prototype.keySystem=G.prototype.keySystem,G.prototype.goToLive=G.prototype.ph,G.prototype.seekRange=G.prototype.Eb,G.prototype.isAudioOnly=G.prototype.sh,G.prototype.isInProgress=G.prototype.Rb,G.prototype.isLive=G.prototype.R,G.prototype.getAdManager=G.prototype.Of,G.prototype.getAssetUri=G.prototype.Ge,G.prototype.getNetworkingEngine=G.prototype.Ob,G.prototype.getMediaElement=G.prototype.ah,G.prototype.getManifestType=G.prototype.He,G.prototype.getLoadMode=G.prototype.Xg,G.prototype.resetConfiguration=G.prototype.Qh,G.prototype.getBufferFullness=G.prototype.Qg,G.prototype.getConfiguration=G.prototype.getConfiguration,G.prototype.configure=G.prototype.configure,G.prototype.releaseAllMutexes=G.prototype.Mh,G.prototype.load=G.prototype.load,G.prototype.updateStartTime=G.prototype.ei,G.prototype.unload=G.prototype.rc,G.prototype.detach=G.prototype.detach,G.prototype.attachCanvas=G.prototype.Eg,G.prototype.attach=G.prototype.Ic,G.probeSupport=function(e){e=e===void 0?!0:e;var t,n,r,i,o,s;return O(function(u){if(u.g==1)return t={},e?I(u,tE(),3):u.B(2);u.g!=2&&(t=u.h);var l={};if(Sr())for(var c in dr)l[c]=!0;c=w(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var h=c.next();!h.done;h=c.next())h=h.value,l[h]=Sr()?!!dr[h]:Bs(h);for(n=l,c='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(U(Eo)),l={},c=w(c),h=c.next();!h.done;h=c.next()){h=h.value,l[h]=Sr()?ua(h)?!0:ge(h)||!!Bi(h):Bs(h);var m=h.split(";")[0];l[m]=l[m]||l[h]}r=l,i={manifest:n,media:r,drm:t},o=xh;for(s in o)i[s]=o[s]();return u.return(i)})},G.isBrowserSupported=function(){if(v.Promise||X("A Promise implementation or polyfill is required"),!(v.Promise&&v.Uint8Array&&Array.prototype.forEach)||Tt("Trident/"))return!1;var e=pa();return e&&9>e||!(v.MediaKeys&&v.navigator&&v.navigator.requestMediaKeySystemAccess&&v.MediaKeySystemAccess&&v.MediaKeySystemAccess.prototype.getConfiguration)?!1:Sr()?!0:Bs("application/x-mpegurl")},G.setAdManagerFactory=function(e){tl=e},G.registerSupportPlugin=function(e,t){xh[e]=t},G.prototype.destroy=G.prototype.destroy;var Ar=0,Th=1,sn=2,Sn=3;G.LoadMode={DESTROYED:Ar,NOT_LOADED:Th,MEDIA_SOURCE:sn,SRC_EQUALS:Sn},G.version="v4.7.11";var Vv=["4","7"];Ag=new function(e){this.g=e,this.i=ES,this.h=AS}(new df(Number(Vv[0]),Number(Vv[1])));var Hv=["output-restricted","internal-error"],xh={},tl=null;function Kv(){this.h=[],this.j=this.i=this.g=0}function ke(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new ht,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,function(){r.i=!0}),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,function(){r.i=!1})}d=ke.prototype,d.getDuration=function(){return this.g.getDuration()},d.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},d.getRemainingTime=function(){return this.h.getRemainingTime()},d.isPaused=function(){return this.i},d.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},d.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},d.canSkipNow=function(){return this.h.getAdSkippableState()},d.skip=function(){return this.h.skip()},d.pause=function(){return this.h.pause()},d.play=function(){return this.h.resume()},d.getVolume=function(){return this.h.getVolume()},d.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},d.isMuted=function(){return this.h.getVolume()==0},d.isLinear=function(){return this.g.isLinear()},d.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},d.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},d.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},d.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},d.getTitle=function(){return this.g.getTitle()},d.getDescription=function(){return this.g.getDescription()},d.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},d.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},d.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},d.getAdId=function(){return this.g.getAdId()},d.getCreativeAdId=function(){return this.g.getCreativeAdId()},d.getAdvertiserName=function(){return this.g.getAdvertiserName()},d.getMediaUrl=function(){return this.g.getMediaUrl()},d.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},d.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},d.release=function(){this.h=this.g=null},ue("shaka.ads.ClientSideAd",ke),ke.prototype.release=ke.prototype.release,ke.prototype.getPodIndex=ke.prototype.getPodIndex,ke.prototype.getTimeOffset=ke.prototype.getTimeOffset,ke.prototype.getMediaUrl=ke.prototype.getMediaUrl,ke.prototype.getAdvertiserName=ke.prototype.getAdvertiserName,ke.prototype.getCreativeAdId=ke.prototype.getCreativeAdId,ke.prototype.getAdId=ke.prototype.getAdId,ke.prototype.getVastMediaWidth=ke.prototype.getVastMediaWidth,ke.prototype.getVastMediaHeight=ke.prototype.getVastMediaHeight,ke.prototype.getVastMediaBitrate=ke.prototype.getVastMediaBitrate,ke.prototype.getDescription=ke.prototype.getDescription,ke.prototype.getTitle=ke.prototype.getTitle,ke.prototype.getPositionInSequence=ke.prototype.getPositionInSequence,ke.prototype.getSequenceLength=ke.prototype.getSequenceLength,ke.prototype.setMuted=ke.prototype.setMuted,ke.prototype.resize=ke.prototype.resize,ke.prototype.isLinear=ke.prototype.isLinear,ke.prototype.isMuted=ke.prototype.isMuted,ke.prototype.setVolume=ke.prototype.setVolume,ke.prototype.getVolume=ke.prototype.getVolume,ke.prototype.play=ke.prototype.play,ke.prototype.pause=ke.prototype.pause,ke.prototype.skip=ke.prototype.skip,ke.prototype.canSkipNow=ke.prototype.canSkipNow,ke.prototype.getTimeUntilSkippable=ke.prototype.getTimeUntilSkippable,ke.prototype.isSkippable=ke.prototype.isSkippable,ke.prototype.isPaused=ke.prototype.isPaused,ke.prototype.getRemainingTime=ke.prototype.getRemainingTime,ke.prototype.getMinSuggestedDuration=ke.prototype.getMinSuggestedDuration,ke.prototype.getDuration=ke.prototype.getDuration;function nl(e,t,n,r,i){var o=this;this.o=e,this.i=t,this.A=!1,this.s=this.C=null,this.F=NaN,this.m=i,this.j=null,this.h=new ht,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),e=new google.ima.AdDisplayContainer(this.o,this.i),e.initialize(),this.l=new google.ima.AdsLoader(e),this.l.getSettings().setPlayerType("shaka-player"),this.l.getSettings().setPlayerVersion("v4.7.11"),this.g=null,this.u=r||new google.ima.AdsRenderingSettings,this.h.D(this.l,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(s){JA(o,s)}),this.h.D(this.l,google.ima.AdErrorEvent.Type.AD_ERROR,function(s){zv(o,s)}),this.h.D(this.i,"ended",function(){o.l.contentComplete()}),this.h.ja(this.i,"play",function(){o.A=!0})}nl.prototype.configure=function(e){this.C=e},nl.prototype.stop=function(){this.g&&this.g.stop(),this.o&&nu(this.o)},nl.prototype.release=function(){this.stop(),this.s&&this.s.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.l.destroy()};function zv(e,t){t.getError(),t=new Map().set("originalEvent",t),e.m(new Ee("ad-error",t)),il(e,null),e.m(new Ee("ad-cue-points-changed",new Map().set("cuepoints",[])))}function JA(e,t){if(e.m(new Ee("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.F))),e.C.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.u),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.D(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.D(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.u);e.m(new Ee("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var r=e.g.getCuePoints();if(r.length){t=[],r=w(r);for(var i=r.next();!i.done;i=r.next())t.push({start:i.value,end:null});e.m(new Ee("ad-cue-points-changed",new Map().set("cuepoints",t)))}QA(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,rl(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.D(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rl(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in v?(e.s=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rl(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.s.observe(e.i)):e.h.D(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,rl(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.A?e.g.start():e.h.ja(e.i,"play",function(){e.A=!0,e.g.start()})}catch{il(e,null)}}function rl(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function QA(e){function t(n,r){n=new Map().set("originalEvent",n),e.m(new Ee(r,n))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){zv(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){$v(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,function(n){$v(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){il(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){il(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.D(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function $v(e,t){var n=t.getAd();n?(e.j=new ke(n,e.g,e.i),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.m(new Ee("ad-started",t)),e.j.isLinear()&&(e.o.setAttribute("ad-active","true"),e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):X("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function il(e,t){e.m(new Ee("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.o.removeAttribute("ad-active"),e.i.ended||e.i.play())}function Ie(e,t,n,r,i){this.h=e,this.g=i,this.i=t,this.j=n,this.l=r}d=Ie.prototype,d.getDuration=function(){return this.h.durationInSeconds},d.getMinSuggestedDuration=function(){return this.getDuration()},d.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},d.isPaused=function(){return this.g.paused},d.isSkippable=function(){return!!this.h.skipOffset},d.getTimeUntilSkippable=function(){if(!this.h.skipOffset)return this.getRemainingTime();var e=this.getRemainingTime()-this.h.skipOffset;return Math.max(e,0)},d.canSkipNow=function(){return this.getTimeUntilSkippable()==0},d.skip=function(){this.g.currentTime+=this.getRemainingTime()},d.pause=function(){return this.g.pause()},d.play=function(){return this.g.play()},d.getVolume=function(){return this.g.volume},d.setVolume=function(e){this.g.volume=e},d.isMuted=function(){return this.g.muted},d.isLinear=function(){return this.l},d.resize=function(){},d.setMuted=function(e){this.g.muted=e},d.getSequenceLength=function(){return this.j?this.j:1},d.getPositionInSequence=function(){return this.i?this.i:1},d.getTitle=function(){return this.h.adTitle},d.getDescription=function(){return""},d.getVastMediaBitrate=function(){return 0},d.getVastMediaHeight=function(){return 0},d.getVastMediaWidth=function(){return 0},d.getAdId=function(){return this.h.adId},d.getCreativeAdId=function(){return this.h.creativeId},d.getAdvertiserName=function(){return""},d.getMediaUrl=function(){return null},d.getTimeOffset=function(){return 0},d.getPodIndex=function(){return 0},d.release=function(){this.j=this.i=this.g=this.h=null},ue("shaka.ads.MediaTailorAd",Ie),Ie.prototype.release=Ie.prototype.release,Ie.prototype.getPodIndex=Ie.prototype.getPodIndex,Ie.prototype.getTimeOffset=Ie.prototype.getTimeOffset,Ie.prototype.getMediaUrl=Ie.prototype.getMediaUrl,Ie.prototype.getAdvertiserName=Ie.prototype.getAdvertiserName,Ie.prototype.getCreativeAdId=Ie.prototype.getCreativeAdId,Ie.prototype.getAdId=Ie.prototype.getAdId,Ie.prototype.getVastMediaWidth=Ie.prototype.getVastMediaWidth,Ie.prototype.getVastMediaHeight=Ie.prototype.getVastMediaHeight,Ie.prototype.getVastMediaBitrate=Ie.prototype.getVastMediaBitrate,Ie.prototype.getDescription=Ie.prototype.getDescription,Ie.prototype.getTitle=Ie.prototype.getTitle,Ie.prototype.getPositionInSequence=Ie.prototype.getPositionInSequence,Ie.prototype.getSequenceLength=Ie.prototype.getSequenceLength,Ie.prototype.setMuted=Ie.prototype.setMuted,Ie.prototype.resize=Ie.prototype.resize,Ie.prototype.isLinear=Ie.prototype.isLinear,Ie.prototype.isMuted=Ie.prototype.isMuted,Ie.prototype.setVolume=Ie.prototype.setVolume,Ie.prototype.getVolume=Ie.prototype.getVolume,Ie.prototype.play=Ie.prototype.play,Ie.prototype.pause=Ie.prototype.pause,Ie.prototype.skip=Ie.prototype.skip,Ie.prototype.canSkipNow=Ie.prototype.canSkipNow,Ie.prototype.getTimeUntilSkippable=Ie.prototype.getTimeUntilSkippable,Ie.prototype.isSkippable=Ie.prototype.isSkippable,Ie.prototype.isPaused=Ie.prototype.isPaused,Ie.prototype.getRemainingTime=Ie.prototype.getRemainingTime,Ie.prototype.getMinSuggestedDuration=Ie.prototype.getMinSuggestedDuration,Ie.prototype.getDuration=Ie.prototype.getDuration;function uu(e,t,n,r){this.A=e,this.I=t,this.g=n,this.l=null,this.W=NaN,this.i=r,this.H=!1,this.u=null,this.j=[],this.K=[],this.J=this.C=this.h=null,this.F=new Map,this.m=[],this.s=[],this.N="",this.V=!0,this.G="",this.o=new ht}uu.prototype.stop=function(){for(var e=w(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.Vb(t.target,t.type,t.listener);es(this),this.m=[],this.s=[],this.N="",this.V=!0,this.G="",this.u=null,this.j=[],this.K=[],this.F.clear()},uu.prototype.release=function(){this.stop(),this.o&&this.o.release()},uu.prototype.onManifestUpdated=function(e){this.H=e,this.N!=""&&(e2(this,this.N,this.V),this.V=!1)},uu.prototype.getCuePoints=function(){for(var e=[],t=w(this.j),n=t.next();!n.done;n=t.next()){n=w(n.value.ads);for(var r=n.next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds})}return e};function ZA(e,t,n){var r,i,o,s,u,l,c,h,m,T,y;O(function(S){if(S.g==1)return r=Gt([t],Nr()),r.method="POST",n&&(i=JSON.stringify(n),r.body=Yr(i)),o=e.I.request(7,r),Ce(S,2),I(S,o.promise,4);if(S.g!=2){if(s=S.h,u=gt(s.data),l=JSON.parse(u),l.manifestUrl&&l.trackingUrl)c=new _t(t),h=new _t(l.trackingUrl),e.N=c.resolve(h).toString(),m=Date.now()/1e3,T=m-e.W,e.i(new Ee("ads-loaded",new Map().set("loadTime",T))),y=new _t(l.manifestUrl),e.l.resolve(c.resolve(y).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return ae(S,0)}if(Y(S),!e.G.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,S.return();e.l.resolve(e.G),e.l=null,J(S)})}function e2(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E,C,k;O(function(M){if(M.g==1)return r=Gt([t],Nr()),i=e.I.request(7,r),Ce(M,2),I(M,i.promise,4);if(M.g!=2){if(o=M.h,s=[],u=gt(o.data),l=JSON.parse(u),0<l.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,c=w(e.j),h=c.next();!h.done;h=c.next())for(m=h.value,T=w(m.nonLinearAdsList),y=T.next();!y.done;y=T.next())for(S=y.value,E=w(S.nonLinearAdList),C=E.next();!C.done;C=E.next())k=C.value,t2(e,k);s=e.getCuePoints(),e.i(new Ee("ad-cue-points-changed",new Map().set("cuepoints",s)))}}else e.j.length&&e.i(new Ee("ad-cue-points-changed",new Map().set("cuepoints",s))),es(e),e.j=[];return n&&(e.H||0<s.length)&&n2(e),ae(M,0)}Y(M),J(M)})}function t2(e,t){var n,r,i,o,s,u,l;O(function(c){if(c.g==1)return!t.staticResource||(n=Gv(t),e.F.get(n))?c.return():(r=Gt([t.staticResource],Nr()),i=e.I.request(7,r),Ce(c,2),e.F.set(n,[]),I(c,i.promise,4));if(c.g!=2)return o=c.h,s=gt(o.data),u=JSON.parse(s),l=u.apps,e.F.set(n,l),ae(c,0);Y(c),e.F.delete(n),J(c)})}function Gv(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function n2(e){qv(e),e.H||(Wv(e),e.o.D(e.g,"seeked",function(){Wv(e)}),e.o.D(e.g,"ended",function(){es(e)})),e.o.D(e.g,"timeupdate",function(){qv(e)})}function Wv(e){var t=e.g.currentTime;if(t!=0&&e.u==null){for(var n,r,i=w(e.j),o=i.next();!o.done;o=i.next()){o=o.value;for(var s=w(o.ads),u=s.next();!u.done;u=s.next())if(u=u.value,!r)u.startTimeInSeconds<t&&(r=u,n=o);else if(u.startTimeInSeconds<t&&u.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=u,n=o;break}}n&&r&&!e.K.includes(r.adId)&&(e.u=t,e.g.currentTime=n.startTimeInSeconds)}}function qv(e){if(e.g.duration&&(e.h||e.j.length)){var t=e.g.currentTime,n=!1;if(e.h){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,o=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.s.includes("firstQuartile")?(e.s.push("firstQuartile"),En(e,"firstQuartile")):t>=i&&!e.s.includes("midpoint")?(e.s.push("midpoint"),En(e,"midpoint")):t>=o&&!e.s.includes("thirdQuartile")&&(e.s.push("thirdQuartile"),En(e,"thirdQuartile")),r=e.h.getRemainingTime(),i=e.h.getDuration(),0<i&&(0>=r||r>i)&&es(e)}if(!e.h||!e.h.isLinear()){e:for(r=w(e.j),i=r.next();!i.done&&(i=i.value,!(e.h&&e.h.isLinear()));i=r.next())for(o=0;o<i.ads.length;o++){var s=i.ads[o],u=s.startTimeInSeconds+s.durationInSeconds;if(s.startTimeInSeconds<=t&&u>t){if(e.K.includes(s.adId)){if(e.g.ended)continue;e.g.currentTime=u;break e}es(e),e.J=i,e.h=new Ie(s,o+1,i.ads.length,!0,e.g),e.C=s,o===0&&En(e,"breakStart"),Xv(e);break}}if(!e.h){for(r=w(e.j),i=r.next();!i.done&&(i=i.value,!e.h);i=r.next())for(o=0;o<i.nonLinearAdsList.length;o++)if(s=i.nonLinearAdsList[o],s.nonLinearAdList.length){u=i.startTimeInSeconds;var l=e.F.get(Gv(s.nonLinearAdList[0]));if(u<=t&&l&&l.length){es(e),u=e,l=w(l);for(var c=l.next();!c.done;c=l.next())if(c=c.value,c.data.source.length){var h=document.createElement("img");h.src=c.data.source[0].url,h.style.top=(c.placeholder.top||0)+"%",h.style.height=100-(c.placeholder.top||0)+"%",h.style.left=(c.placeholder.left||0)+"%",h.style.maxWidth=100-(c.placeholder.left||0)+"%",h.style.objectFit="contain",h.style.position="absolute",u.A.appendChild(h)}e.J=i,e.h=new Ie(s,o+1,i.ads.length,!1,e.g),e.C=s,o===0&&En(e,"breakStart"),Xv(e);break}}}n&&!e.h&&(t=e.g.currentTime,e.u&&e.u>t&&(e.g.currentTime=e.u),e.u=null)}}}function es(e){if(e.h){for(;e.A.lastChild;)e.A.removeChild(e.A.firstChild);e.H||e.K.push(e.C.adId),En(e,"complete");for(var t=w(e.m),n=t.next();!n.done;n=t.next())n=n.value,e.o.Vb(n.target,n.type,n.listener);e.m=[],e.s=[],t=e.h.getPositionInSequence(),n=e.h.getSequenceLength(),t===n&&En(e,"breakEnd"),e.h=null,e.C=null,e.J=null}}function Xv(e){var t=!1;e.g.paused?t=!0:(En(e,"impression"),En(e,"start")),e.m.push({target:e.g,type:"volumechange",listener:function(){e.g.muted&&En(e,"mute")}}),e.m.push({target:e.g,type:"volumechange",listener:function(){e.g.muted||En(e,"unmute")}}),e.m.push({target:e.g,type:"play",listener:function(){t?(En(e,"impression"),En(e,"start"),t=!1):En(e,"resume")}}),e.m.push({target:e.g,type:"pause",listener:function(){En(e,"pause")}});for(var n=w(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function En(e,t){var n=e.C.trackingEvents.find(function(i){return i.eventType==t});if(n||(n=e.J.adBreakTrackingEvents.find(function(i){return i.eventType==t})),n){n=w(n.beaconUrls);for(var r=n.next();!r.done;r=n.next())(r=r.value)&&r!=""&&(r=Gt([r],Nr()),r.method="POST",e.I.request(7,r))}switch(t){case"impression":e.i(new Ee("ad-impression"));break;case"start":e.i(new Ee("ad-started",new Map().set("ad",e.h)));break;case"mute":e.i(new Ee("ad-muted"));break;case"unmute":e.i(new Ee("ad-volume-changed"));break;case"resume":e.i(new Ee("ad-resumed"));break;case"pause":e.i(new Ee("ad-paused"));break;case"firstQuartile":e.i(new Ee("ad-first-quartile"));break;case"midpoint":e.i(new Ee("ad-midpoint"));break;case"thirdQuartile":e.i(new Ee("ad-third-quartile"));break;case"complete":e.i(new Ee("ad-complete")),e.i(new Ee("ad-stopped"));break;case"breakStart":e.A.setAttribute("ad-active","true");break;case"breakEnd":e.A.removeAttribute("ad-active")}}function Re(e,t){this.g=e,this.i=null,this.h=t}d=Re.prototype,d.getDuration=function(){return this.i?this.i.duration:-1},d.getMinSuggestedDuration=function(){return this.getDuration()},d.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},d.isPaused=function(){return this.h.paused},d.isSkippable=function(){return this.g.isSkippable()},d.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},d.canSkipNow=function(){return this.getTimeUntilSkippable()==0},d.skip=function(){this.h.currentTime+=this.getRemainingTime()},d.pause=function(){return this.h.pause()},d.play=function(){return this.h.play()},d.getVolume=function(){return this.h.volume},d.setVolume=function(e){this.h.volume=e},d.isMuted=function(){return this.h.muted},d.isLinear=function(){return!0},d.resize=function(){},d.setMuted=function(e){this.h.muted=e},d.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},d.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},d.getTitle=function(){return this.g.getTitle()},d.getDescription=function(){return this.g.getDescription()},d.getVastMediaBitrate=function(){return 0},d.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},d.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},d.getAdId=function(){return this.g.getAdId()},d.getCreativeAdId=function(){return this.g.getCreativeAdId()},d.getAdvertiserName=function(){return this.g.getAdvertiserName()},d.getMediaUrl=function(){return null},d.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},d.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},d.release=function(){this.h=this.i=this.g=null},ue("shaka.ads.ServerSideAd",Re),Re.prototype.release=Re.prototype.release,Re.prototype.getPodIndex=Re.prototype.getPodIndex,Re.prototype.getTimeOffset=Re.prototype.getTimeOffset,Re.prototype.getMediaUrl=Re.prototype.getMediaUrl,Re.prototype.getAdvertiserName=Re.prototype.getAdvertiserName,Re.prototype.getCreativeAdId=Re.prototype.getCreativeAdId,Re.prototype.getAdId=Re.prototype.getAdId,Re.prototype.getVastMediaWidth=Re.prototype.getVastMediaWidth,Re.prototype.getVastMediaHeight=Re.prototype.getVastMediaHeight,Re.prototype.getVastMediaBitrate=Re.prototype.getVastMediaBitrate,Re.prototype.getDescription=Re.prototype.getDescription,Re.prototype.getTitle=Re.prototype.getTitle,Re.prototype.getPositionInSequence=Re.prototype.getPositionInSequence,Re.prototype.getSequenceLength=Re.prototype.getSequenceLength,Re.prototype.setMuted=Re.prototype.setMuted,Re.prototype.resize=Re.prototype.resize,Re.prototype.isLinear=Re.prototype.isLinear,Re.prototype.isMuted=Re.prototype.isMuted,Re.prototype.setVolume=Re.prototype.setVolume,Re.prototype.getVolume=Re.prototype.getVolume,Re.prototype.play=Re.prototype.play,Re.prototype.pause=Re.prototype.pause,Re.prototype.skip=Re.prototype.skip,Re.prototype.canSkipNow=Re.prototype.canSkipNow,Re.prototype.getTimeUntilSkippable=Re.prototype.getTimeUntilSkippable,Re.prototype.isSkippable=Re.prototype.isSkippable,Re.prototype.isPaused=Re.prototype.isPaused,Re.prototype.getRemainingTime=Re.prototype.getRemainingTime,Re.prototype.getMinSuggestedDuration=Re.prototype.getMinSuggestedDuration,Re.prototype.getDuration=Re.prototype.getDuration;function Yv(e,t,n,r){var i=this;this.s=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.u=this.m=this.o=null,this.A="",this.C=[],this.h=new ht,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,e),this.i(new Ee("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){r2(i,o)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){i.A.length?i.j.resolve(i.A):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),i.m=new Re(o,i.l),i.u&&(i.m.i=i.u),i.i(new Ee("ad-started",new Map().set("ad",i.m))),i.s.setAttribute("ad-active","true")}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){i.s.removeAttribute("ad-active");var o=i.l.currentTime;i.o&&i.o>o&&(i.l.currentTime=i.o,i.o=null)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){i.u=o.getStreamData().adProgressData,i.m&&(i.m.i=i.u)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){i.i(new Ee("ad-first-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){i.i(new Ee("ad-midpoint"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){i.i(new Ee("ad-third-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){i.i(new Ee("ad-complete")),i.i(new Ee("ad-stopped")),i.s.removeAttribute("ad-active"),i.m=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){i.i(new Ee("ad-skipped")),i.i(new Ee("ad-stopped"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var s=o.getStreamData();o=[],s=w(s.cuepoints);for(var u=s.next();!u.done;u=s.next())u=u.value,o.push({start:u.start,end:u.end});i.C=o,i.i(new Ee("ad-cue-points-changed",new Map().set("cuepoints",o)))})}d=Yv.prototype,d.configure=function(){},d.stop=function(){this.A="",this.o=null,this.C=[]},d.release=function(){this.stop(),this.h&&this.h.release()},d.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},d.getCuePoints=function(){return this.C};function r2(e,t){e.i(new Ee("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var r=e.g.previousCuePointForStreamTime(n);r&&!r.played&&(e.o=n,e.l.currentTime=r.start)}})}function Te(){Qe.call(this),this.g=this.i=this.h=null,this.j=new Kv,this.m=navigator.language,this.l=null}Pe(Te,Qe),d=Te.prototype,d.setLocale=function(e){this.m=e},d.configure=function(e){this.l=e,this.h&&this.h.configure(this.l),this.g&&this.g.configure(this.l)},d.initClientSide=function(e,t,n){var r=this;if(!v.google||!google.ima||!google.ima.AdsLoader)throw new P(2,10,1e4);this.h&&this.h.release(),this.h=new nl(e,t,this.m,n,function(i){return Sh(r,i)}),this.h.configure(this.l)},d.release=function(){this.h&&(this.h.release(),this.h=null),this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),Qe.prototype.release.call(this)},d.onAssetUnload=function(){this.h&&this.h.stop(),this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new Ee("ad-stopped")),this.j=new Kv},d.requestClientSideAds=function(e){if(!this.h)throw new P(1,10,10001);var t=this.h;t.g&&t.g.destroy(),t.l&&t.l.contentComplete(),t.F=Date.now()/1e3,t.l.requestAds(e)},d.updateClientSideAdsRenderingSettings=function(e){if(!this.h)throw new P(1,10,10001);var t=this.h;t.u=e,t.g&&t.g.updateAdsRenderingSettings(t.u)},d.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new uu(e,t,n,function(i){return Sh(r,i)})},d.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new P(1,10,10005);var r=this.i;return n=n===void 0?"":n,r.l?e=Promise.reject(new P(1,10,10004)):(r.l=new pt,ZA(r,e,t),r.G=n||"",r.W=Date.now()/1e3,e=r.l),e},d.initServerSide=function(e,t){var n=this;if(!v.google||!google.ima||!google.ima.dai)throw new P(2,10,10002);this.g&&this.g.release(),this.g=new Yv(e,t,this.m,function(r){return Sh(n,r)}),this.g.configure(this.l)},d.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.g)throw new P(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.7.11",n=this.g,n.j?e=Promise.reject(new P(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new pt,n.g.requestStream(e),n.A=t||"",n.F=Date.now()/1e3,e=n.j),e},d.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new P(1,10,10003);(e.mpt||e.mpv)&&X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.7.11",this.g.g.replaceAdTagParameters(e)},d.getServerSideCuePoints=function(){return cr("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},d.getCuePoints=function(){var e=[];return this.g&&(e=e.concat(this.g.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},d.getStats=function(){var e=this.j;return{loadTimes:e.h,started:e.g,playedCompletely:e.i,skipped:e.j}},d.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},d.onDashTimedMetadata=function(e){if(this.g&&e.schemeIdUri=="urn:google:dai:2018"){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(t,n,e.startTime)}},d.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},d.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)};function Sh(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.j.h.push(t.loadTime);break;case"ad-started":e.j.g++;break;case"ad-complete":e.j.i++;break;case"ad-skipped":e.j.j++}e.dispatchEvent(t)}ue("shaka.ads.AdManager",Te),Te.prototype.onCueMetadataChange=Te.prototype.onCueMetadataChange,Te.prototype.onHlsTimedMetadata=Te.prototype.onHlsTimedMetadata,Te.prototype.onDashTimedMetadata=Te.prototype.onDashTimedMetadata,Te.prototype.onManifestUpdated=Te.prototype.onManifestUpdated,Te.prototype.getStats=Te.prototype.getStats,Te.prototype.getCuePoints=Te.prototype.getCuePoints,Te.prototype.getServerSideCuePoints=Te.prototype.getServerSideCuePoints,Te.prototype.replaceServerSideAdTagParameters=Te.prototype.replaceServerSideAdTagParameters,Te.prototype.requestServerSideStream=Te.prototype.requestServerSideStream,Te.prototype.initServerSide=Te.prototype.initServerSide,Te.prototype.requestMediaTailorStream=Te.prototype.requestMediaTailorStream,Te.prototype.initMediaTailor=Te.prototype.initMediaTailor,Te.prototype.updateClientSideAdsRenderingSettings=Te.prototype.updateClientSideAdsRenderingSettings,Te.prototype.requestClientSideAds=Te.prototype.requestClientSideAds,Te.prototype.onAssetUnload=Te.prototype.onAssetUnload,Te.prototype.release=Te.prototype.release,Te.prototype.initClientSide=Te.prototype.initClientSide,Te.prototype.configure=Te.prototype.configure,Te.prototype.setLocale=Te.prototype.setLocale,Te.ADS_LOADED="ads-loaded",Te.AD_STARTED="ad-started",Te.AD_FIRST_QUARTILE="ad-first-quartile",Te.AD_MIDPOINT="ad-midpoint",Te.AD_THIRD_QUARTILE="ad-third-quartile",Te.AD_COMPLETE="ad-complete",Te.AD_STOPPED="ad-stopped",Te.AD_SKIPPED="ad-skipped",Te.AD_VOLUME_CHANGED="ad-volume-changed",Te.AD_MUTED="ad-muted",Te.AD_PAUSED="ad-paused",Te.AD_RESUMED="ad-resumed",Te.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Te.CUEPOINTS_CHANGED="ad-cue-points-changed",Te.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Te.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Te.AD_CLICKED="ad-clicked",Te.AD_PROGRESS="ad-progress",Te.AD_BUFFERING="ad-buffering",Te.AD_IMPRESSION="ad-impression",Te.AD_DURATION_CHANGED="ad-duration-changed",Te.AD_CLOSED="ad-closed",Te.AD_LOADED="ad-loaded",Te.ALL_ADS_COMPLETED="all-ads-completed",Te.AD_LINEAR_CHANGED="ad-linear-changed",Te.AD_METADATA="ad-metadata",Te.AD_RECOVERABLE_ERROR="ad-recoverable-error",Te.AD_ERROR="ad-error",Te.AD_BREAK_READY="ad-break-ready",Te.AD_INTERACTION="ad-interaction",tl=function(){return new Te};function Jv(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof Ee){var r={};for(i in n)(t=n[i])&&typeof t=="object"?i=="detail"&&(r[i]=t):i in Event||(r[i]=t);return r}if(n instanceof Error){var i=new Set(["name","message","stack"]);for(r in n)i.add(r);for(t=w(Object.getOwnPropertyNames(n)),r=t.next();!r.done;r=t.next())i.add(r.value);for(t={},i=w(i),r=i.next();!r.done;r=i.next())r=r.value,t[r]=n[r];n={__type__:"Error",contents:t}}else if(n instanceof TimeRanges){for(i={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=w(xi(n)),r=n.next();!r.done;r=n.next())r=r.value,t=r.end,i.start.push(r.start),i.end.push(t);n=i}else n=n instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function Eh(e){return JSON.parse(e,function(t,n){if(n=="NaN")var r=NaN;else if(n=="-Infinity")r=-1/0;else if(n=="Infinity")r=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")r=i2(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")r=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(r in t)n[r]=t[r];r=n}else r=n;return r})}function i2(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var Qv="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),o2="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Ah=["loop","playbackRate"],s2=["pause","play"],ol={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10,getManifestType:10},sl={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},Ih={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Zv=[["getConfiguration","configure"]],ey=[["isTextTrackVisible","setTextTrackVisibility"]],u2="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),a2=["attach","attachCanvas","detach","load","unload"];function Ch(e,t,n,r,i,o,s){var u=this;this.G=e,this.K=s,this.j=new Ve(t),this.N=n,this.u=!1,this.s=r,this.F=i,this.I=o,this.h=this.m=!1,this.J="",this.o=null,this.A=function(){return kh(u)},this.C=function(l,c){switch(l=Eh(c),l.type){case"event":var h=l.targetName,m=Lg(l.event);u.s(h,m);break;case"update":h=l.update;for(m in h){l=u.g[m]||{};for(var T in h[m])l[T]=h[m][T]}u.u&&(u.N(),u.u=!1);break;case"asyncComplete":if(m=l.id,T=l.error,l=u.i[m],delete u.i[m],l)if(T){m=new P(T.severity,T.category,T.code);for(h in T)m[h]=T[h];l.reject(m)}else l.resolve()}},this.g={video:{},player:{}},this.H=0,this.i={},this.l=null,lu.add(this)}d=Ch.prototype,d.destroy=function(){return lu.delete(this),Rh(this),gr&&ry(this),this.j&&(this.j.stop(),this.j=null),this.F=this.s=null,this.h=this.m=!1,this.C=this.A=this.l=this.i=this.g=this.o=null,Promise.resolve()},d.Ka=function(){return this.h},d.ef=function(){return this.J},d.init=function(){if(this.G.length)if(v.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.qc();var e=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=w(lu),r=n.next();!r.done;r=n.next())ny(r.value,t)},function(t){for(var n=w(lu),r=n.next();!r.done;r=n.next())r=r.value,ul=t=="available",r.j.qc()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),ul&&this.j.U(c2),(e=gr)&&e.status!=chrome.cast.SessionStatus.STOPPED?ny(this,e):gr=null}else v.__onGCastApiAvailable!==iy&&(al=v.__onGCastApiAvailable||null,v.__onGCastApiAvailable=iy)},d.mf=function(e){this.o=e,this.h&&au(this,{type:"appData",appData:this.o})},d.cast=function(e){var t=this;return O(function(n){if(!t.m)throw new P(1,8,8e3);if(!ul)throw new P(1,8,8001);if(t.h)throw new P(1,8,8002);return t.l=new pt,chrome.cast.requestSession(function(r){return Mh(t,e,r)},function(r){return ty(t,r)}),I(n,t.l,0)})};function l2(e){if(e.h){var t=e.I();chrome.cast.requestSession(function(n){return Mh(e,t,n)},function(n){return ty(e,n)})}}d.cc=function(){if(this.h){if(Rh(this),gr){ry(this);try{gr.stop(function(){},function(){})}catch{}gr=null}kh(this)}},d.get=function(e,t){var n=this;if(e=="video"){if(s2.includes(t))return function(){return n.hg.apply(n,[e,t].concat(U(Mt.apply(0,arguments))))}}else if(e=="player"){if(Ih[t]&&!this.get("player","isLive")())return function(){};if(u2.includes(t))return function(){return n.hg.apply(n,[e,t].concat(U(Mt.apply(0,arguments))))};if(a2.includes(t))return function(){return n.Nh.apply(n,[e,t].concat(U(Mt.apply(0,arguments))))};if(ol[t]||sl[t])return function(){return n.g[e][t]}}return this.g[e][t]},d.set=function(e,t,n){this.g[e][t]=n,au(this,{type:"set",targetName:e,property:t,value:n})};function Mh(e,t,n){gr=n,n.addUpdateListener(e.A),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),kh(e),au(e,{type:"init",initState:t,appData:e.o}),e.l.resolve()}function ty(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.l.reject(new P(2,8,n,t))}d.hg=function(e,t){au(this,{type:"call",targetName:e,methodName:t,args:Mt.apply(2,arguments)})},d.Nh=function(e,t){var n=Mt.apply(2,arguments),r=new pt,i=this.H.toString();this.H++,this.i[i]=r;try{au(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(o){r.reject(o)}return r};function ny(e,t){var n=e.I();e.l=new pt,e.u=!0,Mh(e,n,t)}function ry(e){var t=gr;t.removeUpdateListener(e.A),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function kh(e){var t=gr?gr.status=="connected":!1;if(e.h&&!t){e.F();for(var n in e.g)e.g[n]={};Rh(e)}e.h=t,e.J=t?gr.receiver.friendlyName:"",e.j.qc()}function Rh(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new P(1,7,7e3))}}function au(e,t){t=Jv(t);var n=gr;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},fe)}catch(r){throw t=new P(2,8,8005,r),n=new Ee("error",new Map().set("detail",t)),e.s("player",n),e.cc(),t}}var c2=.02,ul=!1,gr=null,al=null,lu=new Set;function iy(e){if(al?v.__onGCastApiAvailable=al:delete v.__onGCastApiAvailable,al=null,e)for(var t=w(lu),n=t.next();!n.done;n=t.next())n.value.init();typeof v.__onGCastApiAvailable=="function"&&v.__onGCastApiAvailable(e)}function Dt(e,t,n,r){r=r===void 0?!1:r,Qe.call(this);var i=this;this.i=e,this.h=t,this.m=this.o=this.j=this.s=this.l=null,this.C=n,this.A=r,this.u=new Map,this.g=new Ch(n,function(){return sy(i)},function(){return uy(i)},function(o,s){return ly(i,o,s)},function(){return ay(i)},function(){return _h(i)},r),f2(this)}Pe(Dt,Qe),d=Dt.prototype,d.destroy=function(e){return e&&this.g.cc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,Qe.prototype.release.call(this),Promise.all(e)},d.nh=function(){return this.l},d.bh=function(){return this.s},d.Fg=function(){return this.g.m&&ul},d.Ka=function(){return this.g.Ka()},d.ef=function(){return this.g.ef()},d.cast=function(){var e=this,t;return O(function(n){return n.g==1?(t=_h(e),I(n,e.g.cast(t),2)):e.h?I(n,e.h.rc(),0):n.return()})},d.mf=function(e){this.g.mf(e)},d.ai=function(){l2(this.g)},d.cc=function(){this.g.cc()},d.Gg=function(e,t){t=t===void 0?!1:t;var n=this;return O(function(r){if(r.g==1)return e==n.C&&t==n.A?r.return():(n.C=e,n.A=t,n.g.cc(),I(r,n.g.destroy(),2));n.g=null,n.g=new Ch(e,function(){return sy(n)},function(){return uy(n)},function(i,o){return ly(n,i,o)},function(){return ay(n)},function(){return _h(n)},t),n.g.init(),J(r)})};function f2(e){e.g.init(),e.m=new ht;for(var t=w(Qv),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,function(o){e.g.Ka()||(o=Lg(o),e.j.dispatchEvent(o))});for(var r in Ea)e.m.D(e.h,Ea[r],function(o){e.g.Ka()||e.o.dispatchEvent(o)});e.l={},t={};for(var i in e.i)t.wc=i,Object.defineProperty(e.l,t.wc,{configurable:!1,enumerable:!0,get:function(o){return function(){return d2(e,o.wc)}}(t),set:function(o){return function(s){var u=o.wc;e.g.Ka()?e.g.set("video",u,s):e.i[u]=s}}(t)}),t={wc:t.wc};e.s={},oy(e,function(o){Object.defineProperty(e.s,o,{configurable:!1,enumerable:!0,get:function(){return p2(e,o)}})}),h2(e),e.j=new Qe,e.j.zd=e.l,e.o=new Qe,e.o.zd=e.s}function h2(e){var t=new Map;oy(e,function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.u.set(n,r):e.u.set(r,n)):t.set(r,n)})}function oy(e,t){function n(l){return l=="constructor"||typeof r[l]!="function"?!1:!i.has(l)}var r=e.h,i=new Set,o;for(o in r)n(o)&&(i.add(o),t(o,r[o]));for(e=Object.getPrototypeOf(r),o=Object.getPrototypeOf({});e&&e!=o;){for(var s=w(Object.getOwnPropertyNames(e)),u=s.next();!u.done;u=s.next())u=u.value,n(u)&&(i.add(u),t(u,r[u]));e=Object.getPrototypeOf(e)}}function _h(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Ge(),startTime:null};e.i.pause();for(var n=w(Ah),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),n=w(Zv),r=n.next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(n=w(ey),r=n.next();!r.done;r=n.next())i=r.value,r=i[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function sy(e){var t=new Ee("caststatuschanged");e.dispatchEvent(t)}function uy(e){var t=new Ee(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function ay(e){for(var t=w(Zv),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime"));var s;(r=e.g.get("player","getTextTracks")())&&r.length&&(s=r.find(function(c){return c.active}));var u=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var l={};for(n=w(Ah),r=n.next();!r.done;r=n.next())r=r.value,l[r]=e.g.get("video",r);t.then(function(){if(e.i){for(var c=w(Ah),h=c.next();!h.done;h=c.next())h=h.value,e.i[h]=l[h];for(c=w(ey),h=c.next();!h.done;h=c.next()){var m=h.value;h=m[1],m=e.g.get("player",m[0])(),e.h[h](m)}e.h.og(u),s&&e.h.kf(s.language,s.roles,s.forced),e.i.autoplay=o,i&&e.i.play()}},function(c){c=new Map().set("detail",c),c=new Ee("error",c),e.h.dispatchEvent(c)})}function d2(e,t){if(t=="addEventListener")return function(r,i,o){return e.j.addEventListener(r,i,o)};if(t=="removeEventListener")return function(r,i,o){return e.j.removeEventListener(r,i,o)};if(e.g.Ka()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.Ka()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function p2(e,t){if(e.u.has(t)&&(t=e.u.get(t)),t=="addEventListener")return function(n,r,i){return e.o.addEventListener(n,r,i)};if(t=="removeEventListener")return function(n,r,i){return e.o.removeEventListener(n,r,i)};if(t=="getMediaElement")return function(){return e.l};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.Ob()};if(t=="getDrmEngine")return function(){return e.h.m};if(t=="getAdManager")return function(){return e.h.Of()};if(t=="setVideoContainer")return function(n){return e.h.rg(n)};if(e.g.Ka()){if(t=="getManifest"||t=="drmInfo")return function(){return X(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return X(t+"() does not work while casting!"),Promise.resolve()}}return e.g.Ka()&&Object.keys(e.g.g.video).length==0&&(ol[t]||sl[t])||!e.g.Ka()?e.h[t].bind(e.h):e.g.get("player",t)}function ly(e,t,n){e.g.Ka()&&(t=="video"?e.j.dispatchEvent(n):t=="player"&&e.o.dispatchEvent(n))}ue("shaka.cast.CastProxy",Dt),Dt.prototype.changeReceiverId=Dt.prototype.Gg,Dt.prototype.forceDisconnect=Dt.prototype.cc,Dt.prototype.suggestDisconnect=Dt.prototype.ai,Dt.prototype.setAppData=Dt.prototype.mf,Dt.prototype.cast=Dt.prototype.cast,Dt.prototype.receiverName=Dt.prototype.ef,Dt.prototype.isCasting=Dt.prototype.Ka,Dt.prototype.canCast=Dt.prototype.Fg,Dt.prototype.getPlayer=Dt.prototype.bh,Dt.prototype.getVideo=Dt.prototype.nh,Dt.prototype.destroy=Dt.prototype.destroy;function Jt(e,t,n,r){Qe.call(this);var i=this;this.g=e,this.h=t,this.j=new ht,this.H={video:e,player:t},this.C=n||function(){},this.I=r||function(o){return o},this.i=null,this.F=!1,this.o=!0,this.m=0,this.A=!1,this.u=!0,this.s=this.l=null,this.G=new Ve(function(){Ph(i)}),g2(this)}Pe(Jt,Qe),d=Jt.prototype,d.isConnected=function(){return this.F},d.th=function(){return this.o},d.Zh=function(e){this.i=e},d.Jg=function(){this.i=null},d.$h=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},d.Yh=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},d.Xh=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},d.destroy=function(){var e=this,t,n;return O(function(r){if(r.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.G&&(e.G.stop(),e.G=null),e.g=null,e.H=null,e.C=null,e.F=!1,e.o=!0,e.l=null,e.s=null,Qe.prototype.release.call(e),I(r,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),J(r)})};function g2(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return cy(e)},t.onSenderDisconnected=function(){return cy(e)},t.onSystemVolumeChanged=function(){var i=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();i&&ii(e,{type:"update",update:{video:{volume:i.level,muted:i.muted}}},e.l),ii(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.s=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.s.onMessage=function(i){return y2(e,i)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(i){return v2(e,i)},t.start(),t=w(Qv);for(var n=t.next();!n.done;n=t.next())e.j.D(e.g,n.value,function(i){return fy(e,"video",i)});for(var r in Ea)e.j.D(e.h,Ea[r],function(i){return fy(e,"player",i)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.h.pf(3840,2160):e.h.pf(1920,1080),e.j.D(e.g,"loadeddata",function(){e.A=!0}),e.j.D(e.h,"loading",function(){e.o=!1,ts(e)}),e.j.D(e.g,"playing",function(){e.o=!1,ts(e)}),e.j.D(e.g,"pause",function(){ts(e)}),e.j.D(e.h,"unloading",function(){e.o=!0,ts(e)}),e.j.D(e.g,"ended",function(){new Ve(function(){e.g&&e.g.ended&&(e.o=!0,ts(e))}).U(T2)})}function cy(e){e.m=0,e.u=!0,e.F=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,ts(e)}function ts(e){var t;O(function(n){if(n.g==1)return I(n,Promise.resolve(),2);if(!e.h)return n.return();t=new Ee("caststatuschanged"),e.dispatchEvent(t),hy(e)||oi(e),J(n)})}function m2(e,t,n){var r,i,o,s,u,l,c,h,m,T;O(function(y){switch(y.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.C(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,Ce(y,5),I(y,e.h.load(t.manifest,t.startTime),7)):I(y,Promise.resolve(),3);case 7:ae(y,3);break;case 5:return s=Y(y),u=new Map().set("detail",s),l=new Ee("error",u),e.h&&e.h.dispatchEvent(l),y.return();case 3:if(!e.h)return y.return();for(c in t.video)h=t.video[c],e.g[c]=h;for(m in t.playerAfterLoad)T=t.playerAfterLoad[m],e.h[m](T);e.g.autoplay=o,t.manifest&&(e.g.play(),oi(e)),J(y)}})}function fy(e,t,n){e.h&&(Ph(e),ii(e,{type:"event",targetName:t,event:n},e.l))}function Ph(e){e.G.U(w2);for(var t={video:{},player:{}},n=w(o2),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];if(e.h.R())for(var i in Ih)e.m%Ih[i]==0&&(t.player[i]=e.h[i]());for(var o in ol)e.m%ol[o]==0&&(t.player[o]=e.h[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),ii(e,{type:"update",update:t},e.l);for(var s in sl)e.m%sl[s]==0&&(t={player:{}},t.player[s]=e.h[s](),ii(e,{type:"update",update:t},e.l));e.A&&(e.m+=1),hy(e)}function hy(e){return e.u&&(e.g.duration||e.h.R())?(Dh(e),e.u=!1,!0):!1}function Dh(e,t){var n={contentId:e.h.Ge(),streamType:e.h.R()?"LIVE":"BUFFERED",contentType:""};e.h.R()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),oi(e,t===void 0?0:t,n)}function v2(e,t){var n=Eh(t.data);switch(n.type){case"init":e.m=0,e.A=!1,e.u=!0,m2(e,n.initState,n.appData),Ph(e);break;case"appData":e.C(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,r=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),i=="volume"){t.setSystemVolumeLevel(n);break}else if(i=="muted"){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":r=e.H[n.targetName],r[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,r=="player"&&i=="load"&&(e.m=0,e.A=!1);var o=n.id,s=t.senderId;t=e.H[r],n=t[i].apply(t,n.args),r=="player"&&i=="load"&&(n=n.then(function(){e.u=!0})),n.then(function(){return dy(e,s,o,null)},function(u){return dy(e,s,o,u)})}}function y2(e,t){var n=Eh(t.data);switch(n.type){case"PLAY":e.g.play(),oi(e);break;case"PAUSE":e.g.pause(),oi(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),r&&r=="PLAYBACK_START"?(e.g.play(),oi(e)):r&&r=="PLAYBACK_PAUSE"&&(e.g.pause(),oi(e));break;case"STOP":e.h.rc().then(function(){e.h&&oi(e)});break;case"GET_STATUS":Dh(e,Number(n.requestId));break;case"VOLUME":r=n.volume,t=r.level,r=r.muted;var i=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),r!=null&&(e.g.muted=r),i==e.g.volume&&o==e.g.muted||oi(e);break;case"LOAD":e.m=0,e.A=!1,e.u=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),o=n.autoplay||!0,e.C(t.customData),o&&(e.g.autoplay=!0),e.h.load(i,r).then(function(){e.h&&Dh(e)}).catch(function(s){var u="LOAD_FAILED";s.category==7&&s.code==7e3&&(u="LOAD_CANCELLED"),ii(e,{requestId:Number(n.requestId),type:u},e.s)});break;default:ii(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.s)}}function dy(e,t,n,r){e.h&&ii(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function ii(e,t,n,r){e.F&&(e=Jv(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function oi(e,t,n){n=n===void 0?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?x2:e.h.Ke()?E2:e.g.paused?A2:S2,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),ii(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[r]},e.s)}ue("shaka.cast.CastReceiver",Jt),Jt.prototype.destroy=Jt.prototype.destroy,Jt.prototype.setContentArtist=Jt.prototype.Xh,Jt.prototype.setContentImage=Jt.prototype.Yh,Jt.prototype.setContentTitle=Jt.prototype.$h,Jt.prototype.clearContentMetadata=Jt.prototype.Jg,Jt.prototype.setContentMetadata=Jt.prototype.Zh,Jt.prototype.isIdle=Jt.prototype.th,Jt.prototype.isConnected=Jt.prototype.isConnected;var w2=.5,T2=5,x2="IDLE",S2="PLAYING",E2="BUFFERING",A2="PAUSED";function py(e,t,n,r,i){if(r>=i)return null;for(var o=-1,s=-1,u=0;u<n.length;u++)if(n[u].some(function(R){return R!=null&&R.g.trim()!=""})){o=u;break}for(u=n.length-1;0<=u;u--)if(n[u].some(function(R){return R!=null&&R.g.trim()!=""})){s=u;break}if(o===-1||s===-1)return null;for(var l=u=!1,c="white",h="black",m=Nh(r,i,u,l,c,h);o<=s;o++){for(var T=n[o],y=-1,S=-1,E=0;E<T.length;E++)if(T[E]!=null&&T[E].g.trim()!==""){y=E;break}for(E=T.length-1;0<=E;E--)if(T[E]!=null&&T[E].g.trim()!==""){S=E;break}if(y===-1||S===-1)T=gy(r,i),e.nestedCues.push(T);else{for(;y<=S;y++)if(E=T[y]){var C=E.l,k=E.i,M=E.j,_=E.h;(C!=u||k!=l||M!=c||_!=h)&&(m.payload&&e.nestedCues.push(m),m=Nh(r,i,C,k,M,_),u=C,l=k,c=M,h=_),m.payload+=E.g}else m.payload+=" ";m.payload&&e.nestedCues.push(m),o!==s&&(m=gy(r,i),e.nestedCues.push(m)),m=Nh(r,i,u,l,c,h)}}return e.nestedCues.length?{cue:e,stream:t}:null}function Nh(e,t,n,r,i,o){return e=new at(e,t,""),n&&e.textDecoration.push("underline"),r&&(e.fontStyle="italic"),e.color=i,e.backgroundColor=o,e}function gy(e,t){return e=new at(e,t,""),e.lineBreak=!0,e}function my(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function Lh(e,t){this.i=[],this.g=1,this.h=0,this.u=e,this.s=t,this.j=this.m=!1,this.l="white",this.o="black",cu(this)}function ll(e,t,n){var r="CC"+((e.u<<1|e.s)+1),i=new at(t,n,"");i.lineInterpretation=1;var o=k2.get(e.g);return o&&(i.line=o),py(i,r,e.i,t,n)}function cu(e){si(e,0,15),e.g=1}function ns(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case fu:r=xy.has(n)?xy.get(n):String.fromCharCode(n);break;case yy:r=I2.get(n);break;case wy:e.i[e.g].pop(),r=C2.get(n);break;case Ty:e.i[e.g].pop(),r=M2.get(n)}r&&e.i[e.g].push(new my(r,e.m,e.j,e.o,e.l))}}function vy(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map(function(o){return o});else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map(function(o){return o})}function si(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var fu=0,yy=1,wy=2,Ty=3,xy=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),I2=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),C2=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),M2=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),k2=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function cl(e,t){this.h=Ay,this.o=new Lh(e,t),this.i=new Lh(e,t),this.g=this.j=new Lh(e,t),this.l=0,this.m=null}function Oh(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==fl&&e.h!==hu&&(i=ll(r,e.l,n),n=e.i,n.g=0<n.h?n.h:0,si(n,0,15),n=e.j,n.g=0<n.h?n.h:0,si(n,0,15),r.g=15),e.h=fl,r.h=t,i}function Sy(e){e.h=R2,e.g=e.j,e.g.h=0}function Ey(e){de("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=hu}var Ay=0,R2=1,fl=3,hu=4,_2="black green blue cyan red yellow magenta black".split(" "),Iy="white green blue cyan red yellow magenta white_italics".split(" ");function Cy(e,t){this.I=t,this.N=e,this.J=this.l=!1,this.m=this.o=this.G=this.K=this.H=0,this.F=N2,this.i=[],this.g=this.h=this.j=0,this.C=this.u=!1,this.A="white",this.s="black",jh(this)}function jh(e){e.i=[];for(var t=0;16>t;t++)e.i.push(bh())}function bh(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function eo(e,t){My(e)&&(e.i[e.h][e.g]=new my(t,e.C,e.u,e.s,e.A),e.g++)}function My(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}Cy.prototype.isVisible=function(){return this.l};function to(e,t,n){var r=new at(e.j,t,"");r.textAlign=e.F===P2?"left":e.F===D2?"right":zr;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.N,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.K,i.viewportAnchorUnits=e.J?Gn:2,e.G){case L2:i.regionAnchorX=0,i.regionAnchorY=0;break;case O2:i.regionAnchorX=50,i.regionAnchorY=0;break;case j2:i.regionAnchorX=100,i.regionAnchorY=0;break;case b2:i.regionAnchorX=0,i.regionAnchorY=50;break;case U2:i.regionAnchorX=50,i.regionAnchorY=50;break;case F2:i.regionAnchorX=100,i.regionAnchorY=50;break;case B2:i.regionAnchorX=0,i.regionAnchorY=100;break;case V2:i.regionAnchorX=50,i.regionAnchorY=100;break;case H2:i.regionAnchorX=100,i.regionAnchorY=100}return(n=py(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}var P2=0,D2=1,N2=2,L2=0,O2=1,j2=2,b2=3,U2=4,F2=5,B2=6,V2=7,H2=8;function K2(){this.i=[],this.h=null,this.g=0}function z2(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new hl(e.h)),e.h=null,e.g=0))}function hl(e){this.g=0,this.h=e}hl.prototype.ia=function(){return this.g<this.h.length},hl.prototype.qa=function(){return this.g};function Ht(e){if(!e.ia())throw new P(2,2,3e3);return e.h[e.g++]}hl.prototype.skip=function(e){if(this.g+e>this.h.length)throw new P(2,2,3e3);this.g+=e};function $2(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function G2(e,t,n,r){if(128<=n&&135>=n)r=n&7,e.h[r]&&(e.g=e.h[r]);else{if(n===136){n=Ht(t).value,t=null,n=w(du(e,n));for(var i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()&&(t=to(i,r,e.i)),jh(i);return t}if(n===137)for(t=Ht(t).value,t=w(du(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=r),n.l=!0;else{if(n===138){for(n=Ht(t).value,t=null,n=w(du(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()&&(t=to(i,r,e.i)),i.l=!1;return t}if(n===139){for(n=Ht(t).value,t=null,n=w(du(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()?t=to(i,r,e.i):i.j=r,i.l=!i.l;return t}if(n===140)return t=Ht(t).value,ky(e,t,r);if(n===143)return r=ky(e,255,r),Ry(e),r;if(n===144)t.skip(1),r=Ht(t).value,e.g&&(e.g.u=0<(r&128),e.g.C=0<(r&64));else if(n===145)r=Ht(t).value,n=Ht(t).value,t.skip(1),e.g&&(t=_y((n&48)>>4,(n&12)>>2,n&3),e.g.A=_y((r&48)>>4,(r&12)>>2,r&3),e.g.s=t);else if(n===146)r=Ht(t).value,t=Ht(t).value,e.g&&(e=e.g,e.h=r&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),r=Ht(t).value,t.skip(1),e.g&&(e.g.F=r&3);else if(152<=n&&159>=n){if(n=(n&15)-8,i=e.h[n]!==null,!i){var o=new Cy(n,e.i);o.j=r,e.h[n]=o}r=Ht(t).value,o=Ht(t).value;var s=Ht(t).value,u=Ht(t).value,l=Ht(t).value;t=Ht(t).value,i&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.C=!1,t.u=!1,t.A="white",t.s="black"),t=e.h[n],t.l=0<(r&32),t.K=o&127,t.H=s,t.G=(u&240)>>4,t.J=0<(o&128),t.o=(u&15)+1,t.m=(l&63)+1,e.g=e.h[n]}}}return null}function du(e,t){for(var n=[],r=0;8>r;r++)(t&1)===1&&e.h[r]&&n.push(r),t>>=1;return n}function ky(e,t,n){var r=null;t=w(du(e,t));for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=e.h[i];o.isVisible()&&(r=to(o,n,e.i)),e.h[i]=null}return r}function Ry(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function _y(e,t,n){var r={0:0,1:0,2:1,3:1};return e=r[e],t=r[t],n=r[n],W2[e<<2|t<<1|n]}var Py=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),W2="black blue green cyan red magenta yellow white".split(" ");function rs(){this.h=[],this.g=[],this.i=new K2,this.l=0,this.m=new Map([["CC1",new cl(0,0)],["CC2",new cl(0,1)],["CC3",new cl(1,0)],["CC4",new cl(1,1)]]),this.s=this.o=0,this.j=new Map,this.A=!0,this.u=new Set,Uh(this)}rs.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Uh(this),e=w(this.j.values());for(var t=e.next();!t.done;t=e.next())Ry(t.value)};function Uh(e){e.o=0,e.s=0;for(var t=w(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=Ay,n.g=n.j,n.m=null,cu(n.i),cu(n.j),cu(n.o);e.A=!0}rs.prototype.extract=function(e,t){if(this.A){for(var n=w(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.A=!1}if(e=new rt(e,0),!(8>e.getLength())&&e.ga()===181&&e.Ea()===49&&e.L()===1195456820&&e.ga()===3&&(n=e.ga(),(n&64)!==0))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.ga(),o=(i&4)>>2,s=e.ga(),u=e.ga();o&&(i&=3,i===0||i===1?this.h.push({pts:t,type:i,Sa:s,nb:u,order:this.h.length}):(this.g.push({pts:t,type:i,value:s,order:this.g.length}),this.g.push({pts:t,type:2,value:u,order:this.g.length})))}},rs.prototype.decode=function(){function e(i,o){return i.pts-o.pts||i.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=w(this.h),r=n.next();!r.done;r=n.next())(r=q2(this,r.value))&&t.push(r);for(n=w(this.g),r=n.next();!r.done;r=n.next())z2(this.i,r.value);for(n=w(this.i.i),r=n.next();!r.done;r=n.next())r=X2(this,r.value),t.push.apply(t,U(r));return this.i.i=[],this.h=[],this.g=[],t};function q2(e,t){var n=t.type;if((t.Sa&112)===16){var r=t.Sa>>3&1;n===0?e.o=r:e.s=r}if(r="CC"+((n<<1|(n?e.s:e.o))+1),n=e.m.get(r),t.Sa===255&&t.nb===255||!t.Sa&&!t.nb||!Dy(t.Sa)||!Dy(t.nb))return 45<=++e.l&&Uh(e),null;if(e.l=0,t.Sa&=127,t.nb&=127,!t.Sa&&!t.nb)return null;if(e.u.add(r),e=null,(t.Sa&112)===16)e:{if(r=t.Sa,e=t.nb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,(r&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(r&7)<<1|e>>5&1];var i=(e&30)>>1;r="white";var o=!1;7>i?r=Iy[i]:i===7&&(o=!0),e=(e&1)===1,n.h!==hu&&(i=n.g,n.h===fl&&t!==i.g&&(n=1+t-i.h,vy(i,n,1+i.g-i.h,i.h),si(i,0,n-1),si(i,t+1,15-t)),i.g=t,i.m=e,i.j=o,i.l=r,i.o="black")}else if((r&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",ns(n.g,fu,32),r=!1,t=Iy[(e&14)>>1],t==="white_italics"&&(t="white",r=!0),n.g.m=(e&1)===1,n.g.j=r,n.g.l=t;else if((r&247)===16&&(e&240)===32||(r&247)===23&&(e&255)===45)t="black",!(r&7)&&(t=_2[(e&14)>>1]),n.g.o=t;else if((r&247)===17&&(e&240)===48)ns(n.g,yy,e);else if((r&246)===18&&(e&224)===32)ns(n.g,r&1?Ty:wy,e);else if((r&246)===20&&(e&240)===32){switch(e=t.pts,r=null,t.nb){case 32:Sy(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:r=Oh(n,2,e);break;case 38:r=Oh(n,3,e);break;case 39:r=Oh(n,4,e);break;case 40:ns(n.g,fu,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:cu(n.o),Ey(n);break;case 43:Ey(n);break;case 44:t=n.i,r=null,n.h!==hu&&(r=ll(t,n.l,e)),si(t,0,15);break;case 45:t=n.g,n.h!==fl?r=null:(r=ll(t,n.l,e),o=t.g-t.h+1,vy(t,o-1,o,t.h),si(t,0,o-1),si(t,t.g,15-t.g),n.l=e);break;case 46:si(n.j,0,15);break;case 47:t=null,n.h!==hu&&(t=ll(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,Sy(n),n.l=e,r=t}e=r;break e}e=null}else r=t.nb,ns(n.g,fu,t.Sa),ns(n.g,fu,r);return e}function X2(e,t){var n=[];try{for(;t.ia();){var r=Ht(t).value,i=(r&224)>>5,o=r&31;if(i===7&&o!=0&&(i=Ht(t).value&63),i!=0){e.u.add("svc"+i),e.j.has(i)||e.j.set(i,new $2(i));for(var s=e.j.get(i),u=t.qa();t.qa()-u<o;){i=t;var l=Ht(i),c=l.value,h=l.pts;if(c===16){var m=Ht(i);c=c<<16|m.value}if(0<=c&&31>=c){var T=h;if(s.g){var y=s.g;switch(i=null,c){case 8:!My(y)||0>=y.g&&0>=y.h||(0>=y.g?(y.g=y.m-1,y.h--):y.g--,y.i[y.h][y.g]=null);break;case 13:if(y.isVisible()&&(i=to(y,T,s.i)),y.h+1>=y.o){T=y;for(var S=0,E=1;16>E;E++,S++)T.i[S]=T.i[E];for(E=0;1>E;E++,S++)T.i[S]=bh()}else y.h++;y.g=0;break;case 14:y.isVisible()&&(i=to(y,T,s.i)),y.i[y.h]=bh(),y.g=0;break;case 12:y.isVisible()&&(i=to(y,T,s.i)),jh(y),T=y,T.h=0,T.g=0}var C=i}else C=null}else if(128<=c&&159>=c)C=G2(s,i,c,h);else{if(4096<=c&&4127>=c)T=c&255,8<=T&&15>=T?i.skip(1):16<=T&&23>=T?i.skip(2):24<=T&&31>=T&&i.skip(3);else if(4224<=c&&4255>=c)T=c&255,128<=T&&135>=T?i.skip(4):136<=T&&143>=T&&i.skip(5);else if(32<=c&&127>=c)i=c,s.g&&(i===127?eo(s.g,"♪"):eo(s.g,String.fromCharCode(i)));else if(160<=c&&255>=c)s.g&&eo(s.g,String.fromCharCode(c));else if(4128<=c&&4223>=c){if(i=c&255,s.g)if(Py.has(i)){var k=Py.get(i);eo(s.g,k)}else eo(s.g,"_")}else 4256<=c&&4351>=c&&s.g&&((c&255)!=160?eo(s.g,"_"):eo(s.g,"[CC]"));C=null}(i=C)&&n.push(i)}}}}catch(M){if(M instanceof P&&M.code===3e3)de("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw M}return n}function Dy(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}rs.prototype.getStreams=function(){return Array.from(this.u)},ue("shaka.cea.CeaDecoder",rs),wo=function(){return new rs};function Ny(e){for(var t=[],n=e,r=e=0;r<n.length;)e==2&&n[r]==3?(e=0,n=[].concat(U(n)),n.splice(r,1),n=new Uint8Array(n)):n[r]==0?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;e[r]==255;)n+=255,r++;n+=e[r++];for(var i=0;e[r]==255;)i+=255,r++;i+=e[r++],n==4&&t.push(e.subarray(r,r+i)),r+=i}return t}function dl(){this.j=new Map,this.i=this.h=0,this.g=Fh}dl.prototype.init=function(e){function t(o){o=o.name,o in pl&&(n.g=pl[o])}var n=this,r=[],i=[];if(new lt().box("moov",Ze).box("mvex",Ze).O("trex",function(o){var s=o.reader;s.skip(4),s.skip(4),o=s.L(),s=s.L(),n.h=o,n.i=s}).box("trak",Ze).O("tkhd",function(o){o=vm(o.reader,o.version),r.push(o.trackId)}).box("mdia",Ze).O("mdhd",function(o){o=Na(o.reader,o.version),i.push(o.timescale)}).box("minf",Ze).box("stbl",Ze).O("stsd",Oo).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",Ca).box("sinf",Ze).box("frma",function(o){o=wm(o.reader).ha,o in pl&&(n.g=pl[o])}).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new P(2,2,2010);this.g==Fh&&X("Unable to determine bitstream format for CEA parsing!"),r.forEach(function(o,s){n.j.set(o,i[s])})},dl.prototype.parse=function(e){var t=this;if(this.g==Fh)return[];var n=[],r=this.h,i=this.i,o=0,s=[],u=null,l=9e4;return new lt().box("moof",function(c){o=c.start,s=[],Ze(c)}).box("traf",Ze).O("trun",function(c){c=mm(c.reader,c.version,c.flags),s.push(c)}).O("tfhd",function(c){c=gm(c.reader,c.flags),r=c.Kf||t.h,i=c.Mg||t.i,c=c.trackId,t.j.has(c)&&(l=t.j.get(c))}).O("tfdt",function(c){u=_f(c.reader,c.version).baseMediaDecodeTime}).box("mdat",function(c){if(u===null)throw X("Unable to find base media decode time for CEA captions!"),new P(2,2,2010);Y2(t,c.reader,u,l,r,i,o-c.start-8,s,n)}).parse(e,!1),n};function Y2(e,t,n,r,i,o,s,u,l){var c=0,h=o,m=u.map(function(S){return S.ig});for(m=[].concat.apply([],U(m)),m.length&&(h=m[0].sampleSize||o),t.skip(s+u[0].Lg);t.ia();){s=t.L();var T=t.ga(),y=null;switch(y=!1,u=1,e.g){case Bh:y=T&31,y=y==6;break;case pu:u=2,t.skip(1),y=T>>1&63,y=y==39||y==40;break;default:return}if(y)for(T=0,c<m.length&&(T=m[c].Wd||0),T=(n+T)/r,u=w(Ny(t.ub(s-u))),y=u.next();!y.done;y=u.next())l.push({packet:y.value,pts:T});else try{t.skip(s-u)}catch{break}h-=s+4,h==0&&(n=c<m.length?n+(m[c].hf||i):n+i,c++,c<m.length?h=m[c].sampleSize||o:h=o)}}ue("shaka.cea.Mp4CeaParser",dl);var Fh=0,Bh=1,pu=2,pl={avc1:Bh,avc3:Bh,hev1:pu,hvc1:pu,dvh1:pu,dvhe:pu};yo["video/mp4"]=function(){return new dl};function gl(){}gl.prototype.init=function(){},gl.prototype.parse=function(e){var t=[];if(e=Me(e),!Lf(e))return t;e=new st().parse(e);var n=e.Pc(),r=e.Fd();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=w(r),r=n.next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&r.time!=null)for(var i=w(Ny(r.data)),o=i.next();!o.done;o=i.next())t.push({packet:o.value,pts:r.time});return t},ue("shaka.cea.TsCeaParser",gl),yo["video/mp2t"]=function(){return new gl};function Ly(e,t,n){var r=tI(e),i=null;e=[];var o=[],s=null,u=new Set(r.map(function(l){return l.keyId}));if(u.delete(null),1<u.size)throw new P(2,4,4010);if(!t){if(o=r.filter(function(l){return l.cd=="urn:mpeg:dash:sea:2012"}),1<o.length)throw new P(2,4,4050);o.length&&(s=rI(o[0])),o=r.filter(function(l){return l.cd=="urn:mpeg:dash:mp4protection:2011"?(i=l.init||i,!1):l.cd!="urn:mpeg:dash:sea:2012"}),o.length&&(e=eI(i,o,n,u),e.length==0&&(e=[yi("",i)]))}if(r.length&&!s&&(t||!o.length))for(e=[],t=w(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(yi(n,i));if(u=Array.from(u)[0]||null)for(t=w(e),n=t.next();!n.done;n=t.next())for(n=w(n.value.initData),r=n.next();!r.done;r=n.next())r.value.keyId=u;return{Jf:u,aj:i,drmInfos:e,ke:s,Nf:!0}}function J2(e,t,n,r){var i=Ly(e,n,r);if(t.Nf)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=i.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=i.drmInfos),t.Nf=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return i.drmInfos.some(function(s){return s.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new P(2,4,4008);return i.Jf||t.Jf}function Q2(e){var t=0,n=xt(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,i&1||i+e>n.byteLength){n=[];break e}var o=Me(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}function Z2(e){e=w(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next()){t=w(t.value.childNodes);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n instanceof Element&&n.tagName=="LA_URL")return n.textContent}return""}function ml(e){var t=Qr(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Qr(e.node,"urn:microsoft:playready","pro"),!e||(e=fr(e.textContent),e=Q2(e).filter(function(n){return n.type===iI})[0],!e)?"":(e=Xr(e.value,!0),(e=Uo(e,"WRMHEADER"))?Z2(e):""))}function eI(e,t,n,r){var i=[];t=w(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var s=n[o.cd];if(s){var u;if(u=Qr(o.node,"urn:microsoft:playready","pro")){u=fr(u.textContent);var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:ka(u,l,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(l=null,o.cd==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e")if(l=r,l.size==0)l=null;else{var c=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),h=new Uint8Array([]);l=[{initData:ka(h,c,l,1),initDataType:"cenc",keyId:o.keyId}]}u=yi(s,o.init||e||u||l),(s=oI.get(s))&&(u.licenseServerUri=s(o)),i.push(u)}}return i}function tI(e){var t=[];e=w(e);for(var n=e.next();!n.done;n=e.next())(n=nI(n.value))&&t.push(n);return t}function nI(e){var t=e.getAttribute("schemeIdUri"),n=Xi(e,"urn:mpeg:cenc:2013","default_KID"),r=Gg(e,"urn:mpeg:cenc:2013","pssh").map(Yi);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new P(2,4,4009);var i=[];try{i=r.map(function(o){return{initDataType:"cenc",initData:fr(o),keyId:null}})}catch{throw new P(2,4,4007)}return{node:e,cd:t,keyId:n,init:0<i.length?i:null}}function rI(e){if(!v.crypto||!v.crypto.subtle)throw X("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new P(2,4,4042);var t=Qr(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new P(2,4,4051);if(t.getAttribute("schemeIdUri")!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new P(2,4,4051);if(t=Qr(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new P(2,4,4051);if(e=t.getAttribute("IV"),t=t.getAttribute("keyUriTemplate"),!e||!t)throw new P(2,4,4051);if(e=qi(e.substr(2)),e.byteLength!=16)throw new P(2,4,4048);return{zh:t,iv:e}}var iI=1,oI=new Map().set("com.widevine.alpha",function(e){var t=Qr(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Qr(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",ml).set("com.microsoft.playready.recommendation",ml).set("com.microsoft.playready.software",ml).set("com.microsoft.playready.hardware",ml).set("org.w3.clearkey",function(e){var t=Qr(e.node,"https://dashif.org/CPS","Laurl");return t&&t.textContent?t.textContent:(e=Qr(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.getAttribute("Lic_type")==="EME-1.0"&&e.textContent?e.textContent:""});function vl(e,t,n,r,i,o){var s={RepresentationID:t,Number:n,SubNumber:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(u,l,c,h){if(u=="$$")return"$";var m=s[l];if(m==null)return u;switch(l=="RepresentationID"&&c&&(c=void 0),l=="Time"&&typeof m!="bigint"&&(.2<=Math.abs(m-Math.round(m))&&X("Calculated $Time$ values must be close to integers"),m=Math.round(m)),h){case void 0:case"d":case"i":case"u":u=m.toString();break;case"o":u=m.toString(8);break;case"x":u=m.toString(16);break;case"X":u=m.toString(16).toUpperCase();break;default:u=m.toString()}return c=v.parseInt(c,10)||1,Array(Math.max(0,c-u.length)+1).join("0")+u})}function Oy(e,t){var n=jr(e,t,"timescale"),r=1;n&&(r=ei(n)||1);var i=jr(e,t,"duration");n=ei(i||""),e.M.contentType=="image"&&(n=$s(i||"")),n&&(n/=r);var o=jr(e,t,"startNumber");i=Number(jr(e,t,"presentationTimeOffset"))||0;var s=hn(o||"");(o==null||s==null)&&(s=1);var u=yl(e,t,"SegmentTimeline");if(t=null,u){t=r,e=e.ba.duration||1/0,o=s,u=mt(u,"S");for(var l=[],c=-i,h=0;h<u.length;++h){var m=u[h],T=u[h+1],y=He(m,"t",hn),S=He(m,"d",hn),E=He(m,"r",_a);if(m=He(m,"k",_a)||0,y!=null&&(y-=i),!S)break;if(y=y??c,E=E||0,0>E)if(T){if(T=He(T,"t",hn),T==null)break;if(y>=T)break;E=Math.ceil((T-y)/S)-1}else{if(e==1/0)break;if(y/t>=e)break;E=Math.ceil((e*t-y)/S)-1}for(0<l.length&&y!=c&&(l[l.length-1].end=y/t),T=0;T<=E;++T)c=y+S,l.push({start:y/t,end:c/t,zf:y,fb:m,Vh:l.length+o}),y=c}t=l}return{timescale:r,ya:n,gd:s,vb:i/r||0,yf:i,timeline:t}}function jy(e,t){return[t(e.M),t(e.oa),t(e.ta)].filter(Ao)}function jr(e,t,n){t=jy(e,t),e=null,t=w(t);for(var r=t.next();!r.done&&!(e=r.value.getAttribute(n));r=t.next());return e}function yl(e,t,n){t=jy(e,t),e=null,t=w(t);for(var r=t.next();!r.done&&!(e=hr(r.value,n));r=t.next());return e}function sI(e,t,n,r,i,o){for(var s=Xi(e,"http://www.w3.org/1999/xlink","href"),u=Xi(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=w(Array.from(e.attributes)),c=l.next();!c.done;c=l.next())c=c.value,c.namespaceURI=="http://www.w3.org/1999/xlink"&&e.removeAttributeNS(c.namespaceURI,c.localName);if(5<=o)return zi(new P(2,4,4028));if(u!="onLoad")return zi(new P(2,4,4027));var h=tn([r],[s]);return i.request(0,Gt(h,t)).pa(function(m){if(m=xf(m.data,e.tagName),!m)return zi(new P(2,4,4001,s));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;m.childNodes.length;){var T=m.childNodes[0];m.removeChild(T),e.appendChild(T)}for(m=w(Array.from(m.attributes)),T=m.next();!T.done;T=m.next())e.setAttributeNode(T.value.cloneNode(!1));return wl(e,t,n,h[0],i,o+1)})}function wl(e,t,n,r,i,o){if(o=o===void 0?0:o,Xi(e,"http://www.w3.org/1999/xlink","href")){var s=sI(e,t,n,r,i,o);return n&&(s=s.pa(void 0,function(){return wl(e,t,n,r,i,o)})),s}s=[];for(var u=w(Array.from(e.childNodes)),l=u.next();!l.done;l=u.next())l=l.value,l instanceof Element&&(Xi(l,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.removeChild(l):l.tagName!="SegmentTimeline"&&s.push(wl(l,t,n,r,i,o)));return Ng(s).pa(function(){return e})}function uI(e,t,n,r,i,o,s){var u,l=new lt().O("sidx",function(c){u=aI(t,r,i,o,s,n,c)});if(e&&l.parse(e),u)return u;throw new P(2,3,3004)}function aI(e,t,n,r,i,o,s){var u=[];s.reader.skip(4);var l=s.reader.L();if(l==0)throw new P(2,3,3005);if(s.version==0)var c=s.reader.L(),h=s.reader.L();else c=s.reader.oc(),h=s.reader.oc();s.reader.skip(2);var m=s.reader.Ea();for(e=e+s.size+h,h=0;h<m;h++){var T=s.reader.L(),y=(T&2147483648)>>>31;T&=2147483647;var S=s.reader.L();if(s.reader.skip(4),y==1)throw new P(2,3,3006);u.push(new Ae(c/l+n,(c+S)/l+n,function(){return o},e,e+T-1,t,n,r,i)),c+=S,e+=T}return s.parser.stop(),u}function Si(e){this.h=xt(e),this.g=new rt(this.h,0)}Si.prototype.ia=function(){return this.g.ia()};function ui(e){var t=by(e);if(7<t.length)throw new P(2,3,3002);var n=0;t=w(t);for(var r=t.next();!r.done;r=t.next())n=256*n+r.value;t=by(e);e:{r=w(lI);for(var i=r.next();!i.done;i=r.next())if(zt(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.qa();else{if(t.length==8&&t[1]&224)throw new P(2,3,3001);for(i=r=0;i<t.length;i++){var o=t[i];r=i==0?o&(1<<8-t.length)-1:256*r+o}t=r}return t=e.g.qa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.qa(),r=xt(e.h,e.g.qa(),t),e.g.skip(t),new cI(n,r)}function by(e){var t=e.g.qa(),n=e.g.ga();if(n==0)throw new P(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Me(e.h,t,n)}var lI=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function cI(e,t){this.id=e,this.g=t}function Vh(e){if(8<e.g.byteLength)throw new P(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new P(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var r=e.g.getUint8(n);t=256*t+r}return t}function fI(e,t,n,r,i,o,s,u,l){function c(){return i}var h=[];e=new Si(e.g);for(var m=null,T=null;e.ia();){var y=ui(e);if(y.id==187){var S=hI(y);S&&(y=n*S.di,S=t+S.Lh,m!=null&&h.push(new Ae(m+s,y+s,c,T,S-1,o,s,u,l)),m=y,T=S)}}return m!=null&&h.push(new Ae(m+s,r+s,c,T,null,o,s,u,l)),h}function hI(e){var t=new Si(e.g);if(e=ui(t),e.id!=179)throw new P(2,3,3013);if(e=Vh(e),t=ui(t),t.id!=183)throw new P(2,3,3012);t=new Si(t.g);for(var n=0;t.ia();){var r=ui(t);if(r.id==241){n=Vh(r);break}}return{di:e,Lh:n}}function Uy(e,t,n){if(t=yl(e,t,"Initialization"),!t)return null;var r=e.M.cb(),i=t.getAttribute("sourceURL");i&&(r=tn(r,[i])),i=0;var o=null;return(t=He(t,"range",Ra))&&(i=t.start,o=t.end),new Wn(function(){return r},i,o,Hy(e),null,null,n)}function dI(e,t,n){var r=Number(jr(e,is,"presentationTimeOffset"))||0,i=jr(e,is,"timescale"),o=1;i&&(o=ei(i)||1);var s=r/o||0,u=Uy(e,is,n);pI(e,u);var l=lg(e);return{dc:function(){var c=yl(l,is,"RepresentationIndex"),h=l.M.cb();return c&&(c=c.getAttribute("sourceURL"))&&(h=tn(h,[c])),c=By(l),Fy(l,t,u,h,c.start,c.end,s)}}}function Fy(e,t,n,r,i,o,s){var u,l,c,h,m,T,y,S,E,C,k,M,_,R,L;return O(function(j){if(j.g==1)return u=e.presentationTimeline,l=!e.zb||!e.ba.Le,c=e.ba.start,h=e.ba.duration,m=e.M.mimeType.split("/")[1],T=t,y=null,S=[T(r,i,o,!1),m=="webm"?T(n.Z(),n.Qa,n.wa,!0):null],T=null,I(j,Promise.all(S),2);if(E=j.h,C=E[0],k=E[1]||null,M=null,_=c-s,R=c,L=h?c+h:1/0,m=="mp4")var $=uI(C,i,r,n,_,R,L);else{if($=new Si(k),ui($).id!=440786851)throw new P(2,3,3008);var H=ui($);if(H.id!=408125543)throw new P(2,3,3009);$=H.g.byteOffset,H=new Si(H.g);for(var K=null;H.ia();){var W=ui(H);if(W.id==357149030){K=W;break}}if(!K)throw new P(2,3,3010);for(K=new Si(K.g),W=1e6,H=null;K.ia();){var ee=ui(K);if(ee.id==2807729)W=Vh(ee);else if(ee.id==17545)if(ee.g.byteLength==4)H=ee.g.getFloat32(0);else if(ee.g.byteLength==8)H=ee.g.getFloat64(0);else throw new P(2,3,3003)}if(H==null)throw new P(2,3,3011);if(K=W/1e9,H*=K,W=ui(new Si(C)),W.id!=475249515)throw new P(2,3,3007);$=fI(W,$,K,H,r,n,_,R,L)}return M=$,u.Xc(M),y=new Xe(M),l&&y.bc(R,L,!0),j.return(y)})}function is(e){return e.ed}function By(e){var t=yl(e,is,"RepresentationIndex");return e=jr(e,is,"indexRange"),e=Ra(e||""),t&&(e=He(t,"range",Ra,e)),e}function pI(e,t){if(Vy(e,t),!By(e))throw new P(2,4,4002)}function Vy(e,t){var n=e.M.mimeType.split("/")[1];if(e.M.contentType!=ze&&n!="mp4"&&n!="webm")throw new P(2,4,4006);if(n=="webm"&&!t)throw new P(2,4,4005)}function Hy(e){var t=e.M;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Td,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function gI(e,t,n){var r=Uy(e,Ky,n),i=mI(e);if(!i.ya&&!i.timeline&&1<i.lc.length)throw new P(2,4,4002);if(!i.ya&&!e.ba.duration&&!i.timeline&&i.lc.length==1)throw new P(2,4,4002);if(i.timeline&&i.timeline.length==0)throw new P(2,4,4002);var o=null,s=null;e.ta.id&&e.M.id&&(s=t[e.ta.id+","+e.M.id])&&(o=s.segmentIndex);var u=vI(e.ba.start,e.ba.duration,e.M.cb,i,r,n);return t=!o,o?o.Wc(u,e.presentationTimeline.eb()):o=new Xe(u),e.presentationTimeline.Xc(u),e.zb&&e.ba.Le||o.bc(e.ba.start,e.ba.duration?e.ba.start+e.ba.duration:1/0,t),s&&(s.segmentIndex=o),{dc:function(){return o&&o.Ab()!=0||o.Qd(u),Promise.resolve(o)}}}function Ky(e){return e.Fb}function mI(e){var t=yI(e);e=Oy(e,Ky);var n=e.gd;n==0&&(n=1);var r=0;return e.ya?r=e.ya*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{ya:e.ya,startTime:r,gd:n,vb:e.vb,timeline:e.timeline,lc:t}}function vI(e,t,n,r,i,o){var s=r.lc.length;r.timeline&&r.timeline.length!=r.lc.length&&(s=Math.min(r.timeline.length,r.lc.length));for(var u=e-r.vb,l=t?e+t:1/0,c=[],h=r.startTime,m={},T=0;T<s;m={Ec:m.Ec,Ac:m.Ac},T++){m.Ac=r.lc[T];var y=void 0;y=r.ya!=null?h+r.ya:r.timeline?r.timeline[T].end:h+t,m.Ec=null,c.push(new Ae(e+h,e+y,function(S){return function(){return S.Ec==null&&(S.Ec=tn(n(),[S.Ac.Dh])),S.Ec}}(m),m.Ac.start,m.Ac.end,i,u,e,l,[],"",null,null,Ti,o)),h=y}return c}function yI(e){return[e.M.Fb,e.oa.Fb,e.ta.Fb].filter(Ao).map(function(t){return mt(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.getAttribute("indexRange")&&!e.Wf&&(e.Wf=!0);var n=t.getAttribute("media");return t=He(t,"mediaRange",Ra,{start:0,end:null}),{Dh:n,start:t.start,end:t.end}})}function wI(e,t,n,r,i,o,s){var u=EI(e,s),l=TI(e);xI(l);var c=lg(e);if(l.Uc)return Vy(e,u),{dc:function(){var S=vl(l.Uc,c.M.id,null,null,c.bandwidth||null,null);return S=tn(c.M.cb(),[S]),Fy(c,t,u,S,0,null,l.vb)}};if(l.ya)return r||e.oa.contentType==="image"||(e.presentationTimeline.Ye(l.ya),e.presentationTimeline.Sd(e.ba.start)),{dc:function(){return SI(c,l,i,u,o,s)}};var h=null;r=r=null,e.ta.id&&e.M.id&&(r=e.ta.id+","+e.M.id,r=n[r])&&(h=r.segmentIndex);var m=e.ba.start,T=e.ba.duration?m+e.ba.duration:1/0,y=!(e.zb&&e.ba.Le);return h?(n=h,zy(n,l,m,T,y,u),n.bb(e.presentationTimeline.eb())):h=new xl(l,e.M.id,e.bandwidth,e.M.cb,m,T,u,y,s,e.M.jf),l.timeline&&e.oa.contentType!=="image"&&e.presentationTimeline.dg(l.timeline,m),r&&e.zb&&(r.segmentIndex=h),{dc:function(){return h instanceof xl&&h.Ab()==0&&zy(h,l,m,T,y,u),Promise.resolve(h)}}}function Tl(e){return e.fd}function TI(e){var t=Oy(e,Tl),n=jr(e,Tl,"media");return e=jr(e,Tl,"index"),{ya:t.ya,timescale:t.timescale,gd:t.gd,vb:t.vb,yf:t.yf,timeline:t.timeline,mc:n,Uc:e}}function xI(e){var t=e.Uc?1:0;if(t+=e.timeline?1:0,t+=e.ya?1:0,t==0)throw new P(2,4,4002);if(t!=1&&(e.Uc&&(e.timeline=null),e.ya=null),!e.Uc&&!e.mc)throw new P(2,4,4002)}function SI(e,t,n,r,i,o){function s(W){var ee=(W-S)*y,se=ee+t.vb,he=ee+h;ee=he+y;var we=Math.min(ee,l());return he=new Ae(he,we,function(){var xe=se*E;return"BigInt"in v&&xe>Number.MAX_SAFE_INTEGER&&(xe=BigInt(se)*BigInt(E)),xe=vl(C,M,W,null,k,xe),tn(_(),[xe])},0,null,r,R,h,l(),[],"",null,null,Ti,o),he.h=ee,he}function u(){var W=[Math.max(c.eb(),h),Math.min(c.Bb(),l())].map(function(ee){return ee-h});return[Math.ceil(W[0]/y),Math.ceil(W[1]/y)-1].map(function(ee){return ee+S})}function l(){var W=m!=null&&i[m]||T;return W?h+W:1/0}var c=e.presentationTimeline,h=e.ba.start,m=e.ta.id,T=e.ba.duration,y=t.ya,S=t.gd,E=t.timescale,C=t.mc,k=e.bandwidth||null,M=e.M.id,_=e.M.cb,R=h-t.vb,L=u();e=e.zb?Math.max(L[0],L[1]-n+1):L[0],L=L[1],n=[];for(var j=e;j<=L;++j){var $=s(j);n.push($)}var H=new Xe(n);if(n=c.Bb()<l(),j=c.R(),n||j){var K=Math.max(e,L+1);H.Yd(y,function(){var W=c.eb();H.bb(W);var ee=w(u());ee.next(),ee=ee.next().value;for(var se=[];K<=ee;){var he=s(K);se.push(he),K++}return W>l()&&!se.length?null:se})}return Promise.resolve(H)}function EI(e,t){var n=jr(e,Tl,"initialization");if(!n)return null;var r=e.M.id,i=e.bandwidth||null,o=e.M.cb;return new Wn(function(){var s=vl(n,r,null,null,i,null);return tn(o(),[s])},0,null,Hy(e),null,null,t)}function xl(e,t,n,r,i,o,s,u,l,c){Xe.call(this,[]),this.h=e,this.F=t,this.A=n,this.C=r,this.i=i,this.l=o,this.s=s,this.u=l,this.G=c,u&&$y(this)}Pe(xl,Xe),d=xl.prototype,d.Ab=function(){return this.h?this.h.timeline.length:0},d.release=function(){Xe.prototype.release.call(this),this.h=null},d.bb=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.i<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.j+=t,this.Ab()===0&&this.release())}};function zy(e,t,n,r,i,o){if(e.s=o,e.h){n=e.h.timeline,e.h.mc=t.mc;var s=n[n.length-1];t=t.timeline.filter(function(u){return u.start>=s.end}),0<t.length&&e.h.timeline.push.apply(e.h.timeline,U(t)),e.l!==r&&(e.l=r)}else e.h=t,e.i=n,e.l=r;i&&$y(e)}function $y(e){if(!e.o){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.l;)t.pop();e.bb(e.i)}}d.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.i)return this.j;if(!this.h)return null;var t=this.h.timeline;if(e<this.i||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],o=i.start+this.i;if(i=r<n?t[r+1].start+this.i:this.l===1/0?i.end+this.i:this.l,e>=o&&e<i)return r+this.j}return null},d.get=function(e){var t=this;if(e-=this.j,0>e||e>=this.Ab()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.mc,i=this.h.timeline[e],o=i.Vh,s=this.h.yf+i.zf;n=this.i-this.h.vb;var u=this.i+i.end,l=u;e===this.Ab()-1&&this.l!==1/0&&(l=this.l);for(var c=[],h=(i.end-i.start)/i.fb,m={},T=0;T<i.fb;m={Fc:m.Fc,fe:m.fe},T++){var y=i.start+h*T,S=y+h;m.fe=T+1,m.Fc=null,y=new Ae(this.i+y,this.i+S,function(E){return function(){return t.h?(E.Fc==null&&(E.Fc=Gy(t.h.mc,t.F,o,t.A,s,E.fe,t.C)),E.Fc):[]}}(m),0,null,this.s,n,this.i,this.l,[],"",null,null,Ti,this.u),this.G==0?0<T&&y.Od():T%this.G!=0&&y.Od(),c.push(y)}n=new Ae(this.i+i.start,l,function(){return 0<i.fb?[]:Gy(r,t.F,o,t.A,s,null,t.C)},0,null,this.s,n,this.i,this.l,c,"",null,null,Ti,this.u,0<i.fb),n.h=u,this.g[e]=n}return n};function Gy(e,t,n,r,i,o,s){return e=vl(e,t,n,o,r||null,i),tn(s(),[e]).map(function(u){return u.toString()})}function gu(e){this.o=null,this.u=e,this.G=new Do,this.j=[],this.h=null,this.m=[],this.A=null,this.F=[],this.C=300,this.l=new Map,this.i=new Map,this.g=null,this.s="UNKNOWN"}gu.prototype.configure=function(e){this.o=e},gu.prototype.destroy=function(){return this.u=this.o=null,this.j=[],this.h=null,this.m=[],this.F=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.G.destroy()},gu.prototype.setManifestType=function(e){this.s=e};function mu(e,t){var n,r,i,o,s,u,l;return O(function(c){if(c.g==1)return n=tn(e.j,[AI(e,t)]),r=Gt(n,e.o.retryParameters),i=e.u.networkingEngine.request(8,r),$i(e.G,i),Ce(c,2),I(c,i.promise,4);if(c.g!=2)return o=c.h,s=gt(o.data),u=JSON.parse(s),u.VERSION==1&&II(e,u,o.uri),ae(c,0);if((l=Y(c))&&l.code==7001)return c.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new Ve(function(){mu(e,t)}),e.g.U(e.C),J(c)})}function AI(e,t){if(!e.m.length)return t;t=new _t(t);var n=e.A||e.m[0],r=Math.round(e.u.getBandwidthEstimate()),i=t.g;return e.s=="DASH"?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):e.s=="HLS"&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),rg(i)&&Ls(t,i),t.toString()}function II(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new Ve(function(){mu(e,r)}),(n=t.TTL)&&(e.C=n),e.g.U(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}function os(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}function vu(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var r=[],i={},o=w(e.m),s=o.next();!s.done;i={Jb:i.Jb},s=o.next())if(i.Jb=s.value,s=t.get(i.Jb))r.push({df:i.Jb,location:s});else if(s=e.F.find(function(l){return function(c){return c.vi==l.Jb}}(i))){var u=t.get(s["BASE-ID"]);u&&(s["URI-REPLACEMENT"].xg?(u=new _t(u),oa(u,s["URI-REPLACEMENT"].xg),r.push({df:i.Jb,location:u.toString()})):r.push({df:i.Jb,location:u}))}for(i=Date.now(),o=w(e.i.keys()),s=o.next();!s.done;s=o.next())s=s.value,u=e.i.get(s),i>u&&e.i.delete(s);if(r=r.filter(function(l){for(var c=w(e.i.keys()),h=c.next();!h.done;h=c.next())if(h.value.includes(new _t(l.location).ob))return!1;return!0}),r.length&&(e.A=r[0].df),r=r.map(function(l){return l.location}),!r.length&&e.h)for(i=w(e.h.split(",")),s=i.next();!s.done;s=i.next())(o=t.get(s.value))&&(e.A=e.h,r.push(o));if(!r.length)for(t=w(t.values()),i=t.next();!i.done;i=t.next())r.push(i.value);return n?r:tn(e.j,r)}function mr(){this.j=[],this.h=[],this.g=[],this.l=[],this.i=[],this.m=!1,this.o=new Set}d=mr.prototype,d.release=function(){for(var e=w(this.h.concat(this.g,this.l,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.l=[],this.i=[],this.j=[]},d.mh=function(){return this.j},d.Ie=function(){return this.l.slice()},d.Vg=function(){return this.i};function Wy(e,t){var n=[],r=[],i=[],o=[];e=w(e);for(var s=e.next();!s.done;s=e.next()){var u=s.value;s=new Map(u.audioStreams.map(function(m){return[zh(m),m]}));var l=new Map(u.videoStreams.map(function(m){return[Kh(m),m]})),c=new Map(u.textStreams.map(function(m){return[xu(m),m]}));if(u=new Map(u.imageStreams.map(function(m){return[Su(m),m]})),t){var h=Zy(ze);c.set(xu(h),h),h=Zy("image"),u.set(Su(h),h)}n.push(s),r.push(l),i.push(c),o.push(u)}return{Df:n,vg:r,sg:i,Vf:o}}d.Gf=function(e,t){var n=this,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H,K,W,ee,se,he,we,xe;return O(function(_e){if(_e.g==1){if(r=Vt,!t&&e.length==1)return i=Wy(e,!1),o=i.Df,s=i.vg,u=i.sg,l=i.Vf,n.h=Array.from(o[0].values()),n.g=Array.from(s[0].values()),n.l=Array.from(u[0].values()),n.i=Array.from(l[0].values()),_e.B(2);for(c=-1,h=0;h<e.length;h++)m=e[h],n.o.has(m.id)||(n.o.add(m.id),c==-1&&(c=h));return c==-1?_e.return():(T=Wy(e,!0),y=T.Df,S=T.vg,E=T.sg,C=T.Vf,I(_e,Promise.all([Ei(n,n.h,y,c,yu,ss),Ei(n,n.g,S,c,yu,ss),Ei(n,n.l,E,c,yu,ss),Ei(n,n.i,C,c,yu,ss)]),2))}if(k=0,M=[],n.g.length&&n.h.length)for(H=w(n.h),K=H.next();!K.done;K=H.next())for(W=K.value,ee=w(n.g),se=ee.next();!se.done;se=ee.next())he=se.value,we=Af(W.drmInfos,he.drmInfos),W.drmInfos.length&&he.drmInfos.length&&!we.length||(xe=k++,M.push({id:xe,language:W.language,disabledUntilTime:0,primary:W.primary,audio:W,video:he,bandwidth:(W.bandwidth||0)+(he.bandwidth||0),drmInfos:we,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(_=n.g.length?n.g:n.h,R=w(_),L=R.next();!L.done;L=R.next())j=L.value,$=k++,M.push({id:$,language:j.language,disabledUntilTime:0,primary:j.primary,audio:j.type==r.P?j:null,video:j.type==r.$?j:null,bandwidth:j.bandwidth||0,drmInfos:j.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});n.j=M,J(_e)})};function qy(e){var t,n,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H,K,W,ee,se,he,we;return O(function(xe){switch(xe.g){case 1:if(t=Vt,e.length==1)return xe.return(e[0]);for(n=e.map(function(_e){return new Map(_e.filter(function(me){return me.type===t.P}).map(function(me){return[zh(me),me]}))}),r=e.map(function(_e){return new Map(_e.filter(function(me){return me.type===t.$}).map(function(me){return[Kh(me),me]}))}),i=e.map(function(_e){return new Map(_e.filter(function(me){return me.type===t.na}).map(function(me){return[xu(me),me]}))}),o=e.map(function(_e){return new Map(_e.filter(function(me){return me.type===t.he}).map(function(me){return[Su(me),me]}))}),s=w(i),u=s.next();!u.done;u=s.next())l=u.value,c=Qy(t.na),l.set(xu(c),c);for(h=w(o),m=h.next();!m.done;m=h.next())T=m.value,y=Qy(t.he),T.set(Su(y),y);return S=new mr,I(xe,Ei(S,[],n,0,Sl,El),2);case 2:return E=xe.h,I(xe,Ei(S,[],r,0,Sl,El),3);case 3:return C=xe.h,I(xe,Ei(S,[],i,0,Sl,El),4);case 4:return k=xe.h,I(xe,Ei(S,[],o,0,Sl,El),5);case 5:if(M=xe.h,_=0,C.length&&E.length)for(H=w(E),K=H.next();!K.done;K=H.next())for(W=K.value,ee=w(C),se=ee.next();!se.done;se=ee.next())he=se.value,we=_++,he.variantIds.push(we),W.variantIds.push(we);else for(R=C.concat(E),L=w(R),j=L.next();!j.done;j=L.next())$=j.value,$.variantIds=[_++];return xe.return(C.concat(E).concat(k).concat(M))}})}function Ei(e,t,n,r,i,o){var s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$;return O(function(H){switch(H.g){case 1:for(s=[],u=0;u<r;u++)s.push(new Set);for(l=r;l<n.length;l++)s.push(new Set(n[l].values()));c=w(t),h=c.next();case 2:if(h.done){H.B(4);break}return m=h.value,I(H,CI(e,m,n,r,o,s),5);case 5:if(T=H.h,!T)throw new P(2,4,4037);h=c.next(),H.B(2);break;case 4:for(y=w(s),S=y.next();!S.done;S=y.next())for(E=S.value,C=w(E),k=C.next();!k.done;k=C.next())M=k.value,(_=MI(e,M,n,i,o,s))&&t.push(_);for(R=w(s),S=R.next();!S.done;S=R.next())for(L=S.value,j={},$=w(L),k=$.next();!k.done;j={od:j.od},k=$.next())if(j.od=k.value,!t0(j.od)&&t.some(function(K){return function(W){return Hh(e,K.od,W)}}(j)))throw new P(2,4,4037);return H.return(t)}})}function CI(e,t,n,r,i,o){return O(function(s){return s.g==1?(Jy(e,n,t),t.matchedStreams?t.segmentIndex?I(s,Xy(t,r),2):s.B(2):s.return(!1)):(Yy(t,r,i,o),s.return(!0))})}function Xy(e,t){var n,r,i,o,s,u,l;return O(function(c){if(c.g==1){for(n=[],r=e.matchedStreams,i=w(r),o=i.next();!o.done;o=i.next())s=o.value,n.push(s.createSegmentIndex()),s.trickModeVideo&&!s.trickModeVideo.segmentIndex&&n.push(s.trickModeVideo.createSegmentIndex());return I(c,Promise.all(n),2)}if(e.segmentIndex instanceof Pt)for(u={},l=t;l<r.length;u={jb:u.jb},l++)u.jb=r[l],u.jb.segmentIndex&&(Vf(u.jb.segmentIndex,function(h){return function(m){m.codecs=h.jb.codecs,m.mimeType=h.jb.mimeType,m.aa&&(m.aa.codecs=h.jb.codecs,m.aa.mimeType=h.jb.mimeType)}}(u)),e.segmentIndex.h.push(u.jb.segmentIndex));J(c)})}function MI(e,t,n,r,i,o){if(t0(t))return null;var s=r(t);return Jy(e,n,s),s.createSegmentIndex&&(s.createSegmentIndex=function(){return O(function(u){return s.segmentIndex?u.B(0):(s.segmentIndex=new Pt,I(u,Xy(s,0),0))})}),!s.matchedStreams||!s.matchedStreams.length?null:(Yy(s,0,i,o),s)}function Yy(e,t,n,r){for(var i=e.matchedStreams;t<i.length;t++){var o=i[t];n(e,o);var s=!0;if(e.type=="audio"&&Vi(e.language,o.language)==0&&(s=!1),s){r[t].delete(o),s=new Set(e.codecs.split(",")),o=w(o.codecs.split(","));for(var u=o.next();!u.done;u=o.next())(u=u.value)&&s.add(u);u=Array.from(s),s=new Set,o=[],u=w(u);for(var l=u.next();!l.done;l=u.next()){l=l.value;var c=xr(l);s.has(c)||(o.push(l),s.add(c))}e.codecs=o.join(",")}}}function yu(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=w(t.matchedStreams),r=n.next();!r.done;r=n.next())r=r.value,r.segmentIndex&&(r.segmentIndex.release(),r.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function Sl(e){return e=Object.assign({},e),e.roles=e.roles.slice(),e.keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function ss(e,t){function n(s,u){s||(s=[]),u=w(u);for(var l=u.next();!l.done;l=u.next())l=l.value,s.includes(l)||s.push(l);return s}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=w(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(e.originalId==null?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),r=Af(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new P(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),r=w(t.closedCaptions),i=r.next();!i.done;i=r.next()){var o=w(i.value);i=o.next().value,o=o.next().value,e.closedCaptions.set(i,o)}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=yu(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),ss(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&ss(e.trickModeVideo,t)}function El(e,t){var n=e.roles;n||(n=[]);for(var r=w(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,n=w(t.keyIds),r=n.next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,U(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=w(t.closedCaptions),n=t.next();!n.done;n=t.next())r=w(n.value),n=r.next().value,r=r.next().value,e.closedCaptions.set(n,r)}function Jy(e,t,n){var r=[];t=w(t);for(var i=t.next();!i.done;i=t.next()){if(i=kI(e,i.value,n),!i)return;r.push(i)}n.matchedStreams=r}function kI(e,t,n){var r=null,i=(0,{audio:zh,video:Kh,text:xu,image:Su}[n.type])(n);if(t.has(i))r=t.get(i);else{i={audio:function(u,l){return Hh(e,u,l)},video:function(u,l){return Hh(e,u,l)},text:RI,image:_I}[n.type];var o={audio:PI,video:DI,text:NI,image:LI}[n.type];t=w(t.values());for(var s=t.next();!s.done;s=t.next())s=s.value,!i(n,s)||n.fastSwitching!=s.fastSwitching||r&&!o(n,r,s)||(r=s)}return r}function wu(e,t){function n(r){if(!$h.has(r)){var i=ur(r);$h.set(r,i)}return $h.get(r)}return e.mimeType!=t.mimeType?!1:n(e.codecs)==n(t.codecs)}function Hh(e,t,n){return!(!wu(t,n)&&!e.m||t.drmInfos&&!om(t.drmInfos,n.drmInfos))}function RI(e,t){return t.language?!(e.forced!==t.forced||Vi(e.language,t.language)==0||t.kind!=e.kind):!0}function _I(){return!0}function PI(e,t,n){var r=wu(e,t),i=wu(e,n);if(r&&!i)return!1;if(!r&&i||(r=Vi(e.language,t.language),i=Vi(e.language,n.language),i>r))return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}return e.roles.length?(r=t.roles.filter(function(o){return e.roles.includes(o)}),i=n.roles.filter(function(o){return e.roles.includes(o)}),i.length>r.length?!0:i.length<r.length?!1:n.roles.length<t.roles.length):!n.roles.length&&t.roles.length?!0:n.roles.length&&!t.roles.length?!1:!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(r=Tu(e.channelsCount,t.channelsCount,n.channelsCount),r==Ir?!0:r==ai?!1:(r=Tu(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),r==Ir?!0:r==ai?!1:!!(e.bandwidth&&e0(e.bandwidth,t.bandwidth,n.bandwidth)==Ir)))}function DI(e,t,n){var r=wu(e,t),i=wu(e,n);if(r&&!i)return!1;if(!r&&i||(r=Tu(e.width*e.height,t.width*t.height,n.width*n.height),r==Ir))return!0;if(r==ai)return!1;if(e.frameRate){if(r=Tu(e.frameRate,t.frameRate,n.frameRate),r==Ir)return!0;if(r==ai)return!1}return!!(e.bandwidth&&e0(e.bandwidth,t.bandwidth,n.bandwidth)==Ir)}function NI(e,t,n){var r=Vi(e.language,t.language),i=Vi(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(o){return e.roles.includes(o)}),i=n.roles.filter(function(o){return e.roles.includes(o)}),i.length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function LI(e,t,n){return Tu(e.width*e.height,t.width*t.height,n.width*n.height)==Ir}function Qy(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1}}function Zy(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Xe([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1}}function Tu(e,t,n){if(t==e&&e!=n)return ai;if(n==e&&e!=t)return Ir;if(t>e){if(n<=e||n-e<t-e)return Ir;if(n-e>t-e)return ai}else{if(n>e)return ai;if(e-n<e-t)return Ir;if(e-n>e-t)return ai}return n0}function e0(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Ir:t<e?ai:n0}function t0(e){switch(e.type){case ze:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function Kh(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,e.codecs,e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth])}function zh(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,e.codecs,e.mimeType,e.roles,e.audioSamplingRate,e.primary])}function xu(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Su(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}ue("shaka.util.PeriodCombiner",mr),mr.prototype.combinePeriods=mr.prototype.Gf,mr.prototype.getImageStreams=mr.prototype.Vg,mr.prototype.getTextStreams=mr.prototype.Ie,mr.prototype.getVariants=mr.prototype.mh;var Ir=1,n0=0,ai=-1,$h=new Map;function Al(){var e=this;this.i=this.h=null,this.o=[],this.j=null,this.I=1,this.m={},this.K={},this.l=new mr,this.F=0,this.H=new D(5),this.G=new Ve(function(){VI(e)}),this.C=new Do,this.u=null,this.J=[],this.A=1/0,this.s=!1,this.g=null}d=Al.prototype,d.configure=function(e){this.h=e,this.g&&this.g.configure(this.h),this.l&&(this.l.m=this.h.dash.multiTypeVariantsAllowed&&je())},d.start=function(e,t){var n=this,r;return O(function(i){if(i.g==1)return n.s=t.isLowLatencyMode(),n.o=[e],n.i=t,I(i,Gh(n),2);if(r=i.h,n.i&&Wh(n,r),!n.i)throw new P(2,7,7001);return i.return(n.j)})},d.stop=function(){for(var e=w(Object.values(this.m)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.l&&this.l.release(),this.h=this.i=null,this.o=[],this.j=null,this.m={},this.l=null,this.G!=null&&(this.G.stop(),this.G=null),this.g&&this.g.destroy(),this.C.destroy()},d.update=function(){var e=this,t;return O(function(n){if(n.g==1)return Ce(n,2),I(n,Gh(e),4);if(n.g!=2)return ae(n,0);if(t=Y(n),!e.i||!t)return n.return();e.i.onError(t),J(n)})},d.onExpirationUpdated=function(){},d.onInitialVariantChosen=function(e){if(this.j&&this.j.presentationTimeline.R()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.j.presentationTimeline.Bb();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.F=t.endTime-e,Wh(this,0))}}},d.banLocation=function(e){this.g&&this.g.i.set(e,Date.now()+6e4)};function Gh(e){var t,n,r,i,o,s,u;return O(function(l){return l.g==1?(t=e.o,1<e.o.length&&e.g&&(n=vu(e.g,"Location",!0),n.length&&(t=n)),r=Gt(t,e.h.retryParameters),i=Date.now(),I(l,Xh(e,r,0,{type:4}),2)):l.g!=3?(o=l.h,e.i?(o.uri&&o.uri!=o.originalUri&&!e.o.includes(o.uri)&&e.o.unshift(o.uri),I(l,OI(e,o.data,o.uri),3)):l.return(0)):(s=Date.now(),u=(s-i)/1e3,e.H.sample(1,u),l.return(u))})}function OI(e,t,n){var r,i,o,s;return O(function(u){if(u.g==1){if(r=xf(t,"MPD"),!r)throw new P(2,4,4001,n);return e.h.dash.disableXlinkProcessing?u.return(r0(e,r,n)):(i=e.h.dash.xlinkFailGracefully,o=wl(r,e.h.retryParameters,i,n,e.i.networkingEngine),$i(e.C,o),I(u,o.promise,2))}return s=u.h,u.return(r0(e,s,n))})}function r0(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H,K,W,ee,se,he,we,xe,_e,me,Lt,qt,vr,gn,Mr,et,Cn,mn,Vn,Ut,ps,Ci,uo,gs,kr,ao,ms,Mi,vs,ki,Ur,ju,ys;return O(function(li){switch(li.g){case 1:for((r=e.h.dash.manifestPreprocessor)&&r(t),e.g&&e.g.l.clear(),i=[n],o=[],s=new Map,u=mt(t,"Location"),l=w(u),c=l.next();!c.done;c=l.next())h=c.value,m=h.getAttribute("serviceLocation"),(T=Yi(h))&&(y=tn(i,[T])[0],m&&(e.g?os(e.g,"Location",m,y):s.set(m,y)),o.push(y));if(e.g?(S=vu(e.g,"Location",!0),0<S.length&&(i=e.o=S)):o.length&&(i=e.o=o),E=Promise.resolve(),(C=hr(t,"ContentSteering"))&&e.i)for(k=C.getAttribute("defaultServiceLocation"),e.g?(e.g.j=i,e.g.h=k):(e.g=new gu(e.i),e.g.configure(e.h),e.g.setManifestType("DASH"),e.g.j=i,e.g.h=k,(M=Yi(C))&&(He(C,"queryBeforeStart",Tf,!1)?E=mu(e.g,M):mu(e.g,M))),_=w(s.keys()),R=_.next();!R.done;R=_.next())L=R.value,j=s.get(L),os(e.g,"Location",L,j);if($=mt(t,"BaseURL"),K=!1,e.g)for(W=w($),ee=W.next();!ee.done;ee=W.next())se=ee.value,he=se.getAttribute("serviceLocation"),we=Yi(se),he&&we&&(os(e.g,"BaseURL",he,we),K=!0);if(K&&e.g||(xe=$.map(Yi),H=tn(i,xe)),_e=function(){return e.g&&K?vu(e.g,"BaseURL"):H||[]},me=0,$&&$.length&&(me=He($[0],"availabilityTimeOffset",$s)||0),Lt=e.h.dash.ignoreMinBufferTime,qt=0,Lt||(qt=He(t,"minBufferTime",Zr)||0),e.F=He(t,"minimumUpdatePeriod",Zr,-1),vr=He(t,"availabilityStartTime",Wg),gn=He(t,"timeShiftBufferDepth",Zr),Mr=e.h.dash.ignoreSuggestedPresentationDelay,et=null,Mr||(et=He(t,"suggestedPresentationDelay",Zr)),Cn=e.h.dash.ignoreMaxSegmentDuration,mn=null,Cn||(mn=He(t,"maxSegmentDuration",Zr)),Vn=t.getAttribute("type")||"static",e.j)for(Ut=e.j.presentationTimeline,ps=w(Object.values(e.m)),Ci=ps.next();!Ci.done;Ci=ps.next())uo=Ci.value,uo.segmentIndex&&uo.segmentIndex.bb(Ut.eb());else gs=e.h.defaultPresentationDelay||1.5*qt,kr=et??gs,Ut=new De(vr,kr,e.h.dash.autoCorrectDrift);return Ut.pc(Vn=="static"),Ut.R()&&!isNaN(e.h.availabilityWindowOverride)&&(gn=e.h.availabilityWindowOverride),gn==null&&(gn=1/0),Ut.Xd(gn),ao=t.getAttribute("profiles")||"",ms={zb:Vn!="static",presentationTimeline:Ut,ta:null,ba:null,oa:null,M:null,bandwidth:0,Wf:!1,ac:me,profiles:ao.split(",")},Mi=bI(e,ms,_e,t),vs=Mi.duration,ki=Mi.periods,Vn!="static"&&Mi.Lf||Ut.Pa(vs||1/0),e.A&&!e.s&&e.i.isAutoLowLatencyMode()&&(e.i.enableLowLatencyMode(),e.s=e.i.isLowLatencyMode()),e.s?Ut.lg(e.A):e.A&&X("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),Ut.Ye(mn||1),I(li,e.l.Gf(ki,ms.zb),2);case 2:return I(li,E,3);case 3:if(e.s&&(qt=0),e.j){e.j.variants=e.l.j,Ur=e.l.Ie(),0<Ur.length&&(e.j.textStreams=Ur),e.j.imageStreams=e.l.i,e.i.filter(e.j),li.B(4);break}if(e.j={presentationTimeline:Ut,variants:e.l.j,textStreams:e.l.Ie(),imageStreams:e.l.i,offlineSessionIds:[],minBufferTime:qt||0,sequenceMode:e.h.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:jI(t)},!Ut.ug()){li.B(5);break}return ju=mt(t,"UTCTiming"),I(li,$I(e,_e,ju),6);case 6:if(ys=li.h,!e.i)return li.return();Ut.mg(ys);case 5:Ut.Nd();case 4:e.i.makeTextStreamsForClosedCaptions(e.j),J(li)}})}function jI(e){if(e=hr(e,"ServiceDescription"),!e)return null;var t=hr(e,"Latency"),n=hr(e,"PlaybackRate");if(t&&t.getAttribute("max")||n){e=t&&t.getAttribute("max")?parseInt(t.getAttribute("max"),10)/1e3:null;var r=n?parseFloat(n.getAttribute("max")):null;return t=t&&t.getAttribute("min")?parseInt(t.getAttribute("min"),10)/1e3:null,n=n?parseFloat(n.getAttribute("min")):null,{maxLatency:e,maxPlaybackRate:r,minLatency:t,minPlaybackRate:n}}return null}function bI(e,t,n,r){var i=He(r,"mediaPresentationDuration",Zr),o=[],s=0;r=mt(r,"Period");for(var u=0;u<r.length;u++){var l=r[u],c=r[u+1],h=He(l,"start",Zr,s),m=l.id,T=He(l,"duration",Zr),y=null;if(c){var S=He(c,"start",Zr);S!=null&&(y=S-h)}else i!=null&&(y=i-h);if(y==null&&(y=T),!(e.u!==null&&m!==null&&h!==null&&h<e.u)||e.J.includes(m)||u+1==r.length){if(h!==null&&(e.u===null||h>e.u)&&(e.u=h),s=UI(e,t,n,{start:h,duration:y,node:l,Le:y==null||!c}),o.push(s),t.ta.id&&y&&(e.K[t.ta.id]=y),y==null){s=null;break}s=h+y}}return e.J=o.map(function(E){return E.id}),i!=null?{periods:o,duration:i,Lf:!1}:{periods:o,duration:s,Lf:!0}}function UI(e,t,n,r){t.ta=qh(e,r.node,null,n),t.ba=r,t.ta.ac=t.ac,t.ta.id||(t.ta.id="__shaka_period_"+r.start);var i=mt(r.node,"EventStream");n=t.presentationTimeline.eb(),i=w(i);for(var o=i.next();!o.done;o=i.next())GI(e,r.start,r.duration,o.value,n);if(n=mt(r.node,"AdaptationSet").map(function(h){return FI(e,t,h)}).filter(Ao),t.zb){for(r=[],i=w(n),o=i.next();!o.done;o=i.next()){o=w(o.value.Ph);for(var s=o.next();!s.done;s=o.next())r.push(s.value)}if(r.length!=new Set(r).size)throw new P(2,4,4018)}for(r=n.filter(function(h){return!h.wf}),n=n.filter(function(h){return h.wf}),n=w(n),i=n.next();!i.done;i=n.next()){i=i.value,o=i.wf.split(" "),s=w(r);for(var u=s.next();!u.done;u=s.next()){var l=u.value;if(o.includes(l.id)){u={},l=w(l.streams);for(var c=l.next();!c.done;u={pd:u.pd},c=l.next())u.pd=c.value,u.pd.trickModeVideo=i.streams.find(function(h){return function(m){return ur(h.pd.codecs)==ur(m.codecs)}}(u))}}}if(n=Il(e.h.disableAudio,r,"audio"),i=Il(e.h.disableVideo,r,"video"),o=Il(e.h.disableText,r,ze),r=Il(e.h.disableThumbnails,r,"image"),i.length===0&&n.length===0)throw new P(2,4,4004);return{id:t.ta.id,audioStreams:n,videoStreams:i,textStreams:o,imageStreams:r}}function Il(e,t,n){return e||!t.length?[]:t.reduce(function(r,i){return i.contentType!=n||r.push.apply(r,U(i.streams)),r},[])}function FI(e,t,n){function r(H){switch(H){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.oa=qh(e,n,t.ta,null);var i=!1,o=mt(n,"Role"),s=o.map(function(H){return H.getAttribute("value")}).filter(Ao),u=void 0,l=t.oa.contentType==ze;l&&(u="subtitle"),o=w(o);for(var c=o.next();!c.done;c=o.next()){c=c.value;var h=c.getAttribute("schemeIdUri");if(h==null||h=="urn:mpeg:dash:role:2011")switch(c=c.getAttribute("value"),c){case"main":i=!0;break;case"caption":case"subtitle":u=c}}var m;h=mt(n,"EssentialProperty"),o=null;var T=!1;c=!1,h=w(h);for(var y=h.next();!y.done;y=h.next()){y=y.value;var S=y.getAttribute("schemeIdUri");S=="http://dashif.org/guidelines/trickmode"?o=y.getAttribute("value"):S=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?m=r(parseInt(y.getAttribute("value"),10)):S!="urn:mpeg:mpegB:cicp:ColourPrimaries"&&S!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(S=="urn:mpeg:dash:ssr:2023"?T=!0:c=!0)}for(h=mt(n,"SupplementalProperty"),h=w(h),y=h.next();!y.done;y=h.next())y=y.value,y.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(m=r(parseInt(y.getAttribute("value"),10)));h=mt(n,"Accessibility");var E=new Map,C;for(h=w(h),y=h.next();!y.done;y=h.next())if(S=y.value,y=S.getAttribute("schemeIdUri"),S=S.getAttribute("value"),y=="urn:scte:dash:cc:cea-608:2015")if(y=1,S!=null){S=S.split(";");for(var k=w(S),M=k.next();!M.done;M=k.next()){var _=M.value,R=M=void 0;_.includes("=")?(_=_.split("="),M=_[0].startsWith("CC")?_[0]:"CC"+_[0],R=_[1]||"und"):(M="CC"+y,S.length==2?y+=2:y++,R=_),E.set(M,Je(R))}}else E.set("CC1","und");else if(y=="urn:scte:dash:cc:cea-708:2015")if(y=1,S!=null)for(S=w(S.split(";")),M=S.next();!M.done;M=S.next())M=M.value,_=k=void 0,M.includes("=")?(M=M.split("="),k="svc"+M[0],_=M[1].split(",")[0].split(":").pop()):(k="svc"+y,y++,_=M),E.set(k,Je(_));else E.set("svc1","und");else y=="urn:mpeg:dash:role:2011"?S!=null&&(s.push(S),S=="captions"&&(u="caption")):y=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(S=="1"?C="visually impaired":S=="2"&&(C="hard of hearing"));if(c)return null;c=mt(n,"ContentProtection");var L=Ly(c,e.h.dash.ignoreDrmInfo,e.h.dash.keySystemsByURI),j=Je(t.oa.language||"und"),$=n.getAttribute("label");if((c=mt(n,"Label"))&&c.length&&(c=c[0],c.textContent&&($=c.textContent)),c=mt(n,"Representation"),n=c.map(function(H){return(H=BI(e,t,L,u,j,$,i,s,E,H,C))&&(H.hdr=H.hdr||m,H.fastSwitching=T),H}).filter(function(H){return!!H}),n.length==0){if(o=t.oa.contentType=="image",e.h.dash.ignoreEmptyAdaptationSet||l||o)return null;throw new P(2,4,4003)}if(!t.oa.contentType||t.oa.contentType=="application")for(t.oa.contentType=o0(n[0].mimeType,n[0].codecs),l=w(n),y=l.next();!y.done;y=l.next())y.value.type=t.oa.contentType;for(l=t.oa.id||"__fake__"+e.I++,h=w(n),y=h.next();!y.done;y=h.next()){for(y=y.value,S=w(L.drmInfos),k=S.next();!k.done;k=S.next())k=k.value,k.keyIds=k.keyIds&&y.keyIds?new Set([].concat(U(k.keyIds),U(y.keyIds))):k.keyIds||y.keyIds;e.h.dash.enableAudioGroups&&(y.groupId=l)}return c=c.map(function(H){return H.getAttribute("id")}).filter(Ao),{id:l,contentType:t.oa.contentType,language:j,bj:i,streams:n,drmInfos:L.drmInfos,wf:o,Ph:c}}function BI(e,t,n,r,i,o,s,u,l,c,h){if(t.M=qh(e,c,t.oa,null),e.A=Math.min(e.A,t.M.ac),!zI(t.M))return null;var m=t.ba.start;t.bandwidth=He(c,"bandwidth",ei)||0;var T=t.M.contentType,y=T==ze||T=="application";T=T=="image";try{var S=void 0;if(n.ke){var E=t.M.cb,C=tn(E(),[n.ke.zh]),k=Gt(C,e.h.retryParameters);S={method:"AES-128",iv:n.ke.iv,firstMediaSequenceNumber:0,fetchKey:function(){var K,W,ee;return O(function(se){if(se.g==1)return I(se,Xh(e,k,6),2);if(se.g!=3){if(K=se.h,!K.data||K.data.byteLength!=16)throw new P(2,4,4049);return W={name:"AES-CBC"},ee=S,I(se,v.crypto.subtle.importKey("raw",K.data,W,!0,["decrypt"]),3)}ee.cryptoKey=se.h,S.fetchKey=void 0,J(se)})}}}if(E=function(K,W,ee,se){return WI(e,K,W,ee,se)},t.M.ed)var M=dI(t,E,S);else if(t.M.Fb)M=gI(t,e.m,S);else if(t.M.fd)M=wI(t,E,e.m,!!e.j,e.h.dash.initialSegmentLimit,e.K,S);else{var _=t.ba.duration||0,R=t.M.cb;M={dc:function(){return Promise.resolve(Hf(m,_,R()))}}}}catch(K){if((y||T)&&K.code==4002)return null;throw K}E=mt(c,"ContentProtection"),E=J2(E,n,e.h.dash.ignoreDrmInfo,e.h.dash.keySystemsByURI),E=new Set(E?[E]:[]),C=!1,mt(c,"SupplementalProperty").some(function(K){return K.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&K.getAttribute("value")=="JOC"})&&(C=!0);var L=!1;y&&(L=u.includes("forced_subtitle")||u.includes("forced-subtitle"));var j;if(T&&((c=mt(c,"EssentialProperty").find(function(K){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(K.getAttribute("schemeIdUri"))}))&&(j=c.getAttribute("value")),!j))return null;var $;c=t.M.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&($="PQ"),c=t.M.id?t.ta.id+","+t.M.id:"";var H=c&&e.m[c]?e.m[c]:{id:e.I++,originalId:t.M.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){H.segmentIndex&&(H.segmentIndex.release(),H.segmentIndex=null)},segmentIndex:null,mimeType:t.M.mimeType,codecs:t.M.codecs,frameRate:t.M.frameRate,pixelAspectRatio:t.M.pixelAspectRatio,bandwidth:t.bandwidth,width:t.M.width,height:t.M.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:E,language:i,originalLanguage:t.oa.language,label:o,type:t.oa.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:t.M.emsgSchemeIdUris,roles:u,forced:L,channelsCount:t.M.Td,audioSamplingRate:t.M.audioSamplingRate,spatialAudio:C,closedCaptions:l,hdr:$,videoLayout:void 0,tilesLayout:j,accessibilityPurpose:h,external:!1,fastSwitching:!1};return H.createSegmentIndex=function(){var K;return O(function(W){if(W.g==1)return H.segmentIndex?W.B(0):(K=H,I(W,M.dc(),3));K.segmentIndex=W.h,J(W)})},c&&t.zb&&!e.m[c]&&(e.m[c]=H),H}function VI(e){var t,n;O(function(r){switch(r.g){case 1:return t=0,Ce(r,2),I(r,Gh(e),4);case 4:t=r.h,ae(r,3);break;case 2:if(n=Y(r),e.i){if(e.h.raiseFatalErrorOnManifestUpdateRequestFailure)return e.i.onError(n),r.return();n.severity=1,e.i.onError(n)}case 3:if(!e.i)return r.return();e.i.onManifestUpdated(),Wh(e,t),J(r)}})}function Wh(e,t){0>e.F||e.G.U(Math.max(e.F-t,b(e.H)))}function qh(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Td:null,audioSamplingRate:null,ac:0,jf:0},r=r||n.cb;var i=t.getAttribute("id"),o=mt(t,"BaseURL"),s,u=!1;if(e.g)for(var l=w(o),c=l.next();!c.done;c=l.next()){var h=c.value;c=h.getAttribute("serviceLocation"),h=Yi(h),c&&h&&(os(e.g,i,c,h),u=!0)}u&&e.g||(s=o.map(Yi)),l=t.getAttribute("contentType")||n.contentType,c=t.getAttribute("mimeType")||n.mimeType,h=t.getAttribute("codecs")||n.codecs;var m=He(t,"frameRate",HS)||n.frameRate,T=t.getAttribute("sar")||n.pixelAspectRatio,y=HI(mt(t,"InbandEventStream"),n.emsgSchemeIdUris),S=mt(t,"AudioChannelConfiguration");S=KI(S)||n.Td;var E=He(t,"audioSamplingRate",hn)||n.audioSamplingRate;l||(l=o0(c,h));var C=hr(t,"SegmentBase"),k=hr(t,"SegmentTemplate"),M=C&&He(C,"availabilityTimeOffset",$s)||0,_=k&&He(k,"availabilityTimeOffset",$s)||0,R=o&&o.length&&He(o[0],"availabilityTimeOffset",$s)||0;return M=n.ac+R+M+_,_=null,(R=hr(t,"SegmentSequenceProperties"))&&(R=hr(R,"SAP"))&&(_=He(R,"cadence",_a)),{cb:function(){return tn(r(),o.length?e.g&&u?vu(e.g,i):s||[]:[])},ed:C||n.ed,Fb:hr(t,"SegmentList")||n.Fb,fd:k||n.fd,width:He(t,"width",hn)||n.width,height:He(t,"height",hn)||n.height,contentType:l,mimeType:c,codecs:h,frameRate:m,pixelAspectRatio:T,emsgSchemeIdUris:y,id:i,language:t.getAttribute("lang"),Td:S,audioSamplingRate:E,ac:M,jf:_||n.jf}}function HI(e,t){t=t.slice(),e=w(e);for(var n=e.next();!n.done;n=e.next())n=n.value.getAttribute("schemeIdUri"),t.includes(n)||t.push(n);return t}function KI(e){e=w(e);for(var t=e.next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(n,10),!t)continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16),!t)continue;for(e=0;t;)t&1&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}function zI(e){var t=e.ed?1:0;return t+=e.Fb?1:0,t+=e.fd?1:0,t==0?e.contentType==ze||e.contentType=="application":(t!=1&&(e.ed&&(e.Fb=null),e.fd=null),!0)}function i0(e,t,n,r){var i,o,s,u,l,c;return O(function(h){if(h.g==1)return i=tn(t(),[n]),o=Gt(i,e.h.retryParameters),o.method=r,s=e.i.networkingEngine.request(4,o),$i(e.C,s),I(h,s.promise,2);if(u=h.h,r=="HEAD"){if(!u.headers||!u.headers.date)return h.return(0);l=u.headers.date}else l=gt(u.data);return c=Date.parse(l),isNaN(c)?h.return(0):h.return(c-Date.now())})}function $I(e,t,n){var r,i,o,s,u,l,c,h;return O(function(m){switch(m.g){case 1:r=n.map(function(T){return{scheme:T.getAttribute("schemeIdUri"),value:T.getAttribute("value")}}),i=e.h.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=w(r),s=o.next();case 2:if(s.done){m.B(4);break}switch(u=s.value,Ce(m,5),l=u.scheme,c=u.value,l){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return m.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return m.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return h=Date.parse(c),m.return(isNaN(h)?0:h-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":X("NTP UTCTiming scheme is not supported");break;default:X("Unrecognized scheme in UTCTiming element",l)}m.B(9);break;case 7:return I(m,i0(e,t,c,"HEAD"),10);case 10:return m.return(m.h);case 8:return I(m,i0(e,t,c,"GET"),11);case 11:return m.return(m.h);case 9:ae(m,3);break;case 5:Y(m);case 3:s=o.next(),m.B(2);break;case 4:return X("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),m.return(0)}})}function GI(e,t,n,r,i){var o=r.getAttribute("schemeIdUri")||"",s=r.getAttribute("value")||"",u=He(r,"timescale",hn)||1;r=w(mt(r,"Event"));for(var l=r.next();!l.done;l=r.next()){l=l.value;var c=He(l,"presentationTime",hn)||0,h=He(l,"duration",hn)||0;c=c/u+t,h=c+h/u,n!=null&&(c=Math.min(c,t+n),h=Math.min(h,t+n)),h<i||(l={schemeIdUri:o,value:s,startTime:c,endTime:h,id:l.getAttribute("id")||"",eventElement:l},e.i.onTimelineRegionAdded(l))}}function WI(e,t,n,r,i){var o,s,u,l;return O(function(c){return c.g==1?(o=Lr,s=i?0:1,u=Ka(t,n,r,e.h.retryParameters),I(c,Xh(e,u,o,{type:s}),2)):(l=c.h,c.return(l.data))})}function o0(e,t){return t=Nn(e,t),ua(t)?ze:e.split("/")[0]}function Xh(e,t,n,r){return t=e.i.networkingEngine.request(n,t,r),$i(e.C,t),t.promise}ue("shaka.dash.DashParser",Al),dr["application/dash+xml"]=function(){return new Al},dr["video/vnd.mpeg.dash.mpd"]=function(){return new Al};function Cl(){}ue("shaka.dependencies",Cl),Cl.has=function(e){return Yh.has(e)},Cl.add=function(e,t){if(!u0[e])throw Error(e+" is not supported");e==s0?cr("mux.js","mux.js is no longer used in Shaka Player."):Yh.set(e,function(){return t})};var s0="muxjs",u0={cj:s0,ISOBoxer:"ISOBoxer"};Cl.Allowed=u0;var Yh=new Map([["ISOBoxer",function(){return v.ISOBoxer}]]);function a0(e,t,n){this.type=e,this.g=t,this.segments=n||null}function Jh(e,t,n,r){this.id=e,this.name=t,this.g=n,this.value=r===void 0?null:r}Jh.prototype.toString=function(e){function t(i){return i.name+"="+(isNaN(Number(i.value))?'"'+i.value+'"':i.value)}var n="#"+this.name,r=this.g?this.g.filter(function(i){return e?!e.has(i.name):!0}).map(t):[];return this.value&&r.unshift(this.value),0<r.length&&(n+=":"+r.join(",")),n};function l0(e){var t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI");return e.toString(t)}Jh.prototype.getAttribute=function(e){var t=this.g.filter(function(n){return n.name==e});return t.length?t[0]:null};function ye(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function It(e,t){if(e=e.getAttribute(t),!e)throw new P(2,4,4023,t);return e.value}function c0(e,t,n){n=n===void 0?[]:n,this.g=t,this.h=e,this.fb=n}function f0(e,t){this.name=e,this.value=t}function Cr(e,t){return e.filter(function(n){return n.name==t})}function h0(e,t){return e.filter(function(n){return It(n,"TYPE")==t})}function nn(e,t){e=w(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function us(e,t,n){return n=n===void 0?0:n,(e=nn(e,t))?Number(e.value):n}function no(e,t,n){return t?d0(e,[t],n):[]}function d0(e,t,n){if(!t.length)return[];t=tn(e,t),e=[],t=w(t);for(var r=t.next();!r.done;r=t.next()){var i=e,o=i.push,s=r.value;if((r=n)&&r.size){s=String(s).replace(/%7B/g,"{").replace(/%7D/g,"}");var u=s.match(/{\$\w*}/g);if(u){u=w(u);for(var l=u.next();!l.done;l=u.next()){l=l.value;var c=l.slice(2,l.length-1),h=r.get(c);if(h)s=s.replace(l,h);else throw new P(2,4,4039,c)}}r=s}else r=s;o.call(i,r)}return e}function ro(e){this.h=e||"",this.g=0}function as(e){Ai(e,/[ \t]+/gm)}function Ai(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function io(e){return e.g==e.h.length?null:(e=Ai(e,/[^ \t\n]*/gm))?e[0]:null}function qI(){this.g=0}function Qh(e,t){t=gt(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new P(2,4,4015);t=0;for(var r=!0,i=w(n),o=i.next();!o.done;o=i.next())if(o=o.value,/^#(?!EXT)/m.test(o)||r)r=!1;else if(o=Zh(e,o),--e.g,p0.includes(o.name)){t=1;break}else o.name=="EXT-X-STREAM-INF"&&(r=!0);for(i=[],r=!0,o=0;o<n.length;o++){var s=n[o],u=n[o+1];if(/^#(?!EXT)/m.test(s)||r)r=!1;else{if(s=Zh(e,s),XI.includes(s.name)){if(t!=1)throw new P(2,4,4017);s=n.splice(o,n.length-o),n=[],r=[],o=[],u=null,s=w(s);for(var l=s.next();!l.done;l=s.next())l=l.value,/^(#EXT)/.test(l)?(l=Zh(e,l),p0.includes(l.name)?i.push(l):l.name=="EXT-X-MAP"?u=l:l.name=="EXT-X-PART"?o.push(l):l.name=="EXT-X-PRELOAD-HINT"?ye(l,"TYPE")=="PART"?o.push(l):ye(l,"TYPE")=="MAP"&&(l.name="EXT-X-MAP",u=l):r.push(l)):/^#(?!EXT)/m.test(l)||(l=l.trim(),u&&r.push(u),n.push(new c0(l,r,o)),r=[],o=[]);return o.length&&(u&&r.push(u),n.push(new c0("",r,o))),new a0(t,i,n)}i.push(s),s.name=="EXT-X-STREAM-INF"&&(s.g.push(new f0("URI",u)),r=!0)}}return new a0(t,i)}function Zh(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new P(2,4,4016,t);t=n[1];var r=n[2];n=[];var i;if(r){r=new ro(r);var o;(o=Ai(r,/^([^,=]+)(?:,|$)/g))&&(i=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=Ai(r,s);)n.push(new f0(o[1],o[2]||o[3])),as(r)}return new Jh(e,t,n,i)}var p0="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF".split(" "),XI="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function g0(){}function m0(e){try{var t=ed(e);return Po({uri:e,originalUri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return zi(n)}}function ed(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new P(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new P(2,1,1004,e);var n=t[0];e=v.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var r=!1;1<t.length&&t[t.length-1]=="base64"&&(r=!0,t.pop());var i;return r?i=fr(e):i=Yr(e),{data:i,contentType:n}}ue("shaka.net.DataUriPlugin",g0),g0.parse=m0,qr("data",m0);function v0(e){var t=Gr(e),n=t.split("/")[0];return e=ar(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map}}function YI(e,t){function n(E){return r(E.name)}function r(E){switch(E=E.toLowerCase(),E){case"avc1":case"avc3":i.push(E+".42E01E"),s=!0;break;case"hev1":case"hvc1":i.push(E+".1.6.L93.90"),s=!0;break;case"dvh1":case"dvhe":i.push(E+".05.04"),s=!0;break;case"vp09":i.push(E+".00.10.08"),s=!0;break;case"av01":i.push(E+".0.01M.08"),s=!0;break;case"mp4a":i.push("mp4a.40.2"),o=!0;break;case"ac-3":case"ec-3":case"opus":case"flac":i.push(E),o=!0}}var i=[],o=!1,s=!1,u=null,l=null,c=null,h=null,m=null;if(new lt().box("moov",Ze).box("trak",Ze).O("tkhd",function(E){E=vm(E.reader,E.version),l=String(E.height),c=String(E.width)}).box("mdia",Ze).O("mdhd",function(E){u=Na(E.reader,E.version).language}).box("minf",Ze).box("stbl",Ze).O("stsd",Oo).box("mp4a",function(E){var C=E.reader;C.skip(6),C.skip(2),C.skip(8);var k=C.Ea();C.skip(2),C.skip(2),C.skip(2),C=C.Ea()+C.Ea()/65536,h=k,m=C,E.reader.ia()?Ze(E):n(E)}).box("esds",function(E){E=gE(E.reader),i.push(E.ha),o=!0}).box("ac-3",n).box("ec-3",n).box("opus",n).box("Opus",n).box("fLaC",n).box("avc1",function(E){E=ym(E.reader,E.name),i.push(E.ha),s=!0}).box("avc3",function(E){E=ym(E.reader,E.name),i.push(E.ha),s=!0}).box("hev1",n).box("hvc1",n).box("dvh1",n).box("dvhe",n).box("vp09",n).box("av01",n).box("enca",Ca).box("encv",Ca).box("sinf",Ze).box("frma",function(E){E=wm(E.reader).ha,r(E)}).parse(e||t,!0),!i.length)return null;var T=o&&!s,y=new Map;if(s){var S=new Dn("video/mp4");for(e&&S.init(e),S.i(t),e=w(S.j()),t=e.next();!t.done;t=e.next())t=t.value,y.set(t,t);S.h()}return{type:T?"audio":"video",mimeType:T?"audio/mp4":"video/mp4",codecs:JI(i).join(", "),language:u,height:l,width:c,channelCount:h,sampleRate:m,closedCaptions:y}}function JI(e){var t=new Set,n=[];e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=xr(r);t.has(i)||(n.push(r),t.add(i))}return n}function Ml(){var e=this;this.g=this.i=null,this.u=1,this.o=new Map,this.H=new Map,this.J=new Map,this.J.set("video",new Map),this.J.set("audio",new Map),this.J.set(ze,new Map),this.J.set("image",new Map),this.Ba=new Set,this.h=new Map,this.l=null,this.Y="",this.za=new qI,this.I=-1,this.V=1/0,this.da=this.mb=!1,this.s=new Ve(function(){TC(e)}),this.ea=_l,this.C=null,this.Aa=0,this.m=1/0,this.ma=this.ka=this.K=0,this.N=new Do,this.F=new Map,this.G=new Map,this.W=new Map,this.lb=this.A=!1,this.kb=new D(5),this.j=null}d=Ml.prototype,d.configure=function(e){this.g=e,this.j&&this.j.configure(this.g)},d.start=function(e,t){var n=this,r;return O(function(i){return i.g==1?(n.i=t,n.A=t.isLowLatencyMode(),I(i,ud(n,[e]),2)):i.g!=3?(r=i.h,n.Y=r.uri,I(i,tC(n,r.data,e),3)):i.return(n.C)})},d.stop=function(){this.s&&(this.s.stop(),this.s=null);var e=[];return this.N&&(e.push(this.N.destroy()),this.N=null),this.g=this.i=null,this.Ba.clear(),this.C=null,this.h.clear(),this.H.clear(),this.G.clear(),this.o.clear(),this.W.clear(),this.j&&this.j.destroy(),Promise.all(e)},d.update=function(){var e=this,t,n,r,i,o,s,u,l,c;return O(function(h){if(h.g==1){if(!On(e))return h.return();for(t=[],n=Array.from(e.h.values()),e.m=1/0,r=n.filter(function(m){return m.stream.segmentIndex}),i=w(r),o=i.next();!o.done;o=i.next())s=o.value,t.push(QI(e,s));return I(h,Promise.all(t),2)}M0(e,r.map(function(m){return m.stream})),u=r.some(function(m){return m.Sc==0}),r.length&&!u&&(l=xC,Rl(e,l.zg),c=r.map(function(m){return m.rb}),e.l.Pa(Math.min.apply(Math,U(c))),e.i.updateDuration()),u&&nd(e),J(h)})};function td(e,t){return On(e)?e.J.get(t.type):t.Pd}function QI(e,t){var n,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H,K,W,ee,se,he,we;return O(function(xe){if(xe.g==1){for(n=[],r=w(t.Z()),i=r.next();!i.done;i=r.next())o=i.value,s=new _t(o),u=s.g,t.sd&&(0<=t.Xa&&u.add("_HLS_msn",String(t.Xa)),0<=t.Ya&&u.add("_HLS_part",String(t.Ya))),t.td&&u.add("_HLS_skip","YES"),rg(u)&&Ls(s,u),n.push(s.toString());return I(xe,ud(e,n,!0),2)}if(l=xe.h,!t.stream.segmentIndex)return xe.return();if(c=Qh(e.za,l.data),c.type!=1)throw new P(2,4,4017);h=l.uri,h==l.originalUri||t.Z().includes(h)||t.gg.push(h),m=Cr(c.g,"EXT-X-DEFINE"),T=T0(e,m,h),y=t.stream,S=td(e,t),E=P0(c,y.mimeType),C=E.keyIds,k=E.drmInfos,M=function(_e,me){return _e.size===me.size&&[].concat(U(_e)).every(function(Lt){return me.has(Lt)})},M(y.keyIds,C)||(y.keyIds=C,y.drmInfos=k,e.i.newDrmInfo(y)),_=j0(e,c,y,S,T,t.Z),R=_.segments,(L=_.bandwidth)&&(y.bandwidth=L),y.segmentIndex.Wc(R,e.l.eb()),R.length&&(j=us(c.g,"EXT-X-MEDIA-SEQUENCE",0),H=($=nn(c.g,"EXT-X-SKIP"))?Number(ye($,"SKIPPED-SEGMENTS")):0,K=R0(j,R),W=K.Xa,ee=K.Ya,t.Xa=W+H,t.Ya=ee,se=S.get(j),y.segmentIndex.bb(se)),he=R[0],t.Sb=he.startTime,we=R[R.length-1],t.rb=we.endTime,nn(c.g,"EXT-X-ENDLIST")&&(t.Sc=!0),id(e,c),J(xe)})}d.onExpirationUpdated=function(){},d.onInitialVariantChosen=function(){},d.banLocation=function(e){this.j&&this.j.i.set(e,Date.now()+6e4)};function ZI(e,t){for(var n=e.I==-1,r=w(t),i=r.next();!i.done;i=r.next()){i=i.value;var o=i.stream.segmentIndex,s=td(e,i);if(o=o.g[0]||null){s=w(s);for(var u=s.next();!u.done;u=s.next()){u=w(u.value);var l=u.next().value;if(u.next().value==o.startTime){n&&(e.I=Math.max(e.I,l)),i.qe=l;break}}}}if(!(0>e.I))for(t=w(t),i=t.next();!i.done;i=t.next())n=i.value,(r=n.stream.segmentIndex)&&(r.g.splice(0,e.I-n.qe),(r=r.g[0]||null)&&(r=-r.startTime,n.stream.segmentIndex.offset(r),y0(e,n,r)))}function eC(e,t){if(e.V==1/0){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value.stream.segmentIndex.g[0]||null;r!=null&&r.ca!=null&&(e.V=Math.min(e.V,r.ca))}}if(t=e.V,t!=1/0)for(r=w(e.h.values()),n=r.next();!n.done;n=r.next()){n=n.value;var i=n.stream.segmentIndex;if(i!=null){var o=i.g[0]||null;if(o.ca==null)Z("Missing EXT-X-PROGRAM-DATE-TIME for stream",n.Z(),"Expect AV sync issues!");else for(y0(e,n,o.ca-t-o.startTime),n=w(i),i=n.next();!i.done;i=n.next())i.value.tf(t)}}}function y0(e,t,n){t.Sb+=n,t.rb+=n,e=td(e,t);for(var r=w(e),i=r.next();!i.done;i=r.next()){var o=w(i.value);i=o.next().value,o=o.next().value,e.set(i,o+n)}t.Z()}function tC(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H,K,W,ee,se,he,we,xe,_e;return O(function(me){switch(me.g){case 1:return r=Qh(e.za,t),i=Cr(r.g,"EXT-X-DEFINE"),o=[],s=[],u=[],r.type==1?(E=function(){return[n]},I(me,w0(e,r,E),6)):(nC(e,i),l=Cr(r.g,"EXT-X-MEDIA"),c=Cr(r.g,"EXT-X-STREAM-INF"),h=Cr(r.g,"EXT-X-IMAGE-STREAM-INF"),m=Cr(r.g,"EXT-X-I-FRAME-STREAM-INF"),T=Cr(r.g,"EXT-X-SESSION-KEY"),y=Cr(r.g,"EXT-X-SESSION-DATA"),S=Cr(r.g,"EXT-X-CONTENT-STEERING"),iC(e,y),I(me,oC(e,S),4));case 4:return rC(e,c),hC(e,l),o=lC(e,c,T,l),s=sC(e,l),I(me,uC(e,h,m),5);case 5:u=me.h,me.B(3);break;case 6:return C=me.h,k=C.type,M=C.mimeType,_=C.codecs,R=C.language,L=C.height,j=C.width,$=C.channelCount,H=C.sampleRate,K=C.closedCaptions,I(me,k0(e,e.u++,r,E,n,_,k,R,!0,"Media Playlist",$,K,null,!1,H,!1,M),7);case 7:W=me.h,e.h.set(n,W),k=="video"&&b0(W.stream,j,L,null,null,null),o.push({id:0,language:Je(R||"und"),disabledUntilTime:0,primary:!0,audio:k=="audio"?W.stream:null,video:k=="video"?W.stream:null,bandwidth:W.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.i)throw new P(2,7,7001);if(e.l=new De(null,0),e.l.pc(!0),r.type==1&&(On(e)&&(N0(e,r),ee=e.m,e.s.U(ee)),se=Array.from(e.h.values()),rd(e,se),nd(e)),e.C={presentationTimeline:e.l,variants:o,textStreams:s,imageStreams:u,offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null},e.da||!e.g.hls.disableCodecGuessing){me.B(8);break}for(he=[],we=w(e.C.variants),xe=we.next();!xe.done;xe=we.next())_e=xe.value,_e.audio&&_e.audio.codecs===""&&he.push(_e.audio.createSegmentIndex()),_e.video&&_e.video.codecs===""&&he.push(_e.video.createSegmentIndex());return I(me,Promise.all(he),8);case 8:e.i.makeTextStreamsForClosedCaptions(e.C),J(me)}})}function w0(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R;return O(function(L){switch(L.g){case 1:if(r=v0(e.g.hls.mediaPlaylistFullMimeType),!t.segments.length)return L.return(r);if(i=Math.trunc((t.segments.length-1)/2),o=t.segments[i],s=no(n(),t.segments[0].h),u=s[0],l=new _t(u),c=l.Ga.split(".").pop(),h=U0[c])return L.return(v0(h));if(m=Lr,T=null,y=L0(e,t,o.g,n),e.W.clear(),!y){L.B(2);break}return S=Ka(y.Z(),y.ic(),y.fc(),e.g.retryParameters),I(L,ls(e,S,m,{type:0}),3);case 3:E=L.h,T=E.data;case 2:return C=Gt(s,e.g.retryParameters),I(L,ls(e,C,m,{type:1}),4);case 4:if(k=L.h,(M=k.headers["content-type"])&&(M=M.split(";")[0].toLowerCase()),c=="ts"||M=="video/mp2t"){var j=k.data,$=Me(j);$=new st().parse($);var H=$.Pc();$=$.Je();var K=[],W=!1,ee=!1;switch(H.audio){case"aac":K.push("mp4a.40.2"),W=!0;break;case"mp3":K.push("mp4a.40.34"),W=!0;break;case"ac3":K.push("ac-3"),W=!0;break;case"ec3":K.push("ec-3"),W=!0}switch(H.video){case"avc":$.ha?K.push($.ha):K.push("avc1.42E01E"),ee=!0;break;case"hvc":$.ha?K.push($.ha):K.push("hvc1.1.6.L93.90"),ee=!0}if(K.length){if(H=W&&!ee,W=new Map,ee){ee=new Dn("video/mp2t"),ee.i(j),j=w(ee.j());for(var se=j.next();!se.done;se=j.next())se=se.value,W.set(se,se);ee.h()}$={type:H?"audio":"video",mimeType:"video/mp2t",codecs:K.join(", "),language:null,height:$.height,width:$.width,channelCount:null,sampleRate:null,closedCaptions:W}}else $=null;if(_=$)return L.return(_)}else if((c=="mp4"||c=="cmfv"||c=="m4s"||M=="video/mp4"||M=="audio/mp4"||M=="video/iso.segment")&&(R=YI(T,k.data)))return L.return(R);return L.return(r)}})}function nd(e){if(On(e)){if(e.ea==Pl){var t=gC(e);e.g.hls.useSafariBehaviorForLive&&(t=e.l.o),isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.Xd(t)}if(!e.l.m){t=Array.from(e.h.values()).filter(function(r){return r.stream.segmentIndex}),t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,(n.type=="audio"||n.type=="video")&&(n=n.stream.segmentIndex.get(0))&&n.ca&&e.l.qf(n.ca)}}else e.l.Pa(C0(e));e.l.Nd()}function nC(e,t){var n=new _t(e.Y).g;t=w(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=ye(i,"NAME");var o=ye(i,"VALUE");i=ye(i,"QUERYPARAM"),r&&o&&(e.o.has(r)||e.o.set(r,o)),i&&(r=n.get(i)[0])&&!e.o.has(r)&&e.o.set(i,r)}}function T0(e,t,n){n=new _t(n).g;var r=new Map;t=w(t);for(var i=t.next();!i.done;i=t.next()){var o=i.value,s=ye(o,"NAME"),u=ye(o,"VALUE");i=ye(o,"QUERYPARAM"),o=ye(o,"IMPORT"),s&&u&&(r.has(s)||r.set(s,u)),i&&(s=n.get(i)[0])&&!r.has(s)&&r.set(i,s),o&&(i=e.o.get(o))&&r.set(o,i)}return r}function rC(e,t){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=ye(r,"AUDIO");n=ye(r,"VIDEO");var o=ye(r,"SUBTITLES");if(r=x0(e,r),o){var s=Tn(ze,r);e.G.set(o,s),Tr(r,s)}i&&(o=Tn("audio",r),o||(o=e.g.hls.defaultAudioCodec),e.G.set(i,o)),n&&(i=Tn("video",r),i||(i=e.g.hls.defaultVideoCodec),e.G.set(n,i))}}function iC(e,t){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=ye(r,"DATA-ID");n=ye(r,"URI");var o=ye(r,"LANGUAGE");r=ye(r,"VALUE"),i=new Map().set("id",i),n&&i.set("uri",no([e.Y],n,e.o)[0]),o&&i.set("language",o),r&&i.set("value",r),n=new Ee("sessiondata",i),e.i&&e.i.onEvent(n)}}function oC(e,t){var n,r,i,o,s,u;return O(function(l){if(!e.i||!e.g)return l.return();for(r=w(t),i=r.next();!i.done;i=r.next())if(o=i.value,s=ye(o,"PATHWAY-ID"),u=ye(o,"SERVER-URI"),s&&u){e.j=new gu(e.i),e.j.configure(e.g),e.j.j=[e.Y],e.j.setManifestType("HLS"),e.j.h=s,n=mu(e.j,u);break}return I(l,n,0)})}function sC(e,t){var n=h0(t,"SUBTITLES");t=n.map(function(s){if(e.g.disableText)return null;try{return I0(e,[s],new Map).stream}catch(u){if(e.g.hls.ignoreTextStreamFailures)return null;throw u}}),n=w(n);for(var r=n.next();!r.done;r=n.next()){var i=It(r.value,"GROUP-ID");if((r=e.G.get(i))&&(i=e.H.get(i))){i=w(i);for(var o=i.next();!o.done;o=i.next())o=o.value,o.stream.codecs=r,o.stream.mimeType=od(ze,r)||sd(ze)}}return t.filter(function(s){return s})}function uC(e,t,n){var r,i;return O(function(o){return o.g==1?(r=t.map(function(s){var u,l;return O(function(c){if(c.g==1)return e.g.disableThumbnails?c.return(null):(Ce(c,2),I(c,dC(e,s),4));if(c.g!=2)return u=c.h,c.return(u.stream);if(l=Y(c),e.g.hls.ignoreImageStreamFailures)return c.return(null);throw l})}).concat(n.map(function(s){if(e.g.disableThumbnails)return null;try{var u=It(s,"URI"),l=ye(s,"CODECS")||"";if(e.h.has(u))var c=e.h.get(u);else{var h=ye(s,"LANGUAGE"),m=ye(s,"NAME"),T=ye(s,"CHARACTERISTICS"),y=kl(e,e.u++,[u],l,"image",h,!1,m,null,null,T,!1,null,!1),S=ye(s,"RESOLUTION"),E=w(S?S.split("x"):[null,null]),C=E.next().value,k=E.next().value;y.stream.width=Number(C)||void 0,y.stream.height=Number(k)||void 0;var M=ye(s,"BANDWIDTH");M&&(y.stream.bandwidth=Number(M)),e.h.set(u,y),c=y}return s=c,s.stream.codecs!=="mjpg"?null:s.stream}catch(_){if(e.g.hls.ignoreImageStreamFailures)return null;throw _}})),I(o,Promise.all(r),2)):(i=o.h,o.return(i.filter(function(s){return s})))})}function aC(e,t,n){t=t.filter(function(u){var l=ye(u,"URI")||"";return ye(u,"TYPE")!="SUBTITLES"&&l!=""});var r={};t=w(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=l0(i);r[o]?r[o].push(i):r[o]=[i]}for(var s in r)I0(e,r[s],n)}function lC(e,t,n,r){var i=[],o=new Set;if(0<n.length){n=w(n);for(var s=n.next();!s.done;s=n.next()){s=s.value;var u=It(s,"METHOD");if(u!="NONE"&&u!="AES-128"&&(u=ye(s,"KEYFORMAT")||"identity",s=(u=B0[u])?u(s,""):null)){if(s.keyIds){u=w(s.keyIds);for(var l=u.next();!l.done;l=u.next())o.add(l.value)}i.push(s)}}}for(n={},t=w(t),s=t.next();!s.done;s=t.next())s=s.value,u=l0(s),n[u]?n[u].push(s):n[u]=[s];t=[];for(var c in n){l=n[c];var h=l[0];s=ye(h,"FRAME-RATE"),u=Number(ye(h,"AVERAGE-BANDWIDTH"))||Number(It(h,"BANDWIDTH"));var m=ye(h,"RESOLUTION"),T=w(m?m.split("x"):[null,null]);m=T.next().value,T=T.next().value;var y=ye(h,"VIDEO-RANGE");(h=ye(h,"REQ-VIDEO-LAYOUT"))&&h.includes(",")&&(h=h.split(",").filter(function(S){return S=="CH-STEREO"||S=="CH-MONO"})[0]),h=h||"CH-MONO",l=cC(e,l,r,u),t.push.apply(t,U(fC(e,l.audio,l.video,u,m,T,s,y,h,i,o)))}return t.filter(function(S){return S!=null})}function cC(e,t,n,r){for(var i={audio:[],video:[]},o=new Map,s=[],u=!1,l=!1,c=w(t),h=c.next();!h.done;h=c.next()){var m=h.value;h=ye(m,"AUDIO");var T=ye(m,"VIDEO"),y=h||T;y&&(s.includes(y)||s.push(y),(m=ye(m,"PATHWAY-ID"))&&o.set(y,m),h?u=!0:T&&(l=!0))}s.length&&n.length&&(c=n.filter(function(C){return s.includes(It(C,"GROUP-ID"))}),aC(e,c,o)),c=(o=s.sort().join(","))&&e.H.has(o)?e.H.get(o):[],u?i.audio.push.apply(i.audio,U(c)):l&&i.video.push.apply(i.video,U(c)),h=!1;var S=t.map(function(C){return It(C,"URI")});if(l=i.audio.find(function(C){return C&&C.Z().find(function(k){return S.includes(k)})}),u=x0(e,t[0]),T=Tn("video",u),(y=Tn("audio",u))&&!T?(l="audio",h=0<i.audio.length):!i.audio.length&&!i.video.length&&y&&T?(l="video",u=[[T,y].join()]):i.audio.length&&l?(l="audio",h=!0):l=i.video.length&&!i.audio.length?"audio":"video",!h){var E=m=y=T=h=null;!c.length&&(n=n.find(function(C){var k=ye(C,"URI")||"",M=ye(C,"TYPE");return C=It(C,"GROUP-ID"),M!="SUBTITLES"&&k==""&&s.includes(C)}))&&(h=ye(n,"LANGUAGE"),T=ye(n,"NAME"),y=S0(n),A0(n),m=ye(n,"CHARACTERISTICS"),E=E0(n)),e=pC(e,t,u,l,h,T,y,m,E),o&&(e.stream.groupId=o),c.length||(e.stream.bandwidth=r),i[e.stream.type]=[e]}return i}function x0(e,t){var n=ye(t,"CODECS")||"";e.da=0<n.length,e.da||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),n=t.join(",")),e=new Set,t=[],n=w(n.split(/\s*,\s*/));for(var r=n.next();!r.done;r=n.next()){r=r.value;var i=xr(r);e.has(i)||(t.push(r),e.add(i))}return t}function S0(e){return(e=ye(e,"CHANNELS"))?parseInt(e.split("/")[0],10):null}function E0(e){return(e=ye(e,"SAMPLE-RATE"))?parseInt(e,10):null}function A0(e){return(e=ye(e,"CHANNELS"))?e.includes("/JOC"):!1}function fC(e,t,n,r,i,o,s,u,l,c,h){for(var m=w(n),T=m.next();!T.done;T=m.next())b0(T.value.stream,i,o,s,u,l);for(i=e.g.disableAudio,(!t.length||i)&&(t=[null]),i=e.g.disableVideo,(!n.length||i)&&(n=[null]),i=[],t=w(t),o=t.next();!o.done;o=t.next())for(o=o.value,s=w(n),u=s.next();!u.done;u=s.next()){var y=u.value;(u=o?o.stream:null)&&(u.drmInfos=c,u.keyIds=h),(l=y?y.stream:null)&&(l.drmInfos=c,l.keyIds=h),m=o?o.stream.drmInfos:null,T=y?y.stream.drmInfos:null,y=y?y.Z().sort().join(","):"";var S=o?o.Z().sort().join(","):"";y=y+" - "+S,u&&l&&!om(m,T)||e.Ba.has(y)||(u={id:e.u++,language:u?u.language:"und",disabledUntilTime:0,primary:!!u&&u.primary||!!l&&l.primary,audio:u,video:l,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(u),e.Ba.add(y))}return i}function hC(e,t){t=h0(t,"CLOSED-CAPTIONS"),t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=ye(r,"LANGUAGE");n=Je(i||"und"),i||(i=ye(r,"NAME"))&&(n=i),i=It(r,"GROUP-ID"),r=It(r,"INSTREAM-ID").replace("SERVICE","svc"),e.F.get(i)||e.F.set(i,new Map),e.F.get(i).set(r,n)}}function I0(e,t,n){for(var r=[],i=[],o=new Map,s=w(t),u=s.next();!u.done;u=s.next()){var l=u.value;u=It(l,"URI"),l=It(l,"GROUP-ID"),r.push(u),i.push(l),o.set(l,u)}if(s=i.sort().join(","),u=t[0],t="",l=It(u,"TYPE").toLowerCase(),l=="subtitles"&&(l=ze),l==ze)t=ye(u,"CODECS")||"";else{i=w(i);for(var c=i.next();!c.done;c=i.next())if(c=c.value,e.G.has(c)){t=e.G.get(c);break}}if(i=r.sort().join(","),e.h.has(i))return e.h.get(i);if(c=e.u++,e.j){o=w(o);for(var h=o.next();!h.done;h=o.next()){var m=w(h.value);h=m.next().value,m=m.next().value,(h=n.get(h))&&os(e.j,c,h,m)}}n=ye(u,"LANGUAGE"),o=ye(u,"NAME"),h=ye(u,"DEFAULT")=="YES",m=l=="audio"?S0(u):null;var T=l=="audio"?A0(u):!1,y=ye(u,"CHARACTERISTICS"),S=ye(u,"FORCED")=="YES";return u=l=="audio"?E0(u):null,r=kl(e,c,r,t,l,n,h,o,m,null,y,S,u,T),r.stream&&(r.stream.groupId=s),e.H.has(s)?e.H.get(s).push(r):e.H.set(s,[r]),e.h.set(i,r),r}function dC(e,t){var n,r,i,o,s,u,l,c,h,m;return O(function(T){return T.g==1?(n=It(t,"URI"),r=ye(t,"CODECS","jpeg")||"",e.h.has(n)?T.return(e.h.get(n)):(i=ye(t,"LANGUAGE"),o=ye(t,"NAME"),s=ye(t,"CHARACTERISTICS"),u=kl(e,e.u++,[n],r,"image",i,!1,o,null,null,s,!1,null,!1),(l=ye(t,"RESOLUTION"))?I(T,u.stream.createSegmentIndex(),3):T.B(2))):(T.g!=2&&(c=u.stream.segmentIndex.get(0),h=c.tilesLayout)&&(u.stream.width=Number(l.split("x")[0])*Number(h.split("x")[0]),u.stream.height=Number(l.split("x")[1])*Number(h.split("x")[1])),(m=ye(t,"BANDWIDTH"))&&(u.stream.bandwidth=Number(m)),e.h.set(n,u),T.return(u))})}function pC(e,t,n,r,i,o,s,u,l){for(var c=e.u++,h=[],m=w(t),T=m.next();!T.done;T=m.next()){var y=T.value;T=It(y,"URI"),y=ye(y,"PATHWAY-ID"),e.j&&y&&os(e.j,c,y,T),h.push(T)}if(m=h.sort().join(","),e.h.has(m))return e.h.get(m);e:{if(t=ye(t[0],"CLOSED-CAPTIONS"),r=="video"){if(t&&t!="NONE"){t=e.F.get(t);break e}if(!t&&e.F.size)for(t=w(e.F.keys()).next();!t.done;){t=e.F.get(t.value);break e}}t=null}return n=To(r,n),r=kl(e,c,h,n,r,i,!1,o,s,t,u,!1,l,!1),e.h.set(m,r),r}function kl(e,t,n,r,i,o,s,u,l,c,h,m,T,y){function S(L){var j,$,H,K,W,ee,se,he,we,xe,_e,me,Lt,qt,vr,gn,Mr;return O(function(et){switch(et.g){case 1:return j=M.Z(),I(et,ud(e,M.Z(),!0),2);case 2:if($=et.h,L.aborted)return et.return();if(H=$.uri,H==$.originalUri||j.includes(H)||k.push(H),K=Qh(e.za,$.data),W=void 0,e.da||!e.g.hls.disableCodecGuessing){et.B(3);break}return I(et,w0(e,K,E),4);case 4:ee=et.h,W=ee.mimeType,r=ee.codecs;case 3:return se=On(e),I(et,k0(e,0,K,E,H,r,i,o,s,u,l,c,h,m,T,y,W),5);case 5:if(he=et.h,L.aborted)return et.return();if(we=he.stream,On(e)&&!se&&N0(e,K),M.Sb=he.Sb,M.rb=he.rb,M.td=he.td,M.sd=he.sd,M.Sc=he.Sc,M.Pd=he.Pd,M.Xa=he.Xa,M.Ya=he.Ya,M.Se=!0,C.segmentIndex=we.segmentIndex,C.encrypted=we.encrypted,C.drmInfos=we.drmInfos,C.keyIds=we.keyIds,C.mimeType=we.mimeType,C.bandwidth=C.bandwidth||we.bandwidth,C.codecs=C.codecs||we.codecs,C.drmInfos.length&&e.i.newDrmInfo(C),xe=Vt,i==xe.$||i==xe.P)for(_e=w(e.h.values()),me=_e.next();!me.done;me=_e.next())Lt=me.value,Lt.Se||Lt.type!=i||(Lt.stream.mimeType=we.mimeType);i==xe.na&&(qt=we.segmentIndex.get(0))&&qt.aa&&(C.mimeType="application/mp4"),mC(e)&&(e.mb?rd(e,[M]):(e.mb=!0,vr=Array.from(e.h.values()),gn=vr.filter(function(Cn){return Cn.stream.segmentIndex}),rd(e,gn),nd(e),Mr=e.m,0<Mr&&e.s.U(Mr))),J(et)}})}function E(){return e.j&&1<n.length?vu(e.j,t):k.concat(d0([e.Y],n,e.o))}var C=_0(e,r,i,o,s,u,l,c,h,m,T,y),k=[],M={stream:C,type:i,gg:k,Z:E,Sb:0,rb:0,Pd:new Map,td:!1,sd:!1,Sc:!1,qe:-1,Xa:-1,Ya:-1,Se:!1},_=null,R=new AbortController;return C.createSegmentIndex=function(){return _||(R=new AbortController,_=new Promise(function(L){L(S(R.signal))}))},C.closeSegmentIndex=function(){_&&!C.segmentIndex&&R.abort(),C.segmentIndex&&(C.segmentIndex.release(),C.segmentIndex=null),_=null},M}function C0(e){var t=1/0;e=w(e.h.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&(t=Math.min(t,n.rb));return t}function gC(e){var t=1/0,n=1/0;e=w(e.h.values());for(var r=e.next();!r.done;r=e.next())r=r.value,r.stream.segmentIndex&&r.stream.type!="text"&&(t=Math.min(t,r.rb),n=Math.min(n,r.Sb));return t-n}function M0(e,t){var n=[];t=w(t);for(var r=t.next();!r.done;r=t.next())r=r.value,r.segmentIndex&&Vf(r.segmentIndex,function(i){n.push(i)});e.l.Xc(n)}function rd(e,t){if(!On(e))for(var n=C0(e),r=w(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.bc(0,n);M0(e,t.map(function(o){return o.stream})),e.g.hls.ignoreManifestProgramDateTime?ZI(e,t):eC(e,t)}function mC(e){if(!e.C)return!1;var t=[],n=[];e=w(e.C.variants);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some(function(i){return i.segmentIndex})||0<n.length&&!n.some(function(i){return i.segmentIndex}))}function k0(e,t,n,r,i,o,s,u,l,c,h,m,T,y,S,E,C){var k,M,_,R,L,j,$,H,K,W,ee,se,he,we,xe,_e,me,Lt,qt,vr,gn,Mr,et;return O(function(Cn){if(Cn.g==1){if(n.type!=1)throw new P(2,4,4017);k=Cr(n.g,"EXT-X-DEFINE"),M=T0(e,k,i);var mn=nn(n.g,"EXT-X-PLAYLIST-TYPE"),Vn=nn(n.g,"EXT-X-ENDLIST");return Vn=mn&&mn.value=="VOD"||Vn,mn=mn&&mn.value=="EVENT"&&!Vn,mn=!Vn&&!mn,Vn?Rl(e,_l):mn?Rl(e,Pl):Rl(e,V0),On(e)&&id(e,n),C?Cn.B(2):I(Cn,wC(e,s,o,n,M,r),3)}if(Cn.g!=2&&(C=Cn.h),_=P0(n,C),R=_.drmInfos,L=_.keyIds,j=_.encrypted,$=_.Dg,j&&!R.length&&!$)throw new P(2,4,4026);return H=_0(e,o,s,u,l,c,h,m,T,y,S,E),H.encrypted=j,H.drmInfos=R,H.keyIds=L,H.mimeType=C,K=On(e)?e.J.get(s):new Map,W=j0(e,n,H,K,M,r),ee=W.segments,(se=W.bandwidth)&&(H.bandwidth=se),On(e)&&id(e,n),he=ee[0].startTime,we=ee[ee.length-1],xe=we.endTime,_e=new Xe(ee),H.segmentIndex=_e,Lt=(me=nn(n.g,"EXT-X-SERVER-CONTROL"))?me.getAttribute("CAN-SKIP-UNTIL")!=null:!1,qt=me?me.getAttribute("CAN-BLOCK-RELOAD")!=null:!1,vr=us(n.g,"EXT-X-MEDIA-SEQUENCE",0),gn=R0(vr,ee),Mr=gn.Xa,et=gn.Ya,Cn.return({stream:H,type:s,gg:[],Z:r,Sb:he,rb:xe,td:Lt,sd:qt,Sc:!1,qe:-1,Xa:Mr,Ya:et,Pd:K,Se:!1})})}function R0(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{Xa:e,Ya:n};t=t[t.length-1];var r=t.g;return t.g.length?(n=r.length-1,r[r.length-1].l||(e++,n=0),{Xa:e,Ya:n}):(e++,t.m&&(n=0),{Xa:e,Ya:n})}function _0(e,t,n,r,i,o,s,u,l,c,h,m){var T=od(n,t)||sd(n),y=[];if(l){l=w(l.split(","));for(var S=l.next();!S.done;S=l.next())y.push(S.value)}return l=void 0,S=null,n==ze?l=y.includes("public.accessibility.transcribes-spoken-dialog")&&y.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":y.includes("public.accessibility.describes-video")&&(S="visually impaired"),y.length||l!=="subtitle"||y.push("subtitle"),{id:e.u++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:T,codecs:t,kind:n==ze?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:Je(r||"und"),originalLanguage:r,label:o,type:n,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:y,forced:c,channelsCount:s,audioSamplingRate:h,spatialAudio:m,closedCaptions:u,hdr:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:S,external:!1,fastSwitching:!1}}function P0(e,t){var n=[];if(e.segments){e=w(e.segments);for(var r=e.next();!r.done;r=e.next())r=Cr(r.value.g,"EXT-X-KEY"),n.push.apply(n,U(r))}r=e=!1;var i=[],o=new Set;n=w(n);for(var s=n.next();!s.done;s=n.next()){s=s.value;var u=It(s,"METHOD");if(u!="NONE"){if(e=!0,u=="AES-128")r=!0;else if(u=ye(s,"KEYFORMAT")||"identity",s=(u=B0[u])?u(s,t):null){if(s.keyIds){u=w(s.keyIds);for(var l=u.next();!l.done;l=u.next())o.add(l.value)}i.push(s)}}}return{drmInfos:i,keyIds:o,encrypted:e,Dg:r}}function D0(e,t,n,r,i){if(!v.crypto||!v.crypto.subtle)throw X("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new P(2,4,4042);var o=0,s=ye(t,"IV","");if(s){var u=qi(s.substr(2));if(u.byteLength!=16)throw new P(2,4,4048)}else o=us(n.g,"EXT-X-MEDIA-SEQUENCE",0);var l={method:"AES-128",iv:u,firstMediaSequenceNumber:o,fetchKey:function(){var c,h,m,T,y;return O(function(S){if(S.g==1)return c=no(r(),It(t,"URI"),i),h=Gt(c,e.g.retryParameters),I(S,ls(e,h,6),2);if(S.g!=3){if(m=S.h,!m.data||m.data.byteLength!=16)throw new P(2,4,4049);return T={name:"AES-CBC"},y=l,I(S,v.crypto.subtle.importKey("raw",m.data,T,!0,["decrypt"]),3)}y.cryptoKey=S.h,l.fetchKey=void 0,J(S)})}};return l}function id(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var o=nn(r[i].g,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}i--}if(r=nn(t.g,"EXT-X-TARGETDURATION"),!r)throw new P(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=nn(t.g,"EXT-X-PART-INF"))&&(e.K=Number(It(i,"PART-TARGET"))),t=nn(t.g,"EXT-X-SERVER-CONTROL"),e.A&&e.K?(e.m=e.lb?5*e.K<=n?Math.min(e.K,e.m):Math.min(n,e.m):Math.min(e.K,e.m),e.ma=t?Number(It(t,"PART-HOLD-BACK")):0):(e.m=Math.min(n,e.m),n=t?t.getAttribute("HOLD-BACK"):null,e.ka=n?Number(n.value):0),e.Aa=Math.max(r,e.Aa)}function N0(e,t){if(e.g.defaultPresentationDelay)t=e.g.defaultPresentationDelay;else if(e.ma)t=e.ma;else if(e.ka)t=e.ka;else{t=t.segments.length;var n=e.g.hls.liveSegmentsDelay;n>t-2&&(n=Math.max(1,t-2)),t=e.Aa*n}e.l.qf(0),e.l.ng(t),e.l.pc(!1)}function L0(e,t,n,r,i){var o=nn(n,"EXT-X-MAP");if(!o)return null;var s=It(o,"URI"),u=no(r(),s,i);if(s=[u.toString(),ye(o,"BYTERANGE","")].join("-"),!e.W.has(s)){var l=void 0,c=null;n=w(n);for(var h=n.next();!h.done;h=n.next())h=h.value,h.name=="EXT-X-KEY"?It(h,"METHOD")=="AES-128"&&h.id<o.id&&(l=D0(e,h,t,r,i)):h.name=="EXT-X-BYTERANGE"&&h.id<o.id&&(c=h);t=vC(u,o,c,l),e.W.set(s,t)}return e.W.get(s)}function vC(e,t,n,r){var i=0,o=null;return t=ye(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(i=t.split("@"),o=Number(i[0]),i=Number(i[1]),o=i+o-1,r&&(n=o+1-i,n%16&&(o+=16-n%16))),new Wn(function(){return e},i,o,null,null,null,r)}function yC(e,t,n,r,i,o,s,u,l){var c=r.g,h=nn(c,"EXTINF"),m=0,T=0,y=null;r.fb.length&&!e.A&&X("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var S=null;if(!e.g.hls.ignoreManifestProgramDateTime){var E=nn(c,"EXT-X-PROGRAM-DATE-TIME");E&&E.value&&(S=Wg(E.value))}var C=Ti;if(nn(c,"EXT-X-GAP")&&(C=2),!h){if(r.fb.length==0)throw new P(2,4,4024,"EXTINF");if(!e.A)return null}var k=[];E=!1;var M=null,_=!1,R=!1;if(e.A&&r.fb.length){m=(s.mimeType=="video/mp4"||s.mimeType=="audio/mp4")&&v.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var L=S,j={},$=0;$<r.fb.length;j={Cc:j.Cc,md:j.md},$++){var H=r.fb[$],K=$==0?n:k[k.length-1],W=$==0?i:K.endTime,ee=Number(ye(H,"DURATION"))||e.K;if(ee){var se=W+ee,he=0,we=null;if(H.name=="EXT-X-PRELOAD-HINT"?(he=(he=ye(H,"BYTERANGE-START"))?Number(he):0,(K=ye(H,"BYTERANGE-LENGTH"))?we=he+Number(K)-1:he&&(we=Number.MAX_SAFE_INTEGER)):(he=ye(H,"BYTERANGE"),we=w(O0(K,he)),he=we.next().value,we=we.next().value),j.md=ye(H,"URI"),j.md){K=Ti,ye(H,"GAP")=="YES"&&(K=2,_=!0),j.Cc=null;var xe=function(me){return function(){return me.Cc==null&&(me.Cc=no(u(),me.md,o)),me.Cc}}(j);m&&0<=he&&we!=null&&(M=xe,E=!0),W=new Ae(W,se,xe,he,we,t,0,0,1/0,[],"",null,L,K,l),H.name=="EXT-X-PRELOAD-HINT"&&(W.Ue(),R=!0),ye(H,"INDEPENDENT")!="YES"&&0<$&&W.Od(),k.push(W),L&&(L+=ee)}}}}if(h){if(h=Number(h.value.split(",")[0]),h==0)return null;m=i+h}else if(k.length)m=k[k.length-1].endTime;else return null;E&&(_||k[0].Qa!=0?(E=!1,M=null):k=[]),(h=nn(c,"EXT-X-BYTERANGE"))?(y=w(O0(n,h.value)),T=y.next().value,y=y.next().value):k.length&&(T=k[0].Qa,y=k[k.length-1].wa),n="",h=null,s.type=="image"&&(n="1x1",s=nn(c,"EXT-X-TILES"))&&(n=It(s,"LAYOUT"),(s=ye(s,"DURATION"))&&(h=Number(s)));var _e=null;return t=new Ae(i,m,function(){return M?M():(_e==null&&(_e=no(u(),r.h,o)),_e||[])},T,y,t,0,0,1/0,k,n,h,S,C,l,0<k.length&&!!r.h),E&&(e.lb=!0,t.Zf(),R&&t.Ue()),t}function O0(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.wa+1,r=n+t-1),[n,r]}function j0(e,t,n,r,i,o){var s=t.segments,u=void 0,l=us(t.g,"EXT-X-DISCONTINUITY-SEQUENCE",0),c=us(t.g,"EXT-X-MEDIA-SEQUENCE",0),h=nn(t.g,"EXT-X-SKIP"),m=h?Number(ye(h,"SKIPPED-SEGMENTS")):0,T=c+m,y=0;On(e)&&r.has(T)&&(y=r.get(T)),y===0&&e.ea==Pl&&0<r.size&&!r.has(T)&&(y=e.l.eb());var S=[],E=null;h=[];for(var C=0;C<s.length;C++){var k=s[C],M=C==0?y:E.endTime;T=c+m+C,nn(k.g,"EXT-X-DISCONTINUITY")&&l++;for(var _=w(k.g),R=_.next();!R.done;R=_.next())R=R.value,R.name=="EXT-X-KEY"&&(It(R,"METHOD")=="AES-128"?u=D0(e,R,t,o,i):u=void 0);r.set(T,M),_=L0(e,t,k.g,o,i),!e.A&&e.i.isAutoLowLatencyMode()&&(e.i.enableLowLatencyMode(),e.A=e.i.isLowLatencyMode()),(M=yC(e,_,E,k,M,i,n,o,u))&&((E=us(k.g,"EXT-X-BITRATE"))?h.push({bitrate:E,duration:M.endTime-M.startTime}):h.length&&(E=h.pop(),E.duration+=M.endTime-M.startTime,h.push(E)),E=M,M.i=l,e.g.hls.ignoreManifestProgramDateTime&&e.I!=null&&T<e.I||S.push(M))}if(t=void 0,h.length&&(t=h.reduce(function(L,j){return L+j.duration},0),t=Math.round(h.reduce(function(L,j){return L+j.bitrate*j.duration},0)/t*1e3)),h=S.some(function(L){return L.ca!=null})){for(n={},r=0;r<S.length;n={vc:n.vc,uc:n.uc,hd:n.hd,xb:n.xb,tc:n.tc},r++)if(n.xb=S[r],n.xb.ca==null)for(n.uc=0,n.vc=r,i=function(L){return function(){var j=S[L.vc];if(j){if(j.ca!=null)return j.ca+L.uc;L.uc-=j.endTime-j.startTime,L.vc+=1}return null}}(n),n.tc=0,n.hd=r,o=function(L){return function(){var j=S[L.hd];if(j){if(j!=L.xb&&(L.tc+=j.endTime-j.startTime),j.ca!=null)return j.ca+L.tc;--L.hd}return null}}(n);n.xb.ca==null;)n.xb.ca=o(),n.xb.ca==null&&(n.xb.ca=i())}if(h)for(n=w(S),r=n.next();!r.done;r=n.next())for(i=r.value,r=i.ca,i=w(i.g),o=i.next();!o.done;o=i.next())o=o.value,o.ca=r,r+=o.endTime-o.startTime;if(e=e.V,h&&e!=1/0)for(h=w(S),r=h.next();!r.done;r=h.next())r.value.tf(e);return{segments:S,bandwidth:t}}function od(e,t){if(e==ze){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function sd(e){return e==ze?"text/vtt":F0[e].mp4}function wC(e,t,n,r,i,o){var s,u,l,c,h,m,T,y,S,E,C,k,M;return O(function(_){switch(_.g){case 1:return s=Lr,u=Math.trunc((r.segments.length-1)/2),l=no(o(),r.segments[u].h,i),c=new _t(l[0]),h=c.Ga.split(".").pop(),m=F0[t],(T=m[h])||(T=U0[h])||(T=od(t,n))?_.return(T):(S=1,E=Gt(l,e.g.retryParameters),Ce(_,2),E.method="HEAD",I(_,ls(e,E,s,{type:S}),4));case 4:C=_.h,y=C.headers["content-type"],ae(_,3);break;case 2:if(k=Y(_),!k||k.code!=1002&&k.code!=1001){_.B(3);break}return E.method="GET",I(_,ls(e,E,s,{type:S}),6);case 6:M=_.h,y=M.headers["content-type"];case 3:return y?_.return(y.split(";")[0]):_.return(sd(t))}})}function b0(e,t,n,r,i,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=o||void 0)}function ud(e,t,n){return ls(e,Gt(t,e.g.retryParameters),0,{type:n?2:3})}function TC(e){var t,n,r,i,o,s;O(function(u){switch(u.g){case 1:return e.i?(Ce(u,2),t=Date.now(),I(u,e.update(),4)):u.return();case 4:n=Date.now(),On(e)&&(r=(n-t)/1e3,e.kb.sample(1,r),i=e.m,o=Math.max(0,i-b(e.kb)),e.s.U(o)),ae(u,3);break;case 2:if(s=Y(u),!e.i)return u.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.i.onError(s),u.return();s.severity=1,e.i.onError(s),e.s.U(.1);case 3:if(!e.i)return u.return();e.i.onManifestUpdated(),J(u)}})}function On(e){return e.ea!=_l}function Rl(e,t){e.ea=t,e.l&&e.l.pc(!On(e)),On(e)||e.s.stop()}function ls(e,t,n,r){if(!e.N)throw new P(2,7,7001);return t=e.i.networkingEngine.request(n,t,r),$i(e.N,t),t.promise}ue("shaka.hls.HlsParser",Ml);var U0={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},F0={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},B0={"com.apple.streamingkeydelivery":function(e,t){if(t=="video/mp2t")throw new P(2,4,4040);if(v.shakaMediaKeysPolyfill)throw new P(2,4,4041);return yi("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=It(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=It(e,"URI"),t=ed(t),t=Me(t.data),t=yi("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=ye(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=It(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(e=It(e,"URI"),e=ed(e),e=Me(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=ka(e,t,new Set,0),yi("com.microsoft.playready",[{initDataType:"cenc",initData:e}])):null},identity:function(e,t){if(t=="video/mp2t")throw new P(2,4,4040);if(v.shakaMediaKeysPolyfill)throw new P(2,4,4041);return e=It(e,"METHOD"),["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?yi("org.w3.clearkey",null):null}},_l="VOD",V0="EVENT",Pl="LIVE",xC={zg:_l,oi:V0,xi:Pl};dr["application/x-mpegurl"]=function(){return new Ml},dr["application/vnd.apple.mpegurl"]=function(){return new Ml};function SC(e){var t=0,n=xt(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,i&1||i+e>n.byteLength){n=[];break e}var o=Me(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}function Dl(e){if(e=H0(e))e:{e=w(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next())if(t=hr(t.value,"LA_URL")){e=t.textContent;break e}e=""}else e="";return e}function H0(e){return e=fr(e.textContent),e=SC(e).filter(function(t){return t.type===EC})[0],e?(e=Xr(e.value,!0),(e=Uo(e,"WRMHEADER"))?e:null):null}var EC=1,AC=new Map().set("com.microsoft.playready",Dl).set("com.microsoft.playready.recommendation",Dl).set("com.microsoft.playready.software",Dl).set("com.microsoft.playready.hardware",Dl);function cs(e){if(!G0){G0=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);Ll=Be("ftyp",t,r,t,n),t=Be("dref",OC),ad=Be("dinf",t)}this.g=e}function fs(e){for(var t=[],n=w(e.g),r=n.next();!r.done;r=n.next()){var i=t,o=i.push,s=r.value;r=Be;var u=s.id+1,l=s.stream.width||0,c=s.stream.height||0;s.type=="audio"&&(c=l=0);var h=s.duration*s.timescale,m=Math.floor(h/(Ii+1));switch(h=Math.floor(h%(Ii+1)),u=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(U(yt(u,4)),[0,0,0,0],U(yt(m,4)),U(yt(h,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],U(yt(l,2)),[0,0],U(yt(c,2)),[0,0])),u=Be("tkhd",u),l=Be,m=s.duration*s.timescale,c=Math.floor(m/(Ii+1)),m=Math.floor(m%(Ii+1)),h=s.stream.language,h=h.charCodeAt(0)-96<<10|h.charCodeAt(1)-96<<5|h.charCodeAt(2)-96,c=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(U(yt(s.timescale,4)),U(yt(c,4)),U(yt(m,4)),U(yt(h,2)),[0,0])),c=Be("mdhd",c),m=s,h=new Uint8Array([]),m.type){case"video":h=CC;break;case"audio":h=MC}m=Be("hdlr",h);e:{switch(s.type){case"video":s=Be("minf",Be("vmhd",DC),ad,K0(s));break e;case"audio":s=Be("minf",Be("smhd",NC),ad,K0(s));break e}s=new Uint8Array([])}s=l("mdia",c,m,s),r=r("trak",u,s),o.call(i,r)}for(t=St.apply(on,U(t)),o=e.g[0],n=Be,r=o.duration*o.timescale,i=Math.floor(r/(Ii+1)),r=Math.floor(r%(Ii+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(U(yt(o.timescale,4)),U(yt(i,4)),U(yt(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),i=Be("mvhd",i),r=[],e=w(e.g),l=e.next();!l.done;l=e.next())s=r,u=s.push,l=new Uint8Array([0,0,0,0].concat(U(yt(l.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1])),l=Be("trex",l),u.call(s,l);if(e=St.apply(on,U(r)),e=Be("mvex",e),r=[],o.encrypted){for(o=w(o.stream.drmInfos),s=o.next();!s.done;s=o.next())if(s=s.value,s.initData)for(s=w(s.initData),u=s.next();!u.done;u=s.next())r.push(u.value.initData);o=St.apply(on,U(r))}else o=new Uint8Array([]);return e=n("moov",i,t,e,o),t=new Uint8Array(Ll.byteLength+e.byteLength),t.set(Ll),t.set(e,Ll.byteLength),t}function K0(e){var t=Be,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var r=e.stream.height||0;if(0<e.la.byteLength)var i=Be("avcC",e.la);else{i=Be;for(var o=7,s=[],u=[],l=0,c=0,h=0,m=0;m<e.Ra.length;m++){var T=$0(e.Ra[m]);switch(T[0]&31){case 7:s.push(T),o+=T.length+2;break;case 8:u.push(T),o+=T.length+2}}for(0<s.length&&(l=s[0][1],h=s[0][2],c=s[0][3]),o=new Uint8Array(o),m=0,o[m++]=1,o[m++]=l,o[m++]=h,o[m++]=c,o[m++]=255,o[m++]=224|s.length,l=0;l<s.length;l++)o[m++]=(s[l].length&65280)>>8,o[m++]=s[l].length&255,o.set(s[l],m),m+=s[l].length;for(o[m++]=u.length,s=0;s<u.length;s++)o[m++]=(u[s].length&65280)>>8,o[m++]=u[s].length&255,o.set(u[s],m),m+=u[s].length;i=i("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(U(yt(n,2)),U(yt(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",u=z0(e),s=new Uint8Array([]),e.encrypted&&(s=Eu(e),r="encv"),n=Be(r,n,i,u,s)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.la.byteLength&&(n=Be("hvcC",e.la)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(U(yt(r,2)),U(yt(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",u=z0(e),s=new Uint8Array([]),e.encrypted&&(s=Eu(e),i="encv"),n=Be(i,r,n,u,s));break;case"audio":e.codecs.includes("mp3")?e=Be(".mp3",Nl(e)):e.codecs.includes("ac-3")?(n=Be("dac3",e.fa),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=Eu(e),r="enca"),e=Be(r,Nl(e),n,i)):e.codecs.includes("ec-3")?(n=Be("dec3",e.fa),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=Eu(e),r="enca"),e=Be(r,Nl(e),n,i)):(0<e.fa.byteLength?n=Be("esds",e.fa):(n=Be,r=e.id+1,i=e.stream.channelsCount||2,s=e.stream.audioSamplingRate||44100,l=To("audio",e.codecs.split(",")),c={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},u=c[s],(l==="mp4a.40.5"||l==="mp4a.40.29")&&(u=c[2*s]),s=parseInt(l.split(".").pop(),10),r=new Uint8Array([0,0,0,0,3,25].concat(U(yt(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,s<<3|u>>>1,u<<7|i<<3,6,1,2])),n=n("esds",r)),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=Eu(e),r="enca"),e=Be(r,Nl(e),n,i)),n=e}return e=Be("stsd",LC,n),t("stbl",e,Be("stts",kC),Be("stsc",RC),Be("stsz",PC),Be("stco",_C))}function z0(e){if(!e.sa&&!e.ua)return new Uint8Array([]);var t=e.ua;return e=new Uint8Array([].concat(U(yt(e.sa,4)),U(yt(t,4)))),Be("pasp",e)}function Nl(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(U(yt(e.stream.audioSamplingRate||44100,2)),[0,0]))}function Eu(e){for(var t=Be,n=e.codecs.substring(0,e.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=new Uint8Array([].concat(U(yt(r,4)))),n=Be("frma",n),r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),r=Be("schm",r),i=Be;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e=w(e.stream.drmInfos);for(var s=e.next();!s.done;s=e.next())if((s=s.value)&&s.keyIds&&s.keyIds.size){s=w(s.keyIds);for(var u=s.next();!u.done;u=s.next())o=$0(u.value)}return e=new Uint8Array([0,0,0,0,0,0,1,8]),o=Be("tenc",e,o),t("sinf",n,r,i("schi",o))}function Au(e){var t=[];e=w(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.push,i=r.apply,o=Be,s=new Uint8Array([0,0,0,0].concat(U(yt(n.data?n.data.gb:0,4))));s=Be("mfhd",s);var u,l=n.data?n.data.Oa:[],c=new Uint8Array(4+l.length);for(u=0;u<l.length;u++){var h=l[u].flags;c[u+4]=h.Ia<<4|h.La<<2|h.Ja}l=Be("sdtp",c);var m=l.length+92;c=Be,u=new Uint8Array([0,0,0,58].concat(U(yt(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),u=Be("tfhd",u),h=n.data?n.data.baseMediaDecodeTime:0;var T=Math.floor(h%(Ii+1));h=new Uint8Array([1,0,0,0].concat(U(yt(Math.floor(h/(Ii+1)),4)),U(yt(T,4)))),h=Be("tfdt",h);var y=m;m=n.data?n.data.Oa:[],T=m.length;var S=12+16*T,E=new Uint8Array(S);for(y+=8+S,E.set([n.type==="video"?1:0,0,15,1].concat(U(yt(T,4)),U(yt(y,4))),0),y=0;y<T;y++){var C=m[y];S=yt(C.duration,4);var k=yt(C.size,4),M=C.flags;C=yt(C.Ta,4),E.set([].concat(U(S),U(k),[M.Ua<<2|M.Ia,M.La<<6|M.Ja<<4|M.Va,M.Ha&61440,M.Ha&15],U(C)),12+16*y)}m=Be("trun",E),l=c("traf",u,h,m,l),o=o("moof",s,l),i.call(r,t,[o,IC(n)])}return St.apply(on,U(t))}function IC(e){return e=(e.data?e.data.Oa:[]).map(function(t){return t.data}),e=St.apply(on,U(e)),Be("mdat",e)}function yt(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function $0(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function Be(e){var t=Mt.apply(1,arguments),n=W0[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],W0[e]=n);for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for(i=new Uint8Array(r),i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var G0=!1,Ii=Math.pow(2,32)-1,W0={},CC=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),MC=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),kC=new Uint8Array([0,0,0,0,0,0,0,0]),RC=new Uint8Array([0,0,0,0,0,0,0,0]),_C=new Uint8Array([0,0,0,0,0,0,0,0]),PC=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),DC=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),NC=new Uint8Array([0,0,0,0,0,0,0,0]),LC=new Uint8Array([0,0,0,0,0,0,0,1]),Ll=new Uint8Array([]),OC=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ad=new Uint8Array([]);function ld(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.A=new D(5),this.o=new Ve(function(){jC(e)}),this.u=new Do,this.m=new Map}d=ld.prototype,d.configure=function(e){this.g=e},d.start=function(e,t){var n=this;return O(function(r){if(r.g==1)return n.l=[e],n.h=t,I(r,cd(n),2);if(!n.h)throw new P(2,7,7001);return r.return(n.j)})};function jC(e){var t;O(function(n){switch(n.g){case 1:return Ce(n,2),I(n,cd(e),4);case 4:ae(n,3);break;case 2:t=Y(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();J(n)}})}d.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.o!=null&&(this.o.stop(),this.o=null),this.m.clear(),this.u.destroy()},d.update=function(){var e=this,t;return O(function(n){if(n.g==1)return Ce(n,2),I(n,cd(e),4);if(n.g!=2)return ae(n,0);if(t=Y(n),!e.h||!t)return n.return();e.h.onError(t),J(n)})},d.onExpirationUpdated=function(){},d.onInitialVariantChosen=function(){},d.banLocation=function(){};function cd(e){var t,n,r,i,o,s,u;return O(function(l){if(l.g==1)return t=Gt(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5}),$i(e.u,i),I(l,i.promise,2);if(o=l.h,!e.h)return l.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var c=o.uri,h=xf(o.data,"SmoothStreamingMedia");if(!h)throw new P(2,4,4046,c);if((c=e.g.mss.manifestPreprocessor)&&c(h),e.i||(e.i=new De(null,0)),c=He(h,"IsLive",Tf,!1))throw new P(2,4,4047);e.i.pc(!c);var m=He(h,"TimeScale",hn,1e7),T=He(h,"DVRWindowLength",hn);c&&(T===0||isNaN(T))&&(T=1/0);var y=He(h,"CanSeek",Tf,!1);T===0&&y&&(T=1/0),y=null,T&&0<T&&(y=T/m),c&&!isNaN(e.g.availabilityWindowOverride)&&(y=e.g.availabilityWindowOverride),y==null&&(y=1/0),e.i.Xd(y),T=He(h,"Duration",hn,1/0),c||e.i.Pa(T/m),c={variants:[],textStreams:[],timescale:m,duration:T/m},y=mt(h,"Protection");var S;for(m=e.g.mss.keySystemsBySystemId,T=[],y=w(y),S=y.next();!S.done;S=y.next())T=T.concat(mt(S.value,"ProtectionHeader"));if(T.length){for(y=[],S=0;S<T.length;S++){var E=T[S],C=E.getAttribute("SystemID").toLowerCase(),k=m[C];if(k){var M=H0(E);if(M)e:{M=w(M.getElementsByTagName("DATA"));for(var _=M.next();!_.done;_=M.next())if(_=hr(_.value,"KID")){M=fr(_.textContent),M=new Uint8Array([M[3],M[2],M[1],M[0],M[5],M[4],M[7],M[6]].concat(U(M.slice(8)))),M=bo(M);break e}M=null}else M=null;_=fr(E.textContent),C=qi(C.replace(/-/g,"")),C=[{initData:ka(_,C,new Set,0),initDataType:"cenc",keyId:M}],C=yi(k,C),M&&C.keyIds.add(M),(k=AC.get(k))&&(C.licenseServerUri=k(E)),y.push(C)}}m=y}else m=[];for(S=m,y=[],m=[],T=[],h=mt(h,"StreamIndex"),h=w(h),E=h.next();!E.done;E=h.next()){E=E.value,k=mt(E,"QualityLevel"),C=c.timescale,M=c.duration,_=mt(E,"c");for(var R=[],L=0,j=0;j<_.length;++j){var $=_[j],H=_[j+1],K=He($,"t",hn),W=He($,"d",hn);if($=He($,"r",_a),!W)break;if(K=K??L,$=$||0,0>$)if(H){if(H=He(H,"t",hn),H==null)break;if(K>=H)break;$=Math.ceil((H-K)/W)-1}else{if(M==1/0)break;if(K/C>=M)break;$=Math.ceil((M*C-K)/W)-1}for(H=0;H<=$;++H)L=K+W,R.push({start:K/C,end:L/C,zf:K}),K=L}for(C=R,k=w(k),M=k.next();!M.done;M=k.next())(M=bC(e,E,M.value,C,S,c))&&(M.type!="audio"||e.g.disableAudio?M.type!="video"||e.g.disableVideo?M.type!=ze||e.g.disableText||T.push(M):m.push(M):y.push(M))}for(h=[],y=w(0<y.length?y:[null]),S=y.next();!S.done;S=y.next())for(S=S.value,E=w(0<m.length?m:[null]),M=E.next();!M.done;M=E.next())k=h,C=k.push,M=M.value,_=0,S&&S.bandwidth&&0<S.bandwidth&&(_+=S.bandwidth),M&&M.bandwidth&&0<M.bandwidth&&(_+=M.bandwidth),M={id:e.s++,language:S?S.language:"und",disabledUntilTime:0,primary:!!S&&S.primary||!!M&&M.primary,audio:S,video:M,bandwidth:_,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},C.call(k,M);c.variants=h,c.textStreams=T,e.j?(e.j.variants=c.variants,e.j.textStreams=c.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:c.variants,textStreams:c.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null},e.i.Nd()),Promise.resolve(),s=Date.now(),u=(s-r)/1e3,e.A.sample(1,u),J(l)})}function bC(e,t,n,r,i,o){var s=t.getAttribute("Type");if(s!=="audio"&&s!=="video"&&s!=="text")return X("Ignoring unrecognized type:",s),null;var u=t.getAttribute("Language"),l=e.s++,c=He(n,"Bitrate",ei),h=He(n,"MaxWidth",ei),m=He(n,"MaxHeight",ei),T=He(n,"Channels",ei),y=He(n,"SamplingRate",ei),S=o.duration;r.length&&(S=r[r.length-1].end-r[0].start);var E=e.i.getDuration();e.i.Pa(Math.min(S,E));var C={id:l,originalId:t.getAttribute("Name")||String(l),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:c||0,width:h||void 0,height:m||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Je(u||"und"),originalLanguage:u,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:T,audioSamplingRate:y,spatialAudio:!1,closedCaptions:null,hdr:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:S,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1};if((i=t.getAttribute("Subtype"))&&((i=KC[i])&&C.roles.push(i),i==="main"&&(C.primary=!0)),i=n.getAttribute("FourCC"),(i===null||i==="")&&(i=t.getAttribute("FourCC")),!i){if(s==="audio")i="AAC";else if(s==="video")return X('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!HC.includes(i.toUpperCase()))return X("Codec not supported:",i),null;switch(n=UC(n,s,i,C),C.mssPrivateData.codecPrivateData=n,s){case"audio":if(!n)return X("Quality unsupported without CodecPrivateData",s),null;C.type="audio",C.mimeType="mss/audio/mp4",C.codecs=FC(i,n);break;case"video":if(!n)return X("Quality unsupported without CodecPrivateData",s),null;C.type="video",C.mimeType="mss/video/mp4",C.codecs=BC(n);break;case"text":C.type=ze,C.mimeType="application/mp4",(i==="TTML"||i==="DFXP")&&(C.codecs="stpp")}return C.createSegmentIndex=function(){if(C.segmentIndex)return Promise.resolve();if(e.m.has(C.id))var k=e.m.get(C.id);else k=[],C.type=="video"&&(k=C.mssPrivateData.codecPrivateData.split("00000001").slice(1)),k={id:C.id,type:C.type,codecs:C.codecs,encrypted:C.encrypted,timescale:C.mssPrivateData.timescale,duration:C.mssPrivateData.duration,Ra:k,fa:new Uint8Array([]),la:new Uint8Array([]),sa:0,ua:0,data:null,stream:C},k=fs(new cs([k])),e.m.set(C.id,k);return k=VC(e,new Wn(function(){return[]},0,null,null,void 0,k),C,t,r),C.segmentIndex=new Xe(k),Promise.resolve()},C.closeSegmentIndex=function(){C.segmentIndex&&(C.segmentIndex.release(),C.segmentIndex=null)},C}function UC(e,t,n,r){if(e=e.getAttribute("CodecPrivateData"))return e;if(t!=="audio")return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],n==="AACH"?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function FC(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function BC(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function VC(e,t,n,r,i){var o=r.getAttribute("Url").replace("{bitrate}",String(n.bandwidth));r=[];var s={};i=w(i);for(var u=i.next();!u.done;s={Bc:s.Bc},u=i.next())s.Bc=u.value,r.push(new Ae(s.Bc.start,s.Bc.end,function(l){return function(){return tn(e.l,[o.replace("{start time}",String(l.Bc.zf))])}}(s),0,null,t,0,0,n.mssPrivateData.duration));return r}ue("shaka.mss.MssParser",ld);var HC="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),KC={CAPT:"main",SUBT:"alternate",DESC:"main"};dr["application/vnd.ms-sstr+xml"]=function(){return new ld};function q0(e,t,n,r,i,o){if(200<=n&&299>=n&&n!=202)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=wi(t)}catch{}throw new P(n==401||n==403?2:1,1,1001,r,n,i,e,o)}function fd(){}function Ol(e,t,n,r,i){var o=new qC;Ks(t.headers).forEach(function(c,h){o.append(h,c)});var s=new GC,u={Ff:!1,tg:!1};if(e=zC(e,n,{body:t.body||void 0,headers:o,method:t.method,signal:s.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,r,i,t.streamDataCallback),e=new kt(e,function(){return u.Ff=!0,s.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var l=new Ve(function(){u.tg=!0,s.abort()});l.U(t/1e3),e.finally(function(){l.stop()})}return e}function zC(e,t,n,r,i,o,s){var u,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){switch(R.g){case 1:return u=$C,l=WC,T=m=0,y=Date.now(),Ce(R,2),I(R,u(e,n),4);case 4:if(c=R.h,o(X0(c.headers)),n.method=="HEAD"){R.B(5);break}return S=c.clone().body.getReader(),C=(E=c.headers.get("Content-Length"))?parseInt(E,10):0,k=function(L){function j(){var $,H;return O(function(K){switch(K.g){case 1:return Ce(K,2),I(K,S.read(),4);case 4:$=K.h,ae(K,3);break;case 2:return Y(K),K.return();case 3:if($.done){K.B(5);break}if(m+=$.value.byteLength,!s){K.B(5);break}return I(K,s($.value),5);case 5:H=Date.now(),(100<H-y||$.done)&&(i(H-y,m-T,C-m),T=m,y=H),$.done?L.close():(L.enqueue($.value),j()),J(K)}})}j()},new l({start:k}),I(R,c.arrayBuffer(),6);case 6:h=R.h;case 5:ae(R,3);break;case 2:throw M=Y(R),r.Ff?new P(1,1,7001,e,t):r.tg?new P(1,1,1003,e,t):new P(1,1,1002,e,M,t);case 3:return _=X0(c.headers),R.return(q0(_,h,c.status,e,c.url,t))}})}function X0(e){var t={};return e.forEach(function(n,r){t[r.trim()]=n}),t}function Y0(){if(v.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(v.Response){if(!new Response("").body)return!1}else return!1;return!(!v.fetch||!v.AbortController)}ue("shaka.net.HttpFetchPlugin",fd),fd.isSupported=Y0,fd.parse=Ol;var $C=v.fetch,GC=v.AbortController,WC=v.ReadableStream,qC=v.Headers;Y0()&&(qr("http",Ol,2,!0),qr("https",Ol,2,!0),qr("blob",Ol,2,!0));function J0(){}function jl(e,t,n,r,i){var o=new XC,s=Date.now(),u=0,l=new Promise(function(c,h){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){h(new P(1,1,7001,e,n))};var m=!1;o.onreadystatechange=function(){if(o.readyState==2&&!m){var y=Q0(o);i(y),m=!0}},o.onload=function(){var y=Q0(o),S=o.response;try{var E=q0(y,S,o.status,e,o.responseURL,n);c(E)}catch(C){h(C)}},o.onerror=function(y){h(new P(1,1,1002,e,y,n))},o.ontimeout=function(){h(new P(1,1,1003,e,n))},o.onprogress=function(y){var S=Date.now();(100<S-s||y.lengthComputable&&y.loaded==y.total)&&(r(S-s,y.loaded-u,y.total-y.loaded),u=y.loaded,s=S)};for(var T in t.headers)o.setRequestHeader(T.toLowerCase(),t.headers[T]);o.send(t.body)});return new kt(l,function(){return o.abort(),Promise.resolve()})}function Q0(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}ue("shaka.net.HttpXHRPlugin",J0),J0.parse=jl;var XC=v.XMLHttpRequest;qr("http",jl,1,!0),qr("https",jl,1,!0),qr("blob",jl,1,!0);function Z0(e,t,n,r){this.g=e,this.i=t,this.groupId=n,this.h=r}function hd(e){return e.Z().map(function(t){return"{"+encodeURI(t)+"}"}).join("")+":"+e.Qa+":"+e.wa}function YC(e,t){return Ka(e.g.Z(),e.g.Qa,e.g.wa,t.streaming.retryParameters)}function e1(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function t1(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}e1.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}};function n1(e){var t=this;this.o=e,this.j=new Map,this.i=new No(function(){return dd(t).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new e1}n1.prototype.destroy=function(){return this.i.destroy()};function JC(e,t,n){e.m=t,e.l=n}function dd(e){var t=e.h.map(function(n){return n()});return e.h=[],Promise.all(t)}function QC(e,t,n,r,i,o){nt(e.i);var s=(e.j.get(t)||Promise.resolve()).then(function(){var u,l,c,h,m,T,y;return O(function(S){if(S.g==1)return I(S,eM(e,n),2);if(u=S.h,e.i.g)throw new P(2,9,7001);if(i)for(h in l=Me(u),c=new $g(l),c.data)m=Number(h),T=c.data[m],y=c.g[m],e.l(T,y);e.g.close(r,u.byteLength);var E=e.g;return e.m(E.i==0?0:E.j/E.i,e.g.h),S.return(o(u))})});e.j.set(t,s)}function ZC(e){return O(function(t){return t.g==1?I(t,Promise.all(e.j.values()),2):t.return(e.g.h)})}function eM(e,t){var n,r,i,o;return O(function(s){return s.g==1?(n=Lr,r=e.o.request(n,t),i=function(){return r.abort()},e.h.push(i),I(s,r.promise,2)):(o=s.h,Tr(e.h,i),s.return(o.data))})}function bl(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new pt,e.onabort=function(r){r.preventDefault(),n.g.reject()},e.onerror=function(r){r.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}bl.prototype.abort=function(){var e=this;return O(function(t){if(t.g==1){try{e.i.abort()}catch{}return Ce(t,2),I(t,e.g,4)}if(t.g!=2)return ae(t,0);Y(t),J(t)})};function pd(e,t){return new Promise(function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var o;return O(function(s){if(s.g==1)return i.result==null?(n(),s.return()):(o=i.result,I(s,t(o.key,o.value,o),2));o.continue(),J(s)})}})}bl.prototype.store=function(){return this.h},bl.prototype.promise=function(){return this.g};function gd(e){this.h=e,this.g=[]}gd.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function oo(e,t){return Ul(e,t,"readwrite")}function Ul(e,t,n){n=e.h.transaction([t],n);var r=new bl(n,t);return e.g.push(r),r.promise().then(function(){Tr(e.g,r)},function(){Tr(e.g,r)}),r}function so(e,t,n){this.h=new gd(e),this.i=t,this.g=n}d=so.prototype,d.destroy=function(){return this.h.destroy()},d.hasFixedKeySpace=function(){return!0},d.addSegments=function(){return r1(this.i)},d.removeSegments=function(e,t){return i1(this,this.i,e,t)},d.getSegments=function(e){var t=this,n;return O(function(r){return r.g==1?I(r,o1(t,t.i,e),2):(n=r.h,r.return(n.map(function(i){return t.Hf(i)})))})},d.addManifests=function(){return r1(this.g)},d.updateManifest=function(){return Promise.reject(new P(2,9,9016,"Cannot modify values in "+this.g))};function tM(e,t,n){e=oo(e.h,e.g);var r=e.store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}d.updateManifestExpiration=function(e,t){var n=oo(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(i){(i=i.target.result)&&(i.expiration=t,r.put(i,e))},n.promise()},d.removeManifests=function(e,t){return i1(this,this.g,e,t)},d.getManifests=function(e){var t=this,n;return O(function(r){return r.g==1?I(r,o1(t,t.g,e),2):(n=r.h,r.return(Promise.all(n.map(function(i){return t.Mc(i)}))))})},d.getAllManifests=function(){var e=this,t,n;return O(function(r){return r.g==1?(t=Ul(e.h,e.g,"readonly"),n=new Map,I(r,pd(t,function(i,o){var s;return O(function(u){if(u.g==1)return I(u,e.Mc(o),2);s=u.h,n.set(i,s),J(u)})}),2)):r.g!=3?I(r,t.promise(),3):r.return(n)})},d.Hf=function(e){return e},d.Mc=function(e){return Promise.resolve(e)};function r1(e){return Promise.reject(new P(2,9,9011,"Cannot add new value to "+e))}d.add=function(e,t){var n=this,r,i,o,s,u,l,c;return O(function(h){if(h.g==1){for(r=oo(n.h,e),i=r.store(),o=[],s={},u=w(t),l=u.next();!l.done;s={nd:s.nd},l=u.next())c=l.value,s.nd=i.add(c),s.nd.onsuccess=function(m){return function(){o.push(m.nd.result)}}(s);return I(h,r.promise(),2)}return h.return(o)})};function i1(e,t,n,r){e=oo(e.h,t),t=e.store();var i={};n=w(n);for(var o=n.next();!o.done;i={ld:i.ld},o=n.next())i.ld=o.value,t.delete(i.ld).onsuccess=function(s){return function(){return r(s.ld)}}(i);return e.promise()}function o1(e,t,n){var r,i,o,s,u,l,c;return O(function(h){if(h.g==1){for(r=Ul(e.h,t,"readonly"),i=r.store(),o={},s=[],u={},l=w(n),c=l.next();!c.done;u={zc:u.zc,xc:u.xc},c=l.next())u.xc=c.value,u.zc=i.get(u.xc),u.zc.onsuccess=function(m){return function(){m.zc.result==null&&s.push(m.xc),o[m.xc]=m.zc.result}}(u);return I(h,r.promise(),2)}if(s.length)throw new P(2,9,9012,"Could not find values for "+s);return h.return(n.map(function(m){return o[m]}))})}function Iu(e){this.g=new gd(e)}Iu.prototype.destroy=function(){return this.g.destroy()},Iu.prototype.getAll=function(){var e=this,t,n;return O(function(r){return r.g==1?(t=Ul(e.g,"session-ids","readonly"),n=[],I(r,pd(t,function(i,o){n.push(o)}),2)):r.g!=3?I(r,t.promise(),3):r.return(n)})},Iu.prototype.add=function(e){var t=oo(this.g,"session-ids"),n=t.store();e=w(e);for(var r=e.next();!r.done;r=e.next())n.add(r.value);return t.promise()},Iu.prototype.remove=function(e){var t=this,n;return O(function(r){return r.g==1?(n=oo(t.g,"session-ids"),I(r,pd(n,function(i,o,s){e.includes(o.sessionId)&&s.delete()}),2)):I(r,n.promise(),0)})};function pn(){this.g=new Map}pn.prototype.destroy=function(){for(var e=[],t=w(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},pn.prototype.init=function(){var e=this;Cu.forEach(function(i,o){(i=i())&&e.g.set(o,i)});for(var t=[],n=w(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)};function s1(e){var t=null;if(e.g.forEach(function(n,r){n.getCells().forEach(function(i,o){i.hasFixedKeySpace()||t||(t={path:{Wa:r,va:o},va:i})})}),t)return t;throw new P(2,9,9013,"Could not find a cell that supports add-operations")}function nM(e,t){e.g.forEach(function(n,r){n.getCells().forEach(function(i,o){t({Wa:r,va:o},i)})})}function Fl(e,t,n){if(e=e.g.get(t),!e)throw new P(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new P(2,9,9013,"Could not find cell with name "+n);return t}function rM(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function iM(e){var t=Array.from(e.g.keys());if(!t.length)throw new P(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function oM(e){var t,n,r;return O(function(i){return i.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(r=Cu,r.forEach(function(o){(o=o())&&t.push(o)})),I(i,Promise.all(t.map(function(o){return o.erase()})),2)):n?i.B(0):I(i,Promise.all(t.map(function(o){return o.destroy()})),0)})}function u1(e,t){Cu.set(e,t)}ue("shaka.offline.StorageMuxer",pn),pn.unregister=function(e){Cu.delete(e)},pn.register=u1,pn.prototype.destroy=pn.prototype.destroy;var Cu=new Map;function Mu(){so.apply(this,arguments)}Pe(Mu,so),Mu.prototype.updateManifestExpiration=function(e,t){var n=this,r,i,o;return O(function(s){return r=oo(n.h,n.g),i=r.store(),o=new pt,i.get(e).onsuccess=function(u){(u=u.target.result)?(u.expiration=t,i.put(u),o.resolve()):o.reject(new P(2,9,9012,"Could not find values for "+e))},I(s,Promise.all([r.promise(),o]),0)})},Mu.prototype.Mc=function(e){var t,n,r,i,o,s;return O(function(u){if(u.g==1){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,o=sM(e.periods[n],i),t.push(o);return I(u,qy(t),2)}return s=u.h,u.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:s,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function sM(e,t){aM(e);for(var n=w(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map(function(i){return uM(i,e.startTime,t)})}function uM(e,t,n){var r=e.initSegmentUri?a1(e.initSegmentUri):null,i=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(s){var u=a1(s.uri);return{startTime:t+s.startTime,endTime:t+s.endTime,dataKey:u,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:o,timestampOffset:i,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}Mu.prototype.Hf=function(e){return{data:e.data}};function a1(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new P(2,9,9004,"Could not parse uri "+e)}function aM(e){var t=e.streams.filter(function(u){return u.contentType=="audio"});if(e=e.streams.filter(function(u){return u.contentType=="video"}),!t.every(function(u){return u.variantIds})||!e.every(function(u){return u.variantIds})){for(var n=w(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=w(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){var i=n++,o=w(e);for(r=o.next();!r.done;r=o.next())r.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,o=w(t),r=o.next();!r.done;r=o.next())r.value.variantIds.push(i);if(e.length&&t.length)for(t=w(t),r=t.next();!r.done;r=t.next())for(r=r.value,i=w(e),o=i.next();!o.done;o=i.next()){o=o.value;var s=n++;r.variantIds.push(s),o.variantIds.push(s)}}}function Bl(){so.apply(this,arguments)}Pe(Bl,so),Bl.prototype.Mc=function(e){var t,n,r,i,o,s;return O(function(u){if(u.g==1){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var l=e.periods[n],c=[],h=w(l.streams),m=h.next();!m.done;m=h.next())m=m.value,m.variantIds.length!=0&&c.push(lM(m,l.startTime,l.startTime+i));o=c,t.push(o)}return I(u,qy(t),2)}return s=u.h,u.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:s,sequenceMode:!1})})};function lM(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}function md(){so.apply(this,arguments)}Pe(md,so),d=md.prototype,d.hasFixedKeySpace=function(){return!1},d.addSegments=function(e){return this.add(this.i,e)},d.addManifests=function(e){return this.add(this.g,e)},d.updateManifest=function(e,t){return tM(this,e,t)},d.Mc=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function l1(){this.m=this.j=this.i=this.h=this.g=this.l=null}d=l1.prototype,d.init=function(){var e=this,t=new pt,n=!1,r=new Ve(function(){n=!0,t.reject(new P(2,9,9017))});r.U(5);var i=v.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){if(!n){var o=i.result;e.l=o;var s=o.objectStoreNames;s=s.contains("manifest")&&s.contains("segment")?new Mu(o,"segment","manifest"):null,e.g=s,s=o.objectStoreNames,s=s.contains("manifest-v2")&&s.contains("segment-v2")?new Bl(o,"segment-v2","manifest-v2"):null,e.h=s,s=o.objectStoreNames,s=s.contains("manifest-v3")&&s.contains("segment-v3")?new Bl(o,"segment-v3","manifest-v3"):null,e.i=s,s=o.objectStoreNames,s=s.contains("manifest-v5")&&s.contains("segment-v5")?new md(o,"segment-v5","manifest-v5"):null,e.j=s,o=o.objectStoreNames.contains("session-ids")?new Iu(o):null,e.m=o,r.stop(),t.resolve()}},i.onupgradeneeded=function(){for(var o=i.result,s=w(["segment-v5","manifest-v5","session-ids"]),u=s.next();!u.done;u=s.next())u=u.value,o.objectStoreNames.contains(u)||o.createObjectStore(u,{autoIncrement:!0})},i.onerror=function(o){n||(t.reject(new P(2,9,9001,i.error)),r.stop(),o.preventDefault())},t},d.destroy=function(){var e=this;return O(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return I(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return I(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return I(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return I(t,e.j.destroy(),8);case 8:if(!e.m){t.B(10);break}return I(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),J(t)}})},d.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},d.getEmeSessionCell=function(){return this.m},d.erase=function(){var e=this;return O(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return I(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return I(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return I(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return I(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),I(t,cM(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,I(t,e.init(),0)}})};function cM(){var e=new pt,t=v.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new P(2,9,9001,t.error)),n.preventDefault()},e}u1("idb",function(){return Io()||Vs()||!v.indexedDB?null:new l1});function br(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}br.prototype.Wa=function(){return this.i},br.prototype.va=function(){return this.h},br.prototype.key=function(){return this.l},br.prototype.toString=function(){return this.j};function vd(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var r=e[3];return r&&t!=null?new br(t,n,r,Number(e[4])):null}function c1(e,t){this.h=e,this.g=t}function f1(e,t){var n=new De(null,0);n.Pa(t.duration);var r=t.streams.filter(function(c){return c.type=="audio"}),i=t.streams.filter(function(c){return c.type=="video"});r=fM(e,r,i,n),i=t.streams.filter(function(c){return c.type==ze}).map(function(c){return Vl(e,c,n)});var o=t.streams.filter(function(c){return c.type=="image"}).map(function(c){return Vl(e,c,n)}),s=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var u=w(r.values()),l=u.next();!l.done;l=u.next())l=l.value,l.audio&&l.audio.encrypted&&(l.audio.drmInfos=s),l.video&&l.video.encrypted&&(l.video.drmInfos=s);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null}}function fM(e,t,n,r){for(var i=new Set,o=w(t),s=o.next();!s.done;s=o.next()){var u=w(s.value.variantIds);for(s=u.next();!s.done;s=u.next())i.add(s.value)}for(o=w(n),s=o.next();!s.done;s=o.next())for(u=w(s.value.variantIds),s=u.next();!s.done;s=u.next())i.add(s.value);for(o=new Map,i=w(i),s=i.next();!s.done;s=i.next())s=s.value,o.set(s,{id:s,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=w(t),i=t.next();!i.done;i=t.next())for(i=i.value,s=Vl(e,i,r),u=w(i.variantIds),i=u.next();!i.done;i=u.next())i=o.get(i.value),i.language=s.language,i.primary=i.primary||s.primary,i.audio=s;for(n=w(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=Vl(e,i,r),s=w(i.variantIds),i=s.next();!i.done;i=s.next())i=o.get(i.value),i.primary=i.primary||t.primary,i.video=t;return o}function Vl(e,t,n){var r=t.segments.map(function(i){return hM(e,i)});return n.Xc(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Xe(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching}}function hM(e,t){var n=new br("segment",e.h,e.g,t.dataKey);return new Ae(t.startTime,t.endTime,function(){return[n.toString()]},0,null,t.initSegmentKey!=null?dM(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||"")}function dM(e,t){var n=new br("segment",e.h,e.g,t);return new Wn(function(){return[n.toString()]},0,null)}function h1(){this.g=null}d=h1.prototype,d.configure=function(){},d.start=function(e,t){var n=this,r,i,o,s,u,l,c;return O(function(h){switch(h.g){case 1:if(r=vd(e),n.g=r,r==null||r.g!="manifest")throw new P(2,1,9004,e);return i=new pn,rn(h,2),I(h,i.init(),4);case 4:return I(h,Fl(i,r.Wa(),r.va()),5);case 5:return o=h.h,I(h,o.getManifests([r.key()]),6);case 6:return s=h.h,u=s[0],l=new c1(r.Wa(),r.va()),c=f1(l,u),t.makeTextStreamsForClosedCaptions(c),h.return(c);case 2:return re(h),I(h,i.destroy(),7);case 7:ce(h,0)}})},d.stop=function(){return Promise.resolve()},d.update=function(){},d.onExpirationUpdated=function(e,t){var n=this,r,i,o,s,u,l,c;return O(function(h){switch(h.g){case 1:return r=n.g,i=new pn,Ce(h,2,3),I(h,i.init(),5);case 5:return I(h,Fl(i,r.Wa(),r.va()),6);case 6:return o=h.h,I(h,o.getManifests([r.key()]),7);case 7:if(s=h.h,u=s[0],l=u.sessionIds.includes(e),c=u.expiration==null||u.expiration>t,!l||!c){h.B(3);break}return I(h,o.updateManifestExpiration(r.key(),t),3);case 3:return re(h),I(h,i.destroy(),10);case 10:ce(h,0);break;case 2:Y(h),h.B(3)}})},d.onInitialVariantChosen=function(){},d.banLocation=function(){},dr["application/x-offline-manifest"]=function(){return new h1};function d1(){}function p1(e){var t=vd(e);return t&&t.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=Po(e)):e=t&&t.g=="segment"?pM(t.key(),t):zi(new P(2,1,9004,e)),e}function pM(e,t){var n=new pn;return Po(void 0).pa(function(){return n.init()}).pa(function(){return Fl(n,t.Wa(),t.va())}).pa(function(r){return r.getSegments([t.key()])}).pa(function(r){return{uri:t,data:r[0].data,headers:{}}}).finally(function(){return n.destroy()})}ue("shaka.offline.OfflineScheme",d1),d1.plugin=p1,qr("offline",p1);function g1(e,t,n){var r,i,o,s,u,l;return O(function(c){switch(c.g){case 1:r=[];for(var h=[],m=w(n),T=m.next();!T.done;T=m.next()){T=T.value;for(var y=!1,S=w(h),E=S.next();!E.done;E=S.next())if(E=E.value,mM(E.info,T)){E.sessionIds.push(T.sessionId),y=!0;break}y||h.push({info:T,sessionIds:[T.sessionId]})}i=w(h),o=i.next();case 2:if(o.done){c.B(4);break}return s=o.value,u=gM(e,t,s),I(c,u,5);case 5:l=c.h,r=r.concat(l),o=i.next(),c.B(2);break;case 4:return c.return(r)}})}function gM(e,t,n){var r,i;return O(function(o){switch(o.g){case 1:return r=new Pa({Tb:t,onError:function(){},Ud:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),Ce(o,2),r.configure(e),I(o,GS(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:ae(o,3);break;case 2:return Y(o),I(o,r.destroy(),5);case 5:return o.return([]);case 3:return i=[],I(o,Promise.all(n.sessionIds.map(function(s){return O(function(u){if(u.g==1)return Ce(u,2),I(u,XS(r,s),4);if(u.g!=2)return i.push(s),ae(u,0);Y(u),J(u)})})),6);case 6:return I(o,r.destroy(),7);case 7:return o.return(i)}})}function mM(e,t){function n(r,i){return r.robustness==i.robustness&&r.contentType==i.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Wp(e.audioCapabilities,t.audioCapabilities,n)&&Wp(e.videoCapabilities,t.videoCapabilities,n)}function vM(e,t,n){var r=t.presentationTimeline.getDuration();return t=m1(t),{offlineUri:null,originalManifestUri:e,duration:r,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function yd(e,t){var n=f1(new c1(e.Wa(),e.va()),t),r=t.appMetadata||{};return n=m1(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function m1(e){var t=[],n=cf(e.variants);n=w(n);for(var r=n.next();!r.done;r=n.next())t.push(ko(r.value));for(e=w(e.textStreams),n=e.next();!n.done;n=e.next())t.push(ya(n.value));return t}function yM(){this.g={}}function wM(e,t){var n=t.audio,r=t.video;if(n&&!r&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&r&&(e.g[r.id]=r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,o=r.bandwidth||t.bandwidth-i;0>=o&&(o=t.bandwidth),e.g[n.id]=i,e.g[r.id]=o}}function TM(e,t){e.g[t.id]=t.bandwidth||2048}function v1(e,t){return e=e.g[t],e==null&&(e=0),e}function Kt(e){var t=this;if(e&&e.constructor!=G)throw new P(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Ob()):(this.h=Wo(),this.g=new ft),this.i=[],this.j=[];var n=!e;this.l=new No(function(){var r,i,o,s,u;return O(function(l){switch(l.g){case 1:return I(l,Promise.all(t.j.map(function(c){return dd(c)})),2);case 2:for(r=function(){},i=[],o=w(t.i),s=o.next();!s.done;s=o.next())u=s.value,i.push(u.then(r,r));return I(l,Promise.all(i),3);case 3:if(!n){l.B(4);break}return I(l,t.g.destroy(),4);case 4:t.h=null,t.g=null,J(l)}})})}function wd(){if(Sr())e:{for(var e=w(Cu.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}d=Kt.prototype,d.destroy=function(){return this.l.destroy()},d.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=oh(e,t)),qo(this.h,e)},d.getConfiguration=function(){var e=Wo();return qo(e,this.h,Wo()),e},d.Ob=function(){return this.g},d.store=function(e,t,n){var r=this,i=this.getConfiguration(),o=new n1(this.g);return this.j.push(o),t=xM(this,e,t||{},function(){var s;return O(function(u){return u.g==1?n?u.B(2):I(u,Yf(e,r.g,i.manifest.retryParameters),3):(u.g!=2&&(n=u.h),s=am(e,n||null),u.return(s()))})},i,o),t=new kt(t,function(){return dd(o)}),t.finally(function(){Tr(r.j,o)}),OM(this,t)};function xM(e,t,n,r,i,o){var s,u,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){switch(R.g){case 1:return Hl(),u=s=null,l=new pn,m=h=c=null,Ce(R,2,3),I(R,r(),5);case 5:return s=R.h,I(R,_M(e,t,s,i),6);case 6:if(T=R.h,Qt(e),y=!T.presentationTimeline.R()&&!T.presentationTimeline.Rb(),!y)throw new P(2,9,9005,t);return I(R,PM(e,T,function(L){m=m||L},i),7);case 7:if(u=R.h,Qt(e),m)throw m;return I(R,EM(T,u,i),8);case 8:return I(R,l.init(),9);case 9:return Qt(e),I(R,s1(l),10);case 10:return c=R.h,Qt(e),S=AM(u,T,t,n,i,o),E=S.Ah,C=S.vf,I(R,c.va.addManifests([E]),11);case 11:if(k=R.h,Qt(e),h=k[0],Qt(e),m)throw m;return I(R,SM(e,C,h,E,o,i,c.va,T,u),12);case 12:return Qt(e),x1(T,E,u,i),I(R,c.va.updateManifest(h,E),13);case 13:return Qt(e),M=new br("manifest",c.path.Wa,c.path.va,h),R.return(yd(M,E));case 3:return re(R),I(R,l.destroy(),14);case 14:if(!s){R.B(15);break}return I(R,s.stop(),15);case 15:if(!u){R.B(17);break}return I(R,u.destroy(),17);case 17:ce(R,0);break;case 2:if(_=Y(R),h==null){R.B(19);break}return I(R,y1(h),19);case 19:throw m||_}})}function SM(e,t,n,r,i,o,s,u,l){var c,h,m,T,y,S,E,C,k,M;return O(function(_){switch(_.g){case 1:if(c={},h=0,m=function(R,L){var j,$,H,K,W,ee,se;return O(function(he){if(he.g==1){for(j={},$=w(R),H=$.next();!H.done;j={Ib:j.Ib},H=$.next())j.Ib=H.value,K=YC(j.Ib,o),W=j.Ib.i,ee=j.Ib.h,se=function(we){return function(xe){var _e,me,Lt;return O(function(qt){if(qt.g==1)return I(qt,s.addSegments([{data:xe}]),2);_e=qt.h,Qt(e),me=we.Ib.g,Lt=hd(me),c[Lt]=_e[0],h+=xe.byteLength,J(qt)})}}(j),QC(i,j.Ib.groupId,K,W,ee,se);return I(he,ZC(i),2)}return L?(Qt(e),x1(u,r,l,o),I(he,s.updateManifest(n,r),0)):he.B(0)})},T=!1,Ce(_,2),!Td(u)||!T||T1(u)){_.B(4);break}return I(_,m(t.filter(function(R){return R.h}),!0),5);case 5:return Qt(e),t=t.filter(function(R){return!R.h}),y=c,S=h,c={},h=0,I(_,w1(s,n,r,y,S,function(){return Qt(e)}),6);case 6:Qt(e);case 4:if(T){_.B(7);break}return I(_,m(t,!1),8);case 8:return Qt(e),E=c,C=h,c={},h=0,I(_,w1(s,n,r,E,C,function(){return Qt(e)}),9);case 9:Qt(e);case 7:ae(_,0);break;case 2:return k=Y(_),M=Object.values(c),I(_,s.removeSegments(M,function(){}),10);case 10:throw k}})}function y1(e){var t,n,r,i;return O(function(o){switch(o.g){case 1:return t=new pn,I(o,t.init(),2);case 2:return I(o,s1(t),3);case 3:return n=o.h,r=new br("manifest",n.path.Wa,n.path.va,e),I(o,t.destroy(),4);case 4:return i=new Kt,I(o,i.remove(r.toString()),0)}})}function w1(e,t,n,r,i,o){var s,u,l,c,h,m,T,y,S,E,C;return O(function(k){switch(k.g){case 1:for(s=!1,Ce(k,2),u=!0,l=w(n.streams),c=l.next();!c.done;c=l.next())for(h=c.value,m=w(h.segments),T=m.next();!T.done;T=m.next())y=T.value,S=y.pendingSegmentRefId?r[y.pendingSegmentRefId]:null,S!=null&&(y.dataKey=S,y.pendingSegmentRefId=void 0),S=y.pendingInitSegmentRefId?r[y.pendingInitSegmentRefId]:null,S!=null&&(y.initSegmentKey=S,y.pendingInitSegmentRefId=void 0),y.pendingSegmentRefId&&(u=!1),y.pendingInitSegmentRefId&&(u=!1);return n.size+=i,u&&(n.isIncomplete=!1),I(k,e.updateManifest(t,n),4);case 4:s=!0,o(),ae(k,0);break;case 2:return E=Y(k),I(k,y1(t),5);case 5:if(s){k.B(6);break}return C=Object.values(r),I(k,e.removeSegments(C,function(){}),6);case 6:throw E}})}function EM(e,t,n){var r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_,R,L,j,$,H,K,W,ee,se,he,we;return O(function(xe){switch(xe.g){case 1:return r={width:1/0,height:1/0},hS(e,n.restrictions,r),I(xe,pg(t,e,n.offline.usePersistentLicense),2);case 2:for(i=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,u=n.preferredAudioCodecs,hg(e,s,u,o),l=w(e.variants),c=l.next();!c.done;c=l.next())h=c.value,i.push(ko(h));for(m=w(e.textStreams),T=m.next();!T.done;T=m.next())y=T.value,i.push(ya(y));for(S=w(e.imageStreams),E=S.next();!E.done;E=S.next())C=E.value,i.push(uf(C));return I(xe,n.offline.trackSelectionCallback(i),3);case 3:for(k=xe.h,M=e.presentationTimeline.getDuration(),_=0,R=w(k),L=R.next();!L.done;L=R.next())j=L.value,$=j.bandwidth*M/8,_+=$;return Ce(xe,4),I(xe,n.offline.downloadSizeCallback(_),6);case 6:if(H=xe.h,!H)throw new P(2,9,9014);ae(xe,5);break;case 4:throw K=Y(xe),K instanceof P?K:new P(2,9,9015);case 5:for(W=new Set,ee=new Set,se=new Set,he=w(k),L=he.next();!L.done;L=he.next())we=L.value,we.type=="variant"&&W.add(we.id),we.type=="text"&&ee.add(we.id),we.type=="image"&&se.add(we.id);e.variants=e.variants.filter(function(_e){return W.has(_e.id)}),e.textStreams=e.textStreams.filter(function(_e){return ee.has(_e.id)}),e.imageStreams=e.imageStreams.filter(function(_e){return se.has(_e.id)}),UM(e),J(xe)}})}function AM(e,t,n,r,i,o){var s=vM(n,t,r),u=i.offline.progressCallback;JC(o,function(y,S){s.size=S,u(s,y)},function(y,S){l&&i.offline.usePersistentLicense&&c==S&&Gs(e,"cenc",y)});var l=Td(t)&&!T1(t),c=null;l&&(c=FM.get(e.g.keySystem));for(var h=new yM,m=w(t.textStreams),T=m.next();!T.done;T=m.next())h.g[T.value.id]=52;for(m=w(t.imageStreams),T=m.next();!T.done;T=m.next())TM(h,T.value);for(T=w(t.variants),m=T.next();!m.done;m=T.next())wM(h,m.value);return h=DM(o,h,t,i),o=h.streams,h=h.vf,T=e.g,m=i.offline.usePersistentLicense,T&&m&&(T.initData=[]),{Ah:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.Qc(),streams:o,sessionIds:m?Zg(e):[],drmInfo:T,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},vf:h}}function Td(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function T1(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function x1(e,t,n,r){if(t.expiration=n.Qc(),n=Zg(n),t.sessionIds=r.offline.usePersistentLicense?n:[],Td(e)&&r.offline.usePersistentLicense&&!n.length)throw new P(2,9,9007)}d.remove=function(e){return xd(this,IM(this,e))};function IM(e,t){var n,r,i,o,s,u;return O(function(l){switch(l.g){case 1:if(Hl(),n=vd(t),n==null||n.g!="manifest")throw new P(2,9,9004,t);return r=n,i=new pn,rn(l,2),I(l,i.init(),4);case 4:return I(l,Fl(i,r.Wa(),r.va()),5);case 5:return o=l.h,I(l,o.getManifests([r.key()]),6);case 6:return s=l.h,u=s[0],I(l,Promise.all([CM(e,u,i),MM(o,r,u)]),2);case 2:return re(l),I(l,i.destroy(),8);case 8:ce(l,0)}})}function S1(e,t){for(var n=[],r=w(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&i.type=="video"?n.push({contentType:Nn(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||i.type!="audio"||n.push({contentType:Nn(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function CM(e,t,n){return O(function(r){return I(r,bM(e.g,e.h.drm,n,t),0)})}function MM(e,t,n){function r(){}var i=jM(n);return yd(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}d.Oh=function(){return xd(this,kM(this))};function kM(e){var t,n,r,i,o,s,u,l,c,h;return O(function(m){switch(m.g){case 1:return Hl(),t=e.g,n=e.h.drm,r=new pn,i=!1,rn(m,2),I(m,r.init(),4);case 4:o=[],rM(r,function(T){return o.push(T)}),s=w(o),u=s.next();case 5:if(u.done){m.B(2);break}return l=u.value,I(m,l.getAll(),8);case 8:return c=m.h,I(m,g1(n,t,c),9);case 9:return h=m.h,I(m,l.remove(h),10);case 10:h.length!=c.length&&(i=!0),u=s.next(),m.B(5);break;case 2:return re(m),I(m,r.destroy(),11);case 11:ce(m,3);break;case 3:return m.return(!i)}})}d.list=function(){return xd(this,RM())};function RM(){var e,t,n;return O(function(r){switch(r.g){case 1:return Hl(),e=[],t=new pn,rn(r,2),I(r,t.init(),4);case 4:return n=Promise.resolve(),nM(t,function(i,o){n=n.then(function(){var s;return O(function(u){if(u.g==1)return I(u,o.getAllManifests(),2);s=u.h,s.forEach(function(l,c){l=yd(new br("manifest",i.Wa,i.va,c),l),e.push(l)}),J(u)})})}),I(r,n,2);case 2:return re(r),I(r,t.destroy(),6);case 6:ce(r,3);break;case 3:return r.return(e)}})}function _M(e,t,n,r){var i,o,s,u,l;return O(function(c){if(c.g==1)return i=null,o=e.g,s={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(h){i=h},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate}},n.configure(r.manifest),Qt(e),I(c,n.start(t,s),2);if(c.g!=3)return u=c.h,Qt(e),l=E1(u),I(c,Promise.all(gf(l,function(h){return h.createSegmentIndex()})),3);if(Qt(e),i)throw i;return c.return(u)})}function PM(e,t,n,r){var i;return O(function(o){return o.g==1?(i=new Pa({Tb:e.g,onError:n,Ud:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),i.configure(r.drm),I(o,$S(i,t.variants,r.offline.usePersistentLicense),2)):o.g!=3?I(o,Jg(i),3):o.return(i)})}function DM(e,t,n,r){var i=new Map,o=E1(n),s=new Map;o=w(o);for(var u=o.next();!u.done;u=o.next()){u=u.value;var l=NM(e,t,n,u,r,i);s.set(u.id,l)}for(e=w(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(s.values()),vf:Array.from(i.values())}}function NM(e,t,n,r,i,o){var s={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,external:r.external,fastSwitching:r.fastSwitching},u=i.offline.numberOfParallelDownloads,l=0;return LM(r,n.presentationTimeline.eb(),function(c){var h=hd(c),m=void 0;if(!o.has(h)){var T=c.endTime-c.startTime;T=v1(t,r.id)*T,T=t1(e.g,T),o.set(h,new Z0(c,T,l,!1))}c.aa&&(m=hd(c.aa),o.has(m)||(T=.5*v1(t,r.id),T=t1(e.g,T),o.set(m,new Z0(c.aa,T,l,!0)))),s.segments.push({pendingInitSegmentRefId:m,initSegmentKey:m?0:null,startTime:c.startTime,endTime:c.endTime,appendWindowStart:c.appendWindowStart,appendWindowEnd:c.appendWindowEnd,timestampOffset:c.timestampOffset,tilesLayout:c.tilesLayout,pendingSegmentRefId:h,dataKey:0}),l=(l+1)%u}),s}function LM(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var r=e.segmentIndex.get(t);r;)n(r),r=e.segmentIndex.get(++t)}function Qt(e){if(e.l.g)throw new P(2,9,7001)}function Hl(){if(!wd())throw new P(2,9,9e3)}function xd(e,t){return O(function(n){return n.g==1?(e.i.push(t),rn(n,2),I(n,t,4)):n.g!=2?n.return(n.h):(re(n),Tr(e.i,t),ce(n,0))})}function OM(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){Tr(e.i,n)})}function jM(e){var t=new Set;e=w(e.streams);for(var n=e.next();!n.done;n=e.next()){n=w(n.value.segments);for(var r=n.next();!r.done;r=n.next())r=r.value,r.initSegmentKey!=null&&t.add(r.initSegmentKey),t.add(r.dataKey)}return Array.from(t)}function bM(e,t,n,r){var i,o,s;return O(function(u){return u.g==1?r.drmInfo?(i=iM(n),o=r.sessionIds.map(function(l){return{sessionId:l,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:S1(r,!1),videoCapabilities:S1(r,!0)}}),I(u,g1(t,e,o),2)):u.return():u.g!=3?(s=u.h,I(u,i.remove(s),3)):I(u,i.add(o.filter(function(l){return!s.includes(l.sessionId)})),0)})}function E1(e){for(var t=new Set,n=w(e.textStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(n=w(e.imageStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(e=w(e.variants),n=e.next();!n.done;n=e.next())n=n.value,n.audio&&t.add(n.audio),n.video&&t.add(n.video);return t}function UM(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=w(t),r=n.next();!r.done;r=n.next()){r=w(t);for(var i=r.next();!i.done;i=r.next());}for(t=w(e),n=t.next();!n.done;n=t.next())for(n=w(e),r=n.next();!r.done;r=n.next());}ue("shaka.offline.Storage",Kt),Kt.deleteAll=function(){var e;return O(function(t){return t.g==1?(e=new pn,rn(t,2),I(t,oM(e),2)):t.g!=5?(re(t),I(t,e.destroy(),5)):ce(t,0)})},Kt.prototype.list=Kt.prototype.list,Kt.prototype.removeEmeSessions=Kt.prototype.Oh,Kt.prototype.remove=Kt.prototype.remove,Kt.prototype.store=Kt.prototype.store,Kt.prototype.getNetworkingEngine=Kt.prototype.Ob,Kt.prototype.getConfiguration=Kt.prototype.getConfiguration,Kt.prototype.configure=Kt.prototype.configure,Kt.prototype.destroy=Kt.prototype.destroy,Kt.support=wd;var FM=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");xh.offline=wd;function Wt(){}function un(e,t){for(e={priority:t||0,callback:e},t=0;t<ku.length;t++)if(ku[t].priority<e.priority){ku.splice(t,0,e);return}ku.push(e)}ue("shaka.polyfill",Wt),Wt.register=un,Wt.installAll=function(){for(var e=w(ku),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){X("Error installing polyfill!",n)}}};var ku=[];function Ru(){this.g=new Kl}function A1(){v.AbortController||(v.AbortController=Ru,v.AbortSignal=Kl)}Ru.prototype.abort=function(e){var t=this.g;t.h||(t.h=!0,t.g=e,t.g===void 0&&(t.g=new DOMException("signal is aborted without reason","AbortError")),e=new Ee("abort"),t.onabort&&t.onabort(e),t.dispatchEvent(e))},F.Object.defineProperties(Ru.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),Wt.AbortController=Ru,Ru.install=A1;function Kl(){Qe.call(this),this.h=!1,this.g=void 0,this.onabort=null}Pe(Kl,Qe),F.Object.defineProperties(Kl.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),un(A1);function I1(){}function C1(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=w(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())BM(t.value)}function BM(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}Wt.Aria=I1,I1.install=C1,un(C1);function M1(){}function k1(){$w()}Wt.EncryptionScheme=M1,M1.install=k1,un(k1,-2);function R1(){}function _1(){if(v.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",hs),document.addEventListener("webkitfullscreenerror",hs),document.addEventListener("mozfullscreenchange",hs),document.addEventListener("mozfullscreenerror",hs),document.addEventListener("MSFullscreenChange",hs),document.addEventListener("MSFullscreenError",hs)}}function hs(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}Wt.Fullscreen=R1,R1.install=_1,un(_1);function zl(){}function P1(){var e=!0;(da()||Tt("PlayStation 5")||Co()||Tt("Web0S")||Ki()||Io()||Tt("PC=EOS")||Tt("Hisense")||Tt("VIDAA"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),D1=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=VM)}function VM(e){var t,n,r,i,o,s,u,l,c,h,m,T,y,S,E,C,k,M,_;return O(function(R){switch(R.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},!e)return R.return(t);if(n=e.video,r=e.audio,e.type=="media-source"){if(!Sr())return R.return(t);if(n){if(Io())if(v.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var L=n.contentType;n.width&&n.height&&(L+="; width="+n.width+"; height="+n.height),n.framerate&&(L+="; framerate="+n.framerate),n.transferFunction==="pq"&&(L+="; eotf=smpte2084"),i=cast.__platform__.canDisplayType(L)}else i=ge(n.contentType);else Ki()?(o=n.contentType,n.width&&n.height&&(o+="; width="+n.width,o+="; height="+n.height),n.framerate&&(o+="; framerate="+n.framerate),n.bitrate&&(o+="; bitrate="+n.bitrate),i=ge(o)):i=ge(n.contentType);if(!i)return R.return(t)}if(r&&(Io()&&r.spatialRendering?(u=r.contentType+"; spatialRendering=true",s=ge(u)):s=ge(r.contentType),!s))return R.return(t)}else if(e.type=="file"){if(n&&(l=n.contentType,c=Bs(l),!c)||r&&(h=r.contentType,m=Bs(h),!m))return R.return(t)}else return R.return(t);if(!e.keySystemConfiguration)return t.supported=!0,R.return(Promise.resolve(t));if(T=e.keySystemConfiguration,y=[],S=[],T.audio&&(E={robustness:T.audio.robustness||"",contentType:e.audio.contentType},Ki()&&e.audio.contentType.includes('codecs="ac-3"')&&(E={robustness:E.robustness,contentType:'audio/mp4; codecs="ec-3"'}),y.push(E)),T.video&&(C={robustness:T.video.robustness||"",contentType:e.video.contentType},S.push(C)),k={initDataTypes:[T.initDataType],distinctiveIdentifier:T.distinctiveIdentifier,persistentState:T.persistentState,sessionTypes:T.sessionTypes},y.length&&(k.audioCapabilities=y),S.length&&(k.videoCapabilities=S),M=(e.video?e.video.contentType:"")+"#"+(e.audio?e.audio.contentType:"")+"#"+e.keySystemConfiguration.keySystem,Ce(R,3),M in $l){_=$l[M],R.B(5);break}return I(R,navigator.requestMediaKeySystemAccess(T.keySystem,[k]),6);case 6:_=R.h,$l[M]=_;case 5:ae(R,4);break;case 3:Y(R);case 4:_&&(t.supported=!0,t.keySystemAccess=_);case 2:return R.return(t)}})}Wt.MediaCapabilities=zl,zl.install=P1;var D1=null;zl.originalMcap=D1;var $l={};zl.memoizedMediaKeySystemAccessRequests_=$l,un(P1,-1);function N1(){}function L1(){var e=pa();v.MediaSource&&(Io()?j1():e?10>=e?v.MediaSource=null:12>=e?(O1(),HM()):15>=e&&O1():rf()?j1():(ha()||fa()||Tt("Tizen 4"))&&KM()),v.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&zM()}function O1(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,Mt.apply(0,arguments));return t.abort=function(){},t}}function HM(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function j1(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return t.split(";")[0].split("/")[1]!="mp2t"&&e(t)}}function KM(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return xr(t)!="opus"&&e(t)}}function zM(){var e=MediaSource.isTypeSupported;Tt("Web0S")||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex(function(s){return s.startsWith("codecs=")});if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex(function(s){return s.startsWith("vp09")});return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}Wt.MediaSource=N1,N1.install=L1,un(L1);function b1(){}function U1(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?$M():v.orientation!=null&&GM())}function $M(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function GM(){function e(){switch(v.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Gl;screen.orientation=t,e(),v.addEventListener("orientationchange",function(){e();var n=new Ee("change");t.dispatchEvent(n)})}Wt.Orientation=b1,b1.install=U1;function Gl(){Qe.call(this),this.type="",this.angle=0}Pe(Gl,Qe),Gl.prototype.lock=function(e){function t(r){return screen.lockOrientation?screen.lockOrientation(r):screen.mozLockOrientation?screen.mozLockOrientation(r):screen.msLockOrientation?screen.msLockOrientation(r):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Gl.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},un(U1);function Sd(){}var Ed,Ad,Id,Cd,Md,kd;function WM(e,t){try{var n=new Wl(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function qM(e){var t=this.mediaKeys;return t&&t!=e&&F1(t,null),delete this.mediaKeys,(this.mediaKeys=e)?F1(e,this):Promise.resolve()}function XM(e){if(e=Me(e.initData),xt(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=Xr(e.subarray(4),!0),e=Yr(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=fn(e),this.dispatchEvent(t)}Wt.PatchedMediaKeysApple=Sd,Sd.uninstall=function(){Ed&&(Ed=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",Ad),HTMLMediaElement.prototype.setMediaKeys=Id,v.MediaKeys=Cd,v.MediaKeySystemAccess=Md,navigator.requestMediaKeySystemAccess=kd,Ad=kd=Id=Md=Cd=null,v.shakaMediaKeysPolyfill=!1)},Sd.install=function(e){v.HTMLVideoElement&&v.WebKitMediaKeys&&(e!==void 0&&e&&(Ed=!0,Ad=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),Id=HTMLMediaElement.prototype.setMediaKeys,Cd=v.MediaKeys,Md=v.MediaKeySystemAccess,kd=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=qM,v.MediaKeys=_u,v.MediaKeySystemAccess=Wl,navigator.requestMediaKeySystemAccess=WM,v.shakaMediaKeysPolyfill=!0)};function Wl(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=w(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var o=w(n.audioCapabilities),s=o.next();!s.done;s=o.next())s=s.value,s.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(t.audioCapabilities.push(s),i=!0));if(n.videoCapabilities)for(n=w(n.videoCapabilities),s=n.next();!s.done;s=n.next())o=s.value,o.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Wl.prototype.createMediaKeys=function(){var e=new _u(this.keySystem);return Promise.resolve(e)},Wl.prototype.getConfiguration=function(){return this.g};function _u(e){this.h=new WebKitMediaKeys(e),this.g=new ht}_u.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Rd(this.h)},_u.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function F1(e,t){if(e.g.Za(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",XM);try{return Ko(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}_u.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Rd(e){Qe.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new ht,this.sessionId="",this.expiration=NaN,this.closed=new pt,this.keyStatuses=new B1}Pe(Rd,Qe),d=Rd.prototype,d.generateRequest=function(e,t){var n=this;this.h=new pt;try{var r=this.l.createSession("video/mp4",Me(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",function(i){n.h&&(n.h.resolve(),n.h=null),i=new Map().set("messageType",n.keyStatuses.Pb()==null?"license-request":"license-renewal").set("message",fn(i.message)),i=new Ee("message",i),n.dispatchEvent(i)}),this.j.D(r,"webkitkeyadded",function(){n.g&&(ql(n,"usable"),n.g.resolve(),n.g=null)}),this.j.D(r,"webkitkeyerror",function(){var i=Error("EME PatchedMediaKeysApple key error");if(i.errorCode=n.i.error,n.h!=null)n.h.reject(i),n.h=null;else if(n.g!=null)n.g.reject(i),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:ql(n,"output-not-allowed");break;default:ql(n,"internal-error")}}),ql(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},d.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},d.update=function(e){this.g=new pt;try{this.i.update(Me(e))}catch(t){this.g.reject(t)}return this.g},d.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Za()}catch(e){this.closed.reject(e)}return this.closed},d.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function ql(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Ee("keystatuseschange"),e.dispatchEvent(t)}function B1(){this.size=0,this.g=void 0}d=B1.prototype,d.Pb=function(){return this.g},d.forEach=function(e){this.g&&e(this.g,Da.value())},d.get=function(e){if(this.has(e))return this.g},d.has=function(e){var t=Da.value();return!!(this.g&&zt(e,t))},d.entries=function(){},d.keys=function(){},d.values=function(){};function V1(){}function H1(){!v.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=YM,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=JM,v.MediaKeys=Xl,v.MediaKeySystemAccess=_d,v.shakaMediaKeysPolyfill=!0)}function YM(){return Promise.reject(Error("The key system specified is not supported."))}function JM(e){return e==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}Wt.PatchedMediaKeysNop=V1,V1.install=H1;function Xl(){throw new TypeError("Illegal constructor.")}Xl.prototype.createSession=function(){},Xl.prototype.setServerCertificate=function(){},Xl.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function _d(){throw this.keySystem="",new TypeError("Illegal constructor.")}_d.prototype.getConfiguration=function(){},_d.prototype.createMediaKeys=function(){},un(H1,-10);function K1(){}function z1(){if(!(!v.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Od="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=QM,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ZM,v.MediaKeys=Pu,v.MediaKeySystemAccess=Yl,v.shakaMediaKeysPolyfill=!0}}function Pd(e){var t=Od;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function QM(e,t){try{var n=new Yl(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function ZM(e){var t=this.mediaKeys;return t&&t!=e&&$1(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&$1(e,this),Promise.resolve()}Wt.PatchedMediaKeysWebkit=K1,K1.install=z1;function Yl(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video"),t=w(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var l=w(o.audioCapabilities),c=l.next();!c.done;c=l.next())c=c.value,c.contentType&&(u=!0,i.canPlayType(c.contentType.split(";")[0],this.g)&&(s.audioCapabilities.push(c),r=!0));if(o.videoCapabilities)for(l=w(o.videoCapabilities),c=l.next();!c.done;c=l.next())c=c.value,c.contentType&&(u=!0,i.canPlayType(c.contentType,this.g)&&(s.videoCapabilities.push(c),r=!0));if(u||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r){this.h=s;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Yl.prototype.createMediaKeys=function(){var e=new Pu(this.g);return Promise.resolve(e)},Yl.prototype.getConfiguration=function(){return this.h};function Pu(e){this.l=e,this.h=null,this.g=new ht,this.i=[],this.j=new Map}function $1(e,t){e.h=t,e.g.Za();var n=Od;t&&(e.g.D(t,n+"needkey",function(r){var i=new CustomEvent("encrypted");i.initDataType="cenc",i.initData=fn(r.initData),e.h.dispatchEvent(i)}),e.g.D(t,n+"keymessage",function(r){var i=Dd(e,r.sessionId);i&&(r=new Map().set("messageType",i.keyStatuses.Pb()==null?"licenserequest":"licenserenewal").set("message",r.message),r=new Ee("message",r),i.h&&(i.h.resolve(),i.h=null),i.dispatchEvent(r))}),e.g.D(t,n+"keyadded",function(r){(r=Dd(e,r.sessionId))&&(Jl(r,"usable"),r.g&&r.g.resolve(),r.g=null)}),e.g.D(t,n+"keyerror",function(r){var i=Dd(e,r.sessionId);if(i){var o=Error("EME v0.1b key error"),s=r.errorCode;s.systemCode=r.systemCode,o.errorCode=s,!r.sessionId&&i.h?(r.systemCode==45&&(o.message="Unsupported session type."),i.h.reject(o),i.h=null):r.sessionId&&i.g?(i.g.reject(o),i.g=null):(o=r.systemCode,r.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Jl(i,"output-restricted"):o==1?Jl(i,"expired"):Jl(i,"internal-error"))}}))}Pu.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new Nd(t,this.l,e),this.i.push(e),e},Pu.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Pu.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function Dd(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function Nd(e,t,n){Qe.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new pt,this.keyStatuses=new W1}Pe(Nd,Qe);function G1(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var r=Me(Yr("LOAD_SESSION|"+n));else{var i=Yr("PERSISTENT|");r=St(i,t)}else r=Me(t)}catch(s){return Promise.reject(s)}e.h=new pt;var o=Pd("generateKeyRequest");try{e.j[o](e.i,r)}catch(s){if(s.name!="InvalidStateError")return e.h=null,Promise.reject(s);new Ve(function(){try{e.j[o](e.i,r)}catch(u){e.h.reject(u),e.h=null}}).U(.01)}return e.h}function Ld(e,t,n){if(e.g)e.g.then(function(){return Ld(e,t,n)}).catch(function(){return Ld(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var r=gt(n),i=JSON.parse(r);i.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=fr(i.keys[0].k),i=fr(i.keys[0].kid)}else r=Me(n),i=null;var o=Pd("addKey");try{e.j[o](e.i,r,i,e.sessionId)}catch(s){e.g.reject(s),e.g=null}}}function Jl(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Ee("keystatuseschange"),e.dispatchEvent(t)}d=Nd.prototype,d.generateRequest=function(e,t){return G1(this,t,null)},d.load=function(e){return this.l=="persistent-license"?G1(this,null,e):Promise.reject(Error("Not a persistent session."))},d.update=function(e){var t=new pt;return Ld(this,t,e),t},d.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Pd("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},d.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function W1(){this.size=0,this.g=void 0}d=W1.prototype,d.Pb=function(){return this.g},d.forEach=function(e){this.g&&e(this.g,Da.value())},d.get=function(e){if(this.has(e))return this.g},d.has=function(e){var t=Da.value();return!!(this.g&&zt(e,t))},d.entries=function(){},d.keys=function(){},d.values=function(){};var Od="";un(z1);function q1(){}function X1(){if(v.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=tk,Object.defineProperty(e,"disablePictureInPicture",{get:rk,set:ik,enumerable:!0,configurable:!0}),document.exitPictureInPicture=nk,document.addEventListener("webkitpresentationmodechanged",ek,!0))}}function ek(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function tk(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function nk(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function rk(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function ik(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}Wt.PiPWebkit=q1,q1.install=X1,un(X1);function Y1(){}function J1(){v.crypto&&("randomUUID"in v.crypto||(v.crypto.randomUUID=ok))}function ok(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}Wt.RandomUUID=Y1,Y1.install=J1,un(J1);function Q1(){}function Z1(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=sk)}function sk(){return new Promise(function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(n,r){e({usage:n,quota:r})},t)})}Wt.StorageEstimate=Q1,Q1.install=Z1,un(Z1);function ew(){}function tw(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:uk})}function uk(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}Wt.Symbol=ew,ew.install=tw,un(tw);function nw(){}function rw(){if(v.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}Wt.VideoPlayPromise=nw,nw.install=rw,un(rw);function iw(){}function ow(){if(v.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||of())&&(e.getVideoPlaybackQuality=ak)}}function ak(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Wt.VideoPlaybackQuality=iw,iw.install=ow,un(ow);function sw(){}function uw(){if(!v.VTTCue&&v.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=jd;else if(t==6)e=lk;else{try{var n=!!jd(1,2,"")}catch{n=!1}n&&(e=jd)}e&&(v.VTTCue=function(r,i,o){return e(r,i,o)})}}function jd(e,t,n){return new v.TextTrackCue(e,t,n)}function lk(e,t,n){return new v.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}Wt.VTTCue=sw,sw.install=uw,un(uw);function jn(){}jn.prototype.parseInit=function(){},jn.prototype.setSequenceMode=function(){},jn.prototype.setManifestType=function(){},jn.prototype.parseMedia=function(e,t){var n=null,r=[];e=gt(e).split(/\r?\n/),e=w(e);for(var i=e.next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=ck.exec(i))){var o=fk.exec(i[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),i=new at(o,t.segmentEnd?t.segmentEnd:o+2,i[2]),n&&(n.endTime=o,r.push(n)),n=i}return n&&r.push(n),r},ue("shaka.text.LrcTextParser",jn),jn.prototype.parseMedia=jn.prototype.parseMedia,jn.prototype.setManifestType=jn.prototype.setManifestType,jn.prototype.setSequenceMode=jn.prototype.setSequenceMode,jn.prototype.parseInit=jn.prototype.parseInit;var ck=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,fk=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;$t["application/x-subtitle-lrc"]=function(){return new jn};function An(){}An.prototype.parseInit=function(){},An.prototype.setSequenceMode=function(){},An.prototype.setManifestType=function(){},An.prototype.parseMedia=function(e,t,n){var r=gt(e);if(e=[],r=="")return e;var i=Uo(r,"tt");if(!i)throw new P(2,2,2005,"Failed to parse TTML.");if(r=i.getElementsByTagName("body")[0],!r)return[];var o=Or(i,Du,"frameRate"),s=Or(i,Du,"subFrameRate"),u=Or(i,Du,"frameRateMultiplier"),l=Or(i,Du,"tickRate"),c=Or(i,Du,"cellResolution"),h=i.getAttribute("xml:space")||"default",m=Or(i,ec,"extent");if(h!="default"&&h!="preserve")throw new P(2,2,2005,"Invalid xml:space value: "+h);h=h=="default",o=new pk(o,s,u,l),c=c&&(c=/^(\d+) (\d+)$/.exec(c))?{Kb:parseInt(c[1],10),rows:parseInt(c[2],10)}:null,s=(s=i.getElementsByTagName("metadata")[0])?VS(s):[],u=Array.from(i.getElementsByTagName("style")),i=Array.from(i.getElementsByTagName("region")),l=[];for(var T=w(i),y=T.next();!y.done;y=T.next()){var S=y.value;y=new Fi;var E=S.getAttribute("xml:id");if(E){y.id=E;var C=null;m&&(C=Bd.exec(m)||Vd.exec(m)),E=C?Number(C[1]):null,C=C?Number(C[2]):null;var k,M=Ql(S,u,"extent");if(M){var _=(k=Bd.exec(M))||Vd.exec(M);_!=null&&(y.width=Number(_[1]),y.height=Number(_[2]),k||(E!=null&&(y.width=100*y.width/E),C!=null&&(y.height=100*y.height/C)),y.widthUnits=k||E!=null?Gn:0,y.heightUnits=k||C!=null?Gn:0)}(S=Ql(S,u,"origin"))&&(_=(k=Bd.exec(S))||Vd.exec(S),_!=null&&(y.viewportAnchorX=Number(_[1]),y.viewportAnchorY=Number(_[2]),k?M||(y.width=100-y.viewportAnchorX,y.widthUnits=Gn,y.height=100-y.viewportAnchorY,y.heightUnits=Gn):(C!=null&&(y.viewportAnchorY=100*y.viewportAnchorY/C),E!=null&&(y.viewportAnchorX=100*y.viewportAnchorX/E)),y.viewportAnchorUnits=k||E!=null?Gn:0))}else y=null;y&&l.push(y)}if(mt(r,"p").length)throw new P(2,2,2001,"<p> can only be inside <div> in TTML");for(m=w(mt(r,"div")),T=m.next();!T.done;T=m.next())if(mt(T.value,"span").length)throw new P(2,2,2001,"<span> can only be inside <p> in TTML");return(t=aw(r,t,o,s,u,i,l,h,c,null,!1,n))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function aw(e,t,n,r,i,o,s,u,l,c,h,m){var T=e.parentNode;if(e.nodeType==Node.COMMENT_NODE)return null;if(e.nodeType==Node.TEXT_NODE){if(!h)return null;var y=document.createElement("span");y.textContent=e.textContent}else y=e;for(var S=null,E=w(yw),C=E.next();!C.done&&!(S=Zl(y,"backgroundImage",r,"#",C.value)[0]);C=E.next());E=null;var k=Or(y,yw,"backgroundImage");if(m&&k&&!k.startsWith("#")&&(C=new _t(m),k=new _t(k),(C=C.resolve(k).toString())&&(E=C)),(e.nodeName=="p"||S||E)&&(h=!0),e=h,C=(y.getAttribute("xml:space")||(u?"default":"preserve"))=="default",k=Array.from(y.childNodes).every(function(L){return L.nodeType==Node.TEXT_NODE}),u=[],!k)for(var M=w(y.childNodes),_=M.next();!_.done;_=M.next())(_=aw(_.value,t,n,r,i,o,s,C,l,y,h,m))&&u.push(_);if(r=c!=null,m=/\S/.test(y.textContent),_=y.hasAttribute("begin")||y.hasAttribute("end")||y.hasAttribute("dur"),!(_||m||y.tagName=="br"||u.length!=0||r&&!C))return null;for(M=fw(y,n),m=M.start,M=M.end;T&&T.nodeType==Node.ELEMENT_NODE&&T.tagName!="tt";)M=dk(T,n,m,M),m=M.start,M=M.end,T=T.parentNode;if(m==null&&(m=0),m+=t.periodStart,M=M==null?1/0:M+t.periodStart,m=Math.max(m,t.segmentStart),M=Math.min(M,t.segmentEnd),!_&&0<u.length)for(m=1/0,M=0,t=w(u),n=t.next();!n.done;n=t.next())n=n.value,m=Math.min(m,n.startTime),M=Math.max(M,n.endTime);if(y.tagName=="br")return i=new at(m,M,""),i.lineBreak=!0,i;if(t="",k&&(t=y.textContent,C&&(t=t.trim(),t=t.replace(/\s+/g," "))),t=new at(m,M,t),t.nestedCues=u,h||(t.isContainer=!0),l&&(t.cellResolution=l),l=Zl(y,"region",o,"")[0],y.hasAttribute("region")&&l&&l.getAttribute("xml:id")){var R=l.getAttribute("xml:id");t.region=s.filter(function(L){return L.id==R})[0]}return s=l,c&&r&&!y.getAttribute("region")&&!y.getAttribute("style")&&(s=Zl(c,"region",o,"")[0]),hk(t,y,s,S,E,i,e,u.length==0),t}function hk(e,t,n,r,i,o,s,u){if(s=s||u,Zt(t,n,o,"direction",s)=="rtl"&&(e.direction="rtl"),u=Zt(t,n,o,"writingMode",s),u=="tb"||u=="tblr"?e.writingMode="vertical-lr":u=="tbrl"?e.writingMode="vertical-rl":u=="rltb"||u=="rl"?e.direction="rtl":u&&(e.direction=Ds),(u=Zt(t,n,o,"textAlign",!0))?(e.positionAlign=vk[u],e.lineAlign=mk[u],e.textAlign=Gc[u.toUpperCase()]):e.textAlign=zr,(u=Zt(t,n,o,"displayAlign",!0))&&(e.displayAlign=Xp[u.toUpperCase()]),(u=Zt(t,n,o,"color",s))&&(e.color=u),(u=Zt(t,n,o,"backgroundColor",s))&&(e.backgroundColor=u),(u=Zt(t,n,o,"border",s))&&(e.border=u),u=Zt(t,n,o,"fontFamily",s))switch(u){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=u}switch((u=Zt(t,n,o,"fontWeight",s))&&u=="bold"&&(e.fontWeight=700),u=Zt(t,n,o,"wrapOption",s),e.wrapLine=!(u&&u=="noWrap"),(u=Zt(t,n,o,"lineHeight",s))&&u.match(ds)&&(e.lineHeight=u),(u=Zt(t,n,o,"fontSize",s))&&(u.match(ds)||u.match(gk))&&(e.fontSize=u),(u=Zt(t,n,o,"fontStyle",s))&&(e.fontStyle=Zp[u.toUpperCase()]),r?(i=r.getAttribute("imageType")||r.getAttribute("imagetype"),u=r.getAttribute("encoding"),r=r.textContent.trim(),i=="PNG"&&u=="Base64"&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=Zt(t,n,o,"textOutline",s))&&(r=r.split(" "),r[0].match(ds)?e.textStrokeColor=e.color:(e.textStrokeColor=r[0],r.shift()),r[0]&&r[0].match(ds)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=Zt(t,n,o,"letterSpacing",s))&&r.match(ds)&&(e.letterSpacing=r),(r=Zt(t,n,o,"linePadding",s))&&r.match(ds)&&(e.linePadding=r),(r=Zt(t,n,o,"opacity",s))&&(e.opacity=parseFloat(r)),(r=Ql(n,o,"textDecoration"))&&lw(e,r),(r=bd(t,o,"textDecoration"))&&lw(e,r),(r=Zt(t,n,o,"textCombine",s))&&(e.textCombineUpright=r),Zt(t,n,o,"ruby",s)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function lw(e,t){t=w(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&Tr(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Tr(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Tr(e.textDecoration,"overline")}}function Zt(e,t,n,r,i){return i=i===void 0?!0:i,(e=bd(e,n,r))?e:i?Ql(t,n,r):null}function Ql(e,t,n){if(!e)return null;var r=Or(e,ec,n);return r||cw(e,t,n)}function bd(e,t,n){var r=Or(e,ec,n);return r||cw(e,t,n)}function cw(e,t,n){e=Zl(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var o=Xi(e[i],"urn:ebu:tt:style",n);o||(o=Or(e[i],ec,n)),o||(o=bd(e[i],t,n)),o&&(r=o)}return r}function Zl(e,t,n,r,i){var o=[];if(!e||1>n.length)return o;var s=e;for(e=null;s&&!(e=i?Xi(s,i,t):s.getAttribute(t))&&(s=s.parentNode,s instanceof Element););if(t=e){for(t=w(t.split(" ")),i=t.next();!i.done;i=t.next())for(i=i.value,e=w(n),s=e.next();!s.done;s=e.next())if(s=s.value,r+s.getAttribute("xml:id")==i){o.push(s);break}}return o}function dk(e,t,n,r){return e=fw(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),r==null?r=e.end:e.start!=null&&(r+=e.start),{start:n,end:r}}function fw(e,t){var n=Ud(e.getAttribute("begin"),t),r=Ud(e.getAttribute("end"),t);return e=Ud(e.getAttribute("dur"),t),r==null&&e!=null&&(r=n+e),{start:n,end:r}}function Ud(e,t){var n=null;if(hw.test(e)){e=hw.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,i+=o/t.frameRate,n=i+60*r+3600*n}else if(dw.test(e))n=Fd(dw,e);else if(pw.test(e))n=Fd(pw,e);else if(gw.test(e))e=gw.exec(e),n=Number(e[1])/t.frameRate;else if(mw.test(e))e=mw.exec(e),n=Number(e[1])/t.g;else if(vw.test(e))n=Fd(vw,e);else if(e)throw new P(2,2,2001,"Could not parse cue time range in TTML");return n}function Fd(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}ue("shaka.text.TtmlTextParser",An),An.prototype.parseMedia=An.prototype.parseMedia,An.prototype.setManifestType=An.prototype.setManifestType,An.prototype.setSequenceMode=An.prototype.setSequenceMode,An.prototype.parseInit=An.prototype.parseInit;function pk(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var Bd=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,gk=/^(\d{1,2}(?:\.\d+)?|100)%$/,ds=/^(\d+px|\d+em|\d*\.?\d+c)$/,Vd=/^(\d+)px (\d+)px$/,hw=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,dw=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,pw=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,gw=/^(\d*(?:\.\d*)?)f$/,mw=/^(\d*(?:\.\d*)?)t$/,vw=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),mk={left:Ui,center:"center",right:"end",start:Ui,end:"end"},vk={left:"line-left",center:"center",right:"line-right"},Du=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],ec=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],yw=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];$t["application/ttml+xml"]=function(){return new An};function an(){this.g=new An}an.prototype.parseInit=function(e){var t=!1;if(new lt().box("moov",Ze).box("trak",Ze).box("mdia",Ze).box("minf",Ze).box("stbl",Ze).O("stsd",Oo).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new P(2,2,2007)},an.prototype.setSequenceMode=function(){},an.prototype.setManifestType=function(){},an.prototype.parseMedia=function(e,t,n){var r=this,i=!1,o=[];if(new lt().box("mdat",jo(function(s){i=!0,o=o.concat(r.g.parseMedia(s,t,n))})).parse(e,!1),!i)throw new P(2,2,2007);return o},ue("shaka.text.Mp4TtmlParser",an),an.prototype.parseMedia=an.prototype.parseMedia,an.prototype.setManifestType=an.prototype.setManifestType,an.prototype.setSequenceMode=an.prototype.setSequenceMode,an.prototype.parseInit=an.prototype.parseInit,$t['application/mp4; codecs="stpp"']=function(){return new an},$t['application/mp4; codecs="stpp.ttml"']=function(){return new an},$t['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new an},$t['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new an};function ln(){this.h=!1,this.g="UNKNOWN"}ln.prototype.parseInit=function(){},ln.prototype.setSequenceMode=function(e){this.h=e},ln.prototype.setManifestType=function(e){this.g=e},ln.prototype.parseMedia=function(e,t){e=gt(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new P(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&this.h){var r=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),i=n[0].match(/MPEGTS:(\d+)/m);if(r&&i){if(e=tc(new ro(r[1])),e==null)throw new P(2,2,2e3);for(i=Number(i[1]),r=t.segmentStart-t.periodStart;95443.7176888889<=r;)r-=95443.7176888889,i+=8589934592;e=t.periodStart+i/9e4-e}}else n[0].includes("X-TIMESTAMP-MAP")&&this.g=="HLS"&&(e=t.segmentStart);for(t=[],i=w(n[0].split(`
`)),r=i.next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new ro(r);var o=new Fi;io(r),as(r);for(var s=io(r);s;){var u=o,l=s;(s=/^id=(.*)$/.exec(l))?u.id=s[1]:(s=/^width=(\d{1,2}|100)%$/.exec(l))?u.width=Number(s[1]):(s=/^lines=(\d+)$/.exec(l))?(u.height=Number(s[1]),u.heightUnits=2):(s=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(l))?(u.regionAnchorX=Number(s[1]),u.regionAnchorY=Number(s[2])):(s=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(l))?(u.viewportAnchorX=Number(s[1]),u.viewportAnchorY=Number(s[2])):/^scroll=up$/.exec(l)&&(u.scroll="up"),as(r),s=io(r)}t.push(o)}for(i=new Map,ww(i),r=[],n=w(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(u=[],s=-1,l=1;l<o.length;l++)o[l].includes("::cue")&&(u.push([]),s=u.length-1),s!=-1&&(u[s].push(o[l]),o[l].includes("}")&&(s=-1));for(u=w(u),s=u.next();!s.done;s=u.next()){var c=s.value;s="global",(l=c[0].match(/\((.*)\)/))&&(s=l.pop()),l=c.slice(1,-1),c[0].includes("}")&&(c=/\{(.*?)\}/.exec(c[0]))&&(l=c[1].split(";")),(c=i.get(s))||(c=new at(0,0,""));for(var h=!1,m=0;m<l.length;m++){var T=/^\s*([^:]+):\s*(.*)/.exec(l[m]);if(T){var y=T[2].trim().replace(";","");switch(T[1].trim()){case"background-color":case"background":h=!0,c.backgroundColor=y;break;case"color":h=!0,c.color=y;break;case"font-family":h=!0,c.fontFamily=y;break;case"font-size":h=!0,c.fontSize=y;break;case"font-weight":(700<=parseInt(y,10)||y=="bold")&&(h=!0,c.fontWeight=700);break;case"font-style":switch(y){case"normal":h=!0,c.fontStyle=qc;break;case"italic":h=!0,c.fontStyle="italic";break;case"oblique":h=!0,c.fontStyle="oblique"}break;case"opacity":h=!0,c.opacity=parseFloat(y);break;case"text-combine-upright":h=!0,c.textCombineUpright=y;break;case"text-shadow":h=!0,c.textShadow=y;break;case"white-space":h=!0,c.wrapLine=y!="noWrap"}}}h&&i.set(s,c)}}if(h=e,o.length==1&&!o[0]||/^NOTE($|[ \t])/.test(o[0])||o[0]=="STYLE"||o[0]=="REGION")o=null;else if(u=null,o[0].includes("-->")||(u=o[0],o.splice(0,1)),s=new ro(o[0]),l=tc(s),m=Ai(s,/[ \t]+--\x3e[ \t]+/g),c=tc(s),l==null||m==null||c==null)X("Failed to parse VTT time code. Cue skipped:",u,o),o=null;else{for(l+=h,c+=h,o=o.slice(1).join(`
`).trim(),i.has("global")?(h=i.get("global").clone(),h.startTime=l,h.endTime=c,h.payload=""):h=new at(l,c,""),as(s),l=io(s);l;)Sw(h,l,t),as(s),l=io(s);Tw(o,h,i),u!=null&&(h.id=u),o=h}o&&r.push(o)}return r};function ww(e){for(var t=w(Object.entries(Yp)),n=t.next();!n.done;n=t.next()){var r=w(n.value);n=r.next().value,r=r.next().value;var i=new at(0,0,"");i.color=r,e.set("."+n,i)}for(t=w(Object.entries(Jp)),n=t.next();!n.done;n=t.next())r=w(n.value),n=r.next().value,r=r.next().value,i=new at(0,0,""),i.backgroundColor=r,e.set("."+n,i)}function Tw(e,t,n){if(e.includes("<")){n.size===0&&ww(n);e:{for(var r=[],i=-1,o="",s=0;s<e.length;s++)if(e[s]==="/"&&0<s&&e[s-1]==="<"){var u=e.indexOf(">",s);if(u<=s)break e;if((u=e.substring(s+1,u))&&u==="c"){var l=r.pop();l?l===u?(o+="/"+u+">",s+=u.length+1):l.startsWith("c.")?(s+=u.length+1,o+="/"+l+">"):o+=e[s]:o+=e[s]}else o+=e[s]}else e[s]==="<"?(i=s+1,e[i]!="c"&&(i=-1)):e[s]===">"&&0<i&&(r.push(e.substr(i,s-i)),i=-1),o+=e[s];e=o}for(r=e,e=[],o=-1,i=0;i<r.length;i++)r[i]==="<"?o=i+1:r[i]===">"&&0<o&&(o=r.substr(o,i-o),o.match(Ew)&&e.push(o),o=-1);for(e=w(e),i=e.next();!i.done;i=e.next())i=i.value,r=r.replace("<"+i+">",'<div time="'+i+'">'),r+="</div>";e=r;e:{for(i=e,o=[],s=-1,e="",r=!1,u=0;u<i.length;u++)if(i[u]==="/"){if(l=i.indexOf(">",u),l===-1){e=i;break e}if((l=i.substring(u+1,l))&&l=="v"){r=!0;var c=null;if(o.length&&(c=o[o.length-1]),c){if(c===l)e+="/"+l+">";else{if(!c.startsWith("v")){e+=i[u];continue}e+="/"+c+">"}u+=l.length+1}else e+=i[u]}else e+=i[u]}else i[u]==="<"?(s=u+1,i[s]!="v"&&(s=-1)):i[u]===">"&&0<s&&(o.push(i.substr(s,u-s)),s=-1),e+=i[u];for(i=w(o),o=i.next();!o.done;o=i.next())o=o.value,s=o.replace(" ",".voice-"),e=e.replace("<"+o+">","<"+s+">"),e=e.replace("</"+o+">","</"+s+">"),r||(e+="</"+s+">")}if(r=Uo("<span>"+e+"</span>","span")){if(r=r.childNodes,r.length==1&&(i=r[0],i.nodeType==Node.TEXT_NODE||i.nodeType==Node.CDATA_SECTION_NODE)){t.payload=nc(e);return}for(e=w(r),r=e.next();!r.done;r=e.next())xw(r.value,t,n)}else t.payload=nc(e)}else t.payload=nc(e)}function Nu(e,t){return e&&0<e.length?e:t}function xw(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new Fi,r.position=null,r.size=0,e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var i=w(e.nodeName.split(/(?=[ .])+/g)),o=i.next();!o.done;o=i.next()){var s=o=o.value;if(s.startsWith(".voice-")){var u=s.split("-").pop();s='v[voice="'+u+'"]',n.has(s)||(s="v[voice="+u+"]")}switch(n.has(s)&&(s=n.get(s))&&(r.backgroundColor=Nu(s.backgroundColor,r.backgroundColor),r.color=Nu(s.color,r.color),r.fontFamily=Nu(s.fontFamily,r.fontFamily),r.fontSize=Nu(s.fontSize,r.fontSize),r.textShadow=Nu(s.textShadow,r.textShadow),r.fontWeight=s.fontWeight,r.fontStyle=s.fontStyle,r.opacity=s.opacity,r.rubyTag=s.rubyTag,r.textCombineUpright=s.textCombineUpright,r.wrapLine=s.wrapLine),o){case"br":r=qp(r.startTime,r.endTime),t.nestedCues.push(r);return;case"b":r.fontWeight=700;break;case"i":r.fontStyle="italic";break;case"u":r.textDecoration.push("underline");break;case"font":(o=e.getAttribute("color"))&&(r.color=o);break;case"div":if(o=e.getAttribute("time"),!o)break;(o=tc(new ro(o)))&&(r.startTime=o);break;case"ruby":case"rp":case"rt":r.rubyTag=o}}if(i=e.childNodes,wf(e)||i.length==1&&wf(i[0]))for(i=!0,n=w(e.textContent.split(`
`)),e=n.next();!e.done;e=n.next())e=e.value,i||(i=qp(r.startTime,r.endTime),t.nestedCues.push(i)),0<e.length&&(i=r.clone(),i.payload=nc(e),t.nestedCues.push(i)),i=!1;else for(t.nestedCues.push(r),t=w(i),e=t.next();!e.done;e=t.next())xw(e.value,r,n)}function Sw(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],t=="middle"?e.textAlign=zr:e.textAlign=Gc[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=r[1]=="lr"?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":na)):(r=/^region:(.*)$/.exec(t))?(t=yk(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Wc[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=ra,e.line=Number(n[1]),n[2]&&(e.lineAlign=Wc[n[2].toUpperCase()]))}function yk(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}function tc(e){if(e=Ai(e,Ew),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function nc(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return t[i]||"'"}):e||""}ue("shaka.text.VttTextParser",ln),ln.prototype.parseMedia=ln.prototype.parseMedia,ln.prototype.setManifestType=ln.prototype.setManifestType,ln.prototype.setSequenceMode=ln.prototype.setSequenceMode,ln.prototype.parseInit=ln.prototype.parseInit;var Ew=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;$t["text/vtt"]=function(){return new ln},$t['text/vtt; codecs="vtt"']=function(){return new ln},$t['text/vtt; codecs="wvtt"']=function(){return new ln};function bn(){this.g=null}bn.prototype.parseInit=function(e){var t=this,n=!1;if(new lt().box("moov",Ze).box("trak",Ze).box("mdia",Ze).O("mdhd",function(r){r=Na(r.reader,r.version),t.g=r.timescale}).box("minf",Ze).box("stbl",Ze).O("stsd",Oo).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new P(2,2,2008);if(!n)throw new P(2,2,2008)},bn.prototype.setSequenceMode=function(){},bn.prototype.setManifestType=function(){},bn.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new P(2,2,2008);var n=0,r=[],i,o=[],s=!1,u=!1,l=!1,c=null;if(new lt().box("moof",Ze).box("traf",Ze).O("tfdt",function(_){s=!0,n=_f(_.reader,_.version).baseMediaDecodeTime}).O("tfhd",function(_){c=gm(_.reader,_.flags).Kf}).O("trun",function(_){u=!0,r=mm(_.reader,_.version,_.flags).ig}).box("mdat",jo(function(_){l=!0,i=_})).parse(e,!1),!l&&!s&&!u)throw new P(2,2,2008);e=n;for(var h=new rt(i,0),m=w(r),T=m.next();!T.done;T=m.next()){T=T.value;var y=T.hf||c,S=T.Wd?n+T.Wd:e;e=S+(y||0);var E=0;do{var C=h.L();E+=C;var k=h.L(),M=null;Ma(k)=="vttc"?8<C&&(M=h.ub(C-8)):h.skip(C-8),y&&M&&(C=wk(M,t.periodStart+S/this.g,t.periodStart+e/this.g),o.push(C))}while(T.sampleSize&&E<T.sampleSize)}return o.filter(Ao)};function wk(e,t,n){var r,i,o;return new lt().box("payl",jo(function(s){r=gt(s)})).box("iden",jo(function(s){i=gt(s)})).box("sttg",jo(function(s){o=gt(s)})).parse(e),r?Tk(r,i,o,t,n):null}function Tk(e,t,n,r,i){if(r=new at(r,i,""),Tw(e,r,new Map),t&&(r.id=t),n)for(e=new ro(n),t=io(e);t;)Sw(r,t,[]),as(e),t=io(e);return r}ue("shaka.text.Mp4VttParser",bn),bn.prototype.parseMedia=bn.prototype.parseMedia,bn.prototype.setManifestType=bn.prototype.setManifestType,bn.prototype.setSequenceMode=bn.prototype.setSequenceMode,bn.prototype.parseInit=bn.prototype.parseInit,$t['application/mp4; codecs="wvtt"']=function(){return new bn};function Un(){}Un.prototype.parseInit=function(){},Un.prototype.setSequenceMode=function(){},Un.prototype.setManifestType=function(){},Un.prototype.parseMedia=function(e){var t=gt(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=w(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var r=new ro(n[0]),i=Aw(r),o=Ai(r,/,/g);if(r=Aw(r),i==null||o==null||r==null)throw new P(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new at(i,r,n.slice(1).join(`
`).trim()))}return e};function Aw(e){if(e=Ai(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}ue("shaka.text.SbvTextParser",Un),Un.prototype.parseMedia=Un.prototype.parseMedia,Un.prototype.setManifestType=Un.prototype.setManifestType,Un.prototype.setSequenceMode=Un.prototype.setSequenceMode,Un.prototype.parseInit=Un.prototype.parseInit,$t["text/x-subviewer"]=function(){return new Un};function In(){this.g=new ln}In.prototype.parseInit=function(){},In.prototype.setSequenceMode=function(){},In.prototype.setManifestType=function(){},In.prototype.parseMedia=function(e,t,n){return e=gt(e),e=Iw(e),e=Me(Yr(e)),this.g.parseMedia(e,t,n)};function Iw(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=w(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`;return t}ue("shaka.text.SrtTextParser",In),In.srt2webvtt=Iw,In.prototype.parseMedia=In.prototype.parseMedia,In.prototype.setManifestType=In.prototype.setManifestType,In.prototype.setSequenceMode=In.prototype.setSequenceMode,In.prototype.parseInit=In.prototype.parseInit,$t["text/srt"]=function(){return new In};function Fn(){}Fn.prototype.parseInit=function(){},Fn.prototype.setSequenceMode=function(){},Fn.prototype.setManifestType=function(){},Fn.prototype.parseMedia=function(e){var t="",n="";e=gt(e).split(/\r?\n\s*\r?\n/),e=w(e);for(var r=e.next();!r.done;r=e.next()){var i=Sk.exec(r.value);i&&(r=i[1],i=i[2],r=="V4 Styles"||r=="V4+ Styles"?t=i:r=="Events"&&(n=i))}e=[],r=null,t=w(t.split(/\r?\n/));for(var o=t.next();!o.done;o=t.next())if(i=o.value,!/^\s*;/.test(i)&&(o=kw.exec(i))){if(i=o[1].trim(),o=o[2].trim(),i=="Format")r=o.split(rc);else if(i=="Style"){i=o.split(rc),o={};for(var s=0;s<r.length&&s<i.length;s++)o[r[s]]=i[s];e.push(o)}}for(r=[],t=null,i={},n=w(n.split(/\r?\n/)),o=n.next();!o.done;i={ee:i.ee},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(s=kw.exec(o))){if(o=s[1].trim(),s=s[2].trim(),o=="Format")t=s.split(rc);else if(o=="Dialogue"){s=s.split(rc),o={};for(var u=0;u<t.length&&u<s.length;u++)o[t[u]]=s[u];u=Mw(o.Start);var l=Mw(o.End);s=new at(u,l,s.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),i.ee=o.Style,(o=e.find(function(c){return function(h){return h.Name==c.ee}}(i)))&&xk(s,o),r.push(s)}}return r};function xk(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=Cw(n))&&(e.color=n),(n=t.BackColour)&&(n=Cw(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=700),t.Italic&&(e.fontStyle="italic"),t.Underline&&e.textDecoration.push("underline"),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=Ps,e.textAlign="start";break;case 2:e.displayAlign=Ps,e.textAlign=zr;break;case 3:e.displayAlign=Ps,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=zr;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=zr;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function Cw(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function Mw(e){return e=Ek.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}ue("shaka.text.SsaTextParser",Fn),Fn.prototype.parseMedia=Fn.prototype.parseMedia,Fn.prototype.setManifestType=Fn.prototype.setManifestType,Fn.prototype.setSequenceMode=Fn.prototype.setSequenceMode,Fn.prototype.parseInit=Fn.prototype.parseInit;var Sk=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,kw=/^\s*([^:]+):\s*(.*)/,rc=/\s*,\s*/,Ek=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;$t["text/x-ssa"]=function(){return new Fn};function Rw(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{Hd:n,S:e}:null}function _w(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(e[t+2]&60)>>>2;if(r>n.length-1)return null;var i=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[r],channelCount:o,ha:"mp4a.40."+i}}function Ak(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var r=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return r<=n?!1:(t+=r,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function Ik(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function Zn(e){this.i=e,this.h=0,this.g=new Map}d=Zn.prototype,d.destroy=function(){this.g.clear()},d.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?ge(this.convertCodecs("audio",e)):!1},d.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(ar(t)||"mp4a.40.2")+'"':t},d.getOriginalMimeType=function(){return this.i},d.transmux=function(e,t,n,r){for(var i=Me(e),o=qs(i),s=o.length;s<i.length&&!Ak(i,s);s++);if(e=1e3*n.endTime,o=Ji(o),o.length&&n&&(n=o.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=n.data),n=_w(i,s),!n)return Promise.reject(new P(2,3,3018));for(t.audioSamplingRate=n.sampleRate,t.channelsCount=n.channelCount,o=[];s<i.length;){var u=Rw(i,s);if(!u)return Promise.reject(new P(2,3,3018));var l=u.Hd+u.S;s+l<=i.length&&o.push({data:i.subarray(s+u.Hd,s+l),size:u.S,duration:1024,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),s+=l}return i=n.sampleRate,e=Math.floor(e*i/1e3),r={id:t.id,type:"audio",codecs:n.ha,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,Ra:[],fa:new Uint8Array([]),la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.h,baseMediaDecodeTime:e,Oa:o},stream:t},e=new cs([r]),this.g.has(t.id)?r=this.g.get(t.id):(r=fs(e),this.g.set(t.id,r)),t=Au(e),this.h++,t=St(r,t),Promise.resolve(t)},ue("shaka.transmuxer.AacTransmuxer",Zn),Zn.prototype.transmux=Zn.prototype.transmux,Zn.prototype.getOriginalMimeType=Zn.prototype.getOriginalMimeType,Zn.prototype.convertCodecs=Zn.prototype.convertCodecs,Zn.prototype.isSupported=Zn.prototype.isSupported,Zn.prototype.destroy=Zn.prototype.destroy,$r("audio/aac",function(){return new Zn("audio/aac")},vi);function Pw(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var r=e[t+4]&63,i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var o=e[t+6]>>5,s=0;o===2?s+=2:(o&1&&o!==1&&(s+=2),o&4&&(s+=2)),s=(e[t+6]<<8|e[t+7])>>12-s&1;var u=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|u>>2,(u&3)<<6|o<<3|s<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+s,fa:e,S:i}}function Ck(e,t){if(e[t]===11&&e[t+1]===119){var n=0,r=5;t+=r;for(var i,o;0<r;){o=e[t];var s=Math.min(r,8),u=8-s;i=4278190080>>>24+u<<u,i=(o&i)>>u,n=n?n<<s|i:i,t+=1,r-=s}if(16>n)return!0}return!1}function er(e){this.i=e,this.h=0,this.g=new Map}d=er.prototype,d.destroy=function(){this.g.clear()},d.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?ge(this.convertCodecs("audio",e)):!1},d.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?'audio/mp4; codecs="ac-3"':t},d.getOriginalMimeType=function(){return this.i},d.transmux=function(e,t,n,r){e=Me(e);for(var i=qs(e),o=i.length;o<e.length&&!Ck(e,o);o++);var s=1e3*n.endTime;i=Ji(i),i.length&&n&&(n=i.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(s=n.data),n=0,i=new Uint8Array([]);for(var u=[];o<e.length;){var l=Pw(e,o);if(!l)return Promise.reject(new P(2,3,3018));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,n=l.sampleRate,i=l.fa,u.push({data:e.subarray(o,o+l.S),size:l.S,duration:1536,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),o+=l.S}return e=Math.floor(s*n/1e3),r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:r,Ra:[],fa:i,la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.h,baseMediaDecodeTime:e,Oa:u},stream:t},e=new cs([r]),this.g.has(t.id)?r=this.g.get(t.id):(r=fs(e),this.g.set(t.id,r)),t=Au(e),this.h++,t=St(r,t),Promise.resolve(t)},ue("shaka.transmuxer.Ac3Transmuxer",er),er.prototype.transmux=er.prototype.transmux,er.prototype.getOriginalMimeType=er.prototype.getOriginalMimeType,er.prototype.convertCodecs=er.prototype.convertCodecs,er.prototype.isSupported=er.prototype.isSupported,er.prototype.destroy=er.prototype.destroy,$r("audio/ac3",function(){return new er("audio/ac3")},vi);function Dw(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new ti(e.subarray(t+2));xn(n,2),xn(n,3);var r=be(n,11)+1<<1,i=be(n,2);if(i==3){i=be(n,2),i=[24e3,22060,16e3][i];var o=3}else i=[48e3,44100,32e3][i],o=be(n,2);var s=be(n,3),u=be(n,1);return n=be(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][o])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,i<<6|n<<1|0,0|s<<1|u<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][s]+u,fa:e,S:r})}function tr(e){this.i=e,this.h=0,this.g=new Map}d=tr.prototype,d.destroy=function(){this.g.clear()},d.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?ge(this.convertCodecs("audio",e)):!1},d.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},d.getOriginalMimeType=function(){return this.i},d.transmux=function(e,t,n,r){e=Me(e);for(var i=qs(e),o=i.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var s=1e3*n.endTime;i=Ji(i),i.length&&n&&(n=i.find(function(c){return c.description==="com.apple.streaming.transportStreamTimestamp"}))&&(s=n.data),n=0,i=new Uint8Array([]);for(var u=[];o<e.length;){var l=Dw(e,o);if(!l)return Promise.reject(new P(2,3,3018));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,n=l.sampleRate,i=l.fa,u.push({data:e.subarray(o,o+l.S),size:l.S,duration:1536,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),o+=l.S}return e=Math.floor(s*n/1e3),r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:n,duration:r,Ra:[],fa:i,la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.h,baseMediaDecodeTime:e,Oa:u},stream:t},e=new cs([r]),this.g.has(t.id)?r=this.g.get(t.id):(r=fs(e),this.g.set(t.id,r)),t=Au(e),this.h++,t=St(r,t),Promise.resolve(t)},ue("shaka.transmuxer.Ec3Transmuxer",tr),tr.prototype.transmux=tr.prototype.transmux,tr.prototype.getOriginalMimeType=tr.prototype.getOriginalMimeType,tr.prototype.convertCodecs=tr.prototype.convertCodecs,tr.prototype.isSupported=tr.prototype.isSupported,tr.prototype.destroy=tr.prototype.destroy,$r("audio/ec3",function(){return new tr("audio/ec3")},vi);function Mk(e){if(!e.length)return null;var t=e.find(function(E){return E.type==7});if(e=e.find(function(E){return E.type==8}),!t||!e)return null;var n=new ti(t.data),r=$e(n);if($e(n),$e(n),dn(n),Rk.includes(r)&&(r=le(n),r===3&&xn(n,1),dn(n),dn(n),xn(n,1),ve(n))){r=r!==3?8:12;for(var i=0;i<r;i++)ve(n)&&(6>i?La(n,16):La(n,64))}if(dn(n),r=le(n),r===0)le(n);else if(r===1)for(xn(n,1),dn(n),dn(n),r=le(n),i=0;i<r;i++)dn(n);dn(n),xn(n,1);var o=le(n),s=le(n),u=be(n,1);u===0&&xn(n,1),xn(n,1);var l=0,c=0,h=0,m=0;if(ve(n)&&(l=le(n),c=le(n),h=le(n),m=le(n)),i=r=1,ve(n)&&ve(n)){var T=$e(n),y=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],S=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<T&&16>T?(r=y[T-1],i=S[T-1]):T===255&&(r=be(n,16),i=be(n,16))}return n=(2-u)*(s+1)*16-2*h-2*m,o=16*(o+1)-2*l-2*c,l=[],t=t.fullData,l.push(t.byteLength>>>8&255),l.push(t.byteLength&255),l=l.concat.apply(l,U(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,U(e)),e=new Uint8Array([1,l[3],l[4],l[5],255,225].concat(l,[1],t)),{height:n,width:o,la:e,sa:r,ua:i}}function kk(e){var t=!1,n=[],r=e.find(function(l){return l.type==7}),i=!1;e=w(e);for(var o=e.next();!o.done;o=e.next()){o=o.value;var s=!1;switch(o.type){case 1:s=i=!0;var u=o.data;r&&4<u.length&&(u=mE(new ti(u)),u===2||u===4||u===7||u===9)&&(t=!0);break;case 5:t=s=i=!0;break;case 6:s=!0;break;case 7:s=!0;break;case 8:s=!0;break;case 9:i=s=!0;break;case 12:s=!0;break;default:s=!1}i&&s&&(s=o.fullData.byteLength,u=new Uint8Array(4),u[0]=s>>24&255,u[1]=s>>16&255,u[2]=s>>8&255,u[3]=s&255,n.push(St(u,o.fullData)))}return n.length?{data:St.apply(on,U(n)),Vc:t}:null}var Rk=[100,110,122,244,44,83,86,118,128,138,139,134];function _k(e){if(!e.length)return null;var t=e.find(function(s){return s.type==32}),n=e.find(function(s){return s.type==33}),r=e.find(function(s){return s.type==34});if(!t||!n||!r)return null;var i=Pk(t.fullData);e=Dk(n.fullData);var o=Nk(r.fullData);return t=Lk(t.fullData,n.fullData,r.fullData,{Ze:i.Ze,uf:i.uf,De:e.De,Ee:e.Ee,xe:e.xe,Ce:e.Ce,ye:e.ye,ze:e.ze,Ae:e.Ae,Be:e.Be,re:e.re,se:e.se,te:e.te,ue:e.ue,ve:e.ve,we:e.we,oe:e.oe,Rd:e.Rd,ne:e.ne,me:e.me,le:e.le,bf:o.bf}),{height:e.height,width:e.width,la:t,sa:e.Uh,ua:e.Th}}function Pk(e){var t=new ti(e,!0);return $e(t),$e(t),be(t,4),be(t,2),be(t,6),e=be(t,3),t=ve(t),{Ze:e+1,uf:t}}function Dk(e){e=new ti(e,!0),$e(e),$e(e);var t=0,n=0,r=0,i=0;be(e,4);var o=be(e,3);ve(e);for(var s=be(e,2),u=be(e,1),l=be(e,5),c=$e(e),h=$e(e),m=$e(e),T=$e(e),y=$e(e),S=$e(e),E=$e(e),C=$e(e),k=$e(e),M=$e(e),_=$e(e),R=[],L=[],j=0;j<o;j++)R.push(ve(e)),L.push(ve(e));if(0<o)for(j=o;8>j;j++)be(e,2);for(j=0;j<o;j++)R[j]&&be(e,88),L[j]&&$e(e);le(e),R=le(e),R==3&&be(e,1),L=le(e),j=le(e),ve(e)&&(t+=le(e),n+=le(e),r+=le(e),i+=le(e));var $=le(e),H=le(e),K=le(e);if(ve(e))for(var W=0;W<=o;W++)le(e),le(e),le(e);else le(e),le(e),le(e);if(le(e),le(e),le(e),le(e),le(e),le(e),ve(e)&&ve(e))for(W=0;4>W;W++)for(var ee=0;ee<(W===3?2:6);ee++)if(ve(e)){var se=Math.min(64,1<<4+(W<<1));1<W&&Fo(e);for(var he=0;he<se;he++)Fo(e)}else le(e);for(ve(e),ve(e),ve(e)&&($e(e),le(e),le(e),ve(e)),W=le(e),se=ee=0;se<W;se++)if(he=!1,se!==0&&(he=ve(e)),he){se===W&&le(e),ve(e),le(e);for(var we=he=0;we<=ee;we++){var xe=ve(e),_e=!1;xe||(_e=ve(e)),(xe||_e)&&he++}ee=he}else{for(we=le(e),he=le(e),ee=we+he,xe=0;xe<we;xe++)le(e),ve(e);for(we=0;we<he;we++)le(e),ve(e)}if(ve(e))for(W=le(e),ee=0;ee<W;ee++){for(se=0;se<K+4;se++)be(e,1);be(e,1)}if(W=K=1,ee=0,ve(e),ve(e),ve(e)){if(ve(e)&&(se=$e(e),he=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],we=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<se&&16>se?(K=he[se-1],W=we[se-1]):se===255&&(K=be(e,16),W=be(e,16))),ve(e)&&ve(e),ve(e)&&(be(e,3),ve(e),ve(e)&&($e(e),$e(e),$e(e))),ve(e)&&(le(e),le(e)),ve(e),ve(e),ve(e),(se=ve(e))&&(le(e),le(e),le(e),le(e)),ve(e)&&(be(e,32),be(e,32),ve(e)&&le(e),ve(e)))for(we=!1,se=ve(e),he=ve(e),(se||he)&&((we=ve(e))&&($e(e),be(e,5),ve(e),be(e,5)),be(e,4),be(e,4),we&&be(e,4),be(e,5),be(e,5),be(e,5)),xe=0;xe<=o;xe++){var me=!0;_e=1,ve(e)||(me=ve(e));var Lt=!1;if(me?le(e):Lt=ve(e),Lt||(_e=le(e)+1),se){for(me=0;me<_e;me++)le(e),le(e),we&&(le(e),le(e));ve(e)}if(he){for(me=0;me<_e;me++)le(e),le(e),we&&(le(e),le(e));ve(e)}}ve(e)&&(ve(e),ve(e),ve(e),ee=le(e),le(e),le(e),le(e),le(e))}return{xe:_,De:s,Ee:u,Ce:l,ye:c,ze:h,Ae:m,Be:T,re:y,se:S,te:E,ue:C,ve:k,we:M,Rd:ee,oe:0,ne:R,me:$,le:H,width:L-(t+n)*(R===1||R===2?2:1),height:j-(r+i)*(R===1?2:1),Uh:K,Th:W}}function Nk(e){var t=new ti(e,!0);$e(t),$e(t),le(t),le(t),ve(t),ve(t),be(t,3),ve(t),ve(t),le(t),le(t),Fo(t),ve(t),ve(t),ve(t)&&le(t),Fo(t),Fo(t),ve(t),ve(t),ve(t),ve(t),e=ve(t),t=ve(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{bf:n}}function Lk(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(r.De&3)<<6|(r.Ee?1:0)<<5|r.Ce&31,i[2]=r.ye,i[3]=r.ze,i[4]=r.Ae,i[5]=r.Be,i[6]=r.re,i[7]=r.se,i[8]=r.te,i[9]=r.ue,i[10]=r.ve,i[11]=r.we,i[12]=r.xe,i[13]=240|(r.Rd&3840)>>8,i[14]=r.Rd&255,i[15]=252|r.bf&3,i[16]=252|r.ne&3,i[17]=248|r.me&7,i[18]=248|r.le&7,i[19]=0,i[20]=0,i[21]=(r.oe&3)<<6|(r.Ze&7)<<3|(r.uf?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(e.byteLength&65280)>>8,i[27]=(e.byteLength&255)>>0,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(t.byteLength&65280)>>8,i[e.byteLength+32]=(t.byteLength&255)>>0,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,i[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,i.set(n,e.byteLength+10+t.byteLength+28),i}function ic(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&i!==0&&i!==15&&o!==3){var s=e[t+3]>>6;i=1e3*Ok[14*(n===3?3-r:r===3?3:4)+i-1],o=jk[3*(n===3?0:n===2?1:2)+o],n=bk[n][r];var u=Uk[r],l=Math.floor(n*i/o+(e[t+2]>>1&1))*u,c=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(c=c?parseInt(c[1],10):0)&&87>=c&&r===2&&224e3<=i&&s===0&&(e[t+3]|=128),{sampleRate:o,channelCount:s===3?1:2,S:l,Sh:8*n*u}}return null}function Nw(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}var Ok=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],jk=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],bk=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Uk=[0,1,1,4];function nr(e){this.i=e,this.h=0,this.g=new Map}d=nr.prototype,d.destroy=function(){this.g.clear()},d.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?ge(this.convertCodecs("audio",e)):!1},d.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},d.getOriginalMimeType=function(){return this.i},d.transmux=function(e,t,n,r){for(e=Me(e),n=qs(e).length;n<e.length;n++){var i=n;if(i+1<e.length&&Nw(e,i)){var o=ic(e,i),s=4;o&&o.S&&(s=o.S),i+=s,i=i===e.length||i+1<e.length&&Nw(e,i)}else i=!1;if(i)break}var u;for(i=[];n<e.length;){if(o=ic(e,n),!o)return Promise.reject(new P(2,3,3018));u||(u=o),n+o.S<=e.length&&i.push({data:e.subarray(n,n+o.S),size:o.S,duration:1152,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),n+=o.S}return u?(e=9e4*u.Sh/u.sampleRate*this.h,r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:u.sampleRate,duration:r,Ra:[],fa:new Uint8Array([]),la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.h,baseMediaDecodeTime:e,Oa:i},stream:t},u=new cs([r]),this.g.has(t.id)?r=this.g.get(t.id):(r=fs(u),this.g.set(t.id,r)),t=Au(u),this.h++,t=St(r,t),Promise.resolve(t)):Promise.reject(new P(2,3,3018))},ue("shaka.transmuxer.Mp3Transmuxer",nr),nr.prototype.transmux=nr.prototype.transmux,nr.prototype.getOriginalMimeType=nr.prototype.getOriginalMimeType,nr.prototype.convertCodecs=nr.prototype.convertCodecs,nr.prototype.isSupported=nr.prototype.isSupported,nr.prototype.destroy=nr.prototype.destroy,$r("audio/mpeg",function(){return new nr("audio/mpeg")},vi);function rr(e){this.h=e,this.g=null}d=rr.prototype,d.destroy=function(){},d.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=ar(e).split(","),n=Tn("audio",t);return t=Tn("video",t),!n||t||ur(n)!="mp3"?!1:ge(this.convertCodecs("audio",e))},d.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},d.getOriginalMimeType=function(){return this.h},d.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new st,e=Me(e),e=this.g.parse(e),e.Pc().audio!="mp3"||i!="audio")return Promise.reject(new P(2,3,3018));for(i=new Uint8Array([]),e=w(e.Mb()),t=e.next();!t.done;t=e.next())if(t=t.value.data)for(n=0;n<t.length;)(r=ic(t,n))?(n+r.S<=t.length&&(i=St(i,t.subarray(n,n+r.S))),n+=r.S):n++;return Promise.resolve(i)},ue("shaka.transmuxer.MpegTsTransmuxer",rr),rr.prototype.transmux=rr.prototype.transmux,rr.prototype.getOriginalMimeType=rr.prototype.getOriginalMimeType,rr.prototype.convertCodecs=rr.prototype.convertCodecs,rr.prototype.isSupported=rr.prototype.isSupported,rr.prototype.destroy=rr.prototype.destroy,$r("video/mp2t",function(){return new rr("video/mp2t")},Yc);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Bn(e){this.h=e,(this.g=Yh.get("ISOBoxer")())&&Fk(this)}function Fk(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(r){this._procEntryField(r,"BytesOfClearData","uint",16),this._procEntryField(r,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,r=0;16>r;r++)this.usertype[r]!==Bk[r]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}d=Bn.prototype,d.destroy=function(){},d.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?ge(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ge(t)||ge(e))},d.convertCodecs=function(e,t){return t.replace("mss/","")},d.getOriginalMimeType=function(){return this.h},d.transmux=function(e,t,n){if(!n)return Promise.resolve(Me(e));if(!t.mssPrivateData)return Promise.reject(new P(2,3,3020));try{var r,i=this.g.parseBuffer(e),o=i.fetch("tfhd");o.track_ID=t.id+1;var s=i.fetch("tfdt"),u=i.fetch("traf");s===null&&(s=this.g.createFullBox("tfdt",u,o),s.version=1,s.flags=0,s.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var l=i.fetch("trun"),c=i.fetch("tfxd");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var h=i.fetch("tfrf");h&&h._parent.boxes.splice(h._parent.boxes.indexOf(h),1);var m=i.fetch("sepiff");if(m!==null){m.type="senc",m.usertype=void 0;var T=i.fetch("saio");if(T===null){T=this.g.createFullBox("saio",u),T.version=0,T.flags=0,T.entry_count=1,T.offset=[0];var y=this.g.createFullBox("saiz",u);if(y.version=0,y.flags=0,y.sample_count=m.sample_count,y.default_sample_info_size=0,y.sample_info_size=[],m.flags&2)for(r=0;r<m.sample_count;r+=1)y.sample_info_size[r]=10+6*m.entry[r].NumberOfEntries;else y.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,l.flags|=1;var S=i.fetch("moof");l.data_offset=S.getLength()+8;var E=i.fetch("saio");E!==null&&(E.offset[0]=Lw(S,"traf")+Lw(u,"senc")+16);var C=Me(i.write());return Promise.resolve(C)}catch(k){return k instanceof P?Promise.reject(k):Promise.reject(new P(2,3,3022))}};function Lw(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}ue("shaka.transmuxer.MssTransmuxer",Bn),Bn.prototype.transmux=Bn.prototype.transmux,Bn.prototype.getOriginalMimeType=Bn.prototype.getOriginalMimeType,Bn.prototype.convertCodecs=Bn.prototype.convertCodecs,Bn.prototype.isSupported=Bn.prototype.isSupported,Bn.prototype.destroy=Bn.prototype.destroy;var Bk=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);$r("mss/audio/mp4",function(){return new Bn("mss/audio/mp4")},vi),$r("mss/video/mp4",function(){return new Bn("mss/video/mp4")},vi);function ir(e){this.j=e,this.g=0,this.h=new Map,this.i=null}d=ir.prototype,d.destroy=function(){this.h.clear()},d.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=ar(n).split(",");return n=Tn("audio",r),r=Tn("video",r),n&&(n=ur(n),!Vk.includes(n))||r&&(n=ur(r),!Hk.includes(n))?!1:t?ge(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ge(t)||ge(e))},d.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=ar(t).replace("mp4a.40.34","mp3").split(",").map(this.Sg).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},d.Sg=function(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}return e},d.getOriginalMimeType=function(){return this.j},d.transmux=function(e,t,n,r,i){this.i?this.i.clearData():this.i=new st,e=Me(e);var o=this.i.parse(e);e=[];var s=o.Pc();try{var u=null;if(i=="video"){switch(s.video){case"avc":var l=[],c=null,h=[],m=o.kc();if(!m.length)throw new P(2,3,3023);for(var T=0;T<m.length;T++){var y=m[T],S=y.nalus;h.push.apply(h,U(S));var E=kk(S);if(E){c==null&&(c=y.dts);var C=void 0;C=T+1<m.length?(m[T+1].dts||0)-(y.dts||0):1<m.length?(y.dts||0)-(m[T-1].dts||0):9e4*(n.endTime-n.startTime),l.push({data:E.data,size:E.data.byteLength,duration:C,Ta:Math.round((y.pts||0)-(y.dts||0)),flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:E.Vc?2:1,Va:E.Vc?0:1}})}}var k=Mk(h);if(!k||c==null)throw new P(2,3,3018);t.height=k.height,t.width=k.width,u={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,Ra:[],fa:new Uint8Array([]),la:k.la,sa:k.sa,ua:k.ua,data:{gb:this.g,baseMediaDecodeTime:c,Oa:l},stream:t};break;case"hvc":if(m=[],y=null,S=[],l=o.kc(),!l.length)throw new P(2,3,3023);for(E=0;E<l.length;E++){c=l[E],h=c.nalus,S.push.apply(S,U(h)),k=!1;var M=[],_=!1;for(T=w(h),C=T.next();!C.done;C=T.next()){var R=C.value;switch(R.type){case 1:case 0:var L=_=!0;break;case 19:case 20:case 21:k=L=_=!0;break;case 32:L=!0;break;case 33:L=!0;break;case 34:L=!0;break;case 35:_=L=!0;break;case 39:case 40:L=!0;break;default:L=!1}if(_&&L){var j=R.fullData.byteLength,$=new Uint8Array(4);$[0]=j>>24&255,$[1]=j>>16&255,$[2]=j>>8&255,$[3]=j&255,M.push(St($,R.fullData))}}var H=M.length?{data:St.apply(on,U(M)),Vc:k}:null;H&&(y==null&&c.dts!=null&&(y=c.dts),k=void 0,k=E+1<l.length?(l[E+1].dts||0)-(c.dts||0):1<l.length?(c.dts||0)-(l[E-1].dts||0):9e4*(n.endTime-n.startTime),m.push({data:H.data,size:H.data.byteLength,duration:k,Ta:Math.round((c.pts||0)-(c.dts||0)),flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:H.Vc?2:1,Va:H.Vc?0:1}}))}var K=_k(S);if(!K||y==null)throw new P(2,3,3018);t.height=K.height,t.width=K.width,u={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,Ra:[],fa:new Uint8Array([]),la:K.la,sa:K.sa,ua:K.ua,data:{gb:this.g,baseMediaDecodeTime:y,Oa:m},stream:t}}u&&(e.push(u),u=null)}if(i=="audio"){switch(s.audio){case"aac":for(var W=[],ee,se=null,he=w(o.Mb()),we=he.next();!we.done;we=he.next()){var xe=we.value,_e=xe.data;if(_e){var me=0;if(ee=_w(_e,me),!ee)throw new P(2,3,3018);for(t.audioSamplingRate=ee.sampleRate,t.channelsCount=ee.channelCount,se==null&&xe.pts!==null&&(se=xe.pts);me<_e.length;){var Lt=Rw(_e,me);if(Lt){var qt=Lt.Hd+Lt.S;me+qt<=_e.length&&W.push({data:_e.subarray(me+Lt.Hd,me+qt),size:Lt.S,duration:1024,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),me+=qt}else me++}}}if(!ee||se==null){if(!o.kc().length)throw new P(2,3,3018);se=9e4*n.startTime;var vr=Tn("audio",t.codecs.split(","));if(!vr||!t.channelsCount||!t.audioSamplingRate)throw new P(2,3,3018);ee={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,ha:vr};var gn=Ik(vr,t.channelsCount);if(!gn)throw new P(2,3,3018);var Mr=se+9e4*(n.endTime-n.startTime);for(o=se;o<Mr;)W.push({data:gn,size:gn.byteLength,duration:1024,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),o+=1024/ee.sampleRate*9e4}var et=ee.sampleRate;o=se/9e4*et,u={id:t.id,type:"audio",codecs:ee.ha,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:et,duration:r,Ra:[],fa:new Uint8Array([]),la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.g,baseMediaDecodeTime:o,Oa:W},stream:t};break;case"ac3":ee=[],et=0,W=new Uint8Array([]),se=null,me=w(o.Mb());for(var Cn=me.next();!Cn.done;Cn=me.next()){var mn=Cn.value,Vn=mn.data;for(se==null&&mn.pts!==null&&(se=mn.pts),o=0;o<Vn.length;){var Ut=Pw(Vn,o);Ut?(t.audioSamplingRate=Ut.sampleRate,t.channelsCount=Ut.channelCount,et=Ut.sampleRate,W=Ut.fa,ee.push({data:Vn.subarray(o,o+Ut.S),size:Ut.S,duration:1536,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),o+=Ut.S):o++}}if(et==0||W.byteLength==0||se==null)throw new P(2,3,3018);o=se/9e4*et,u={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:et,duration:r,Ra:[],fa:W,la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.g,baseMediaDecodeTime:o,Oa:ee},stream:t};break;case"ec3":ee=[],et=0,se=new Uint8Array([]),W=null;for(var ps=w(o.Mb()),Ci=ps.next();!Ci.done;Ci=ps.next()){var uo=Ci.value,gs=uo.data;for(W==null&&uo.pts!==null&&(W=uo.pts),o=0;o<gs.length;){var kr=Dw(gs,o);kr?(t.audioSamplingRate=kr.sampleRate,t.channelsCount=kr.channelCount,et=kr.sampleRate,se=kr.fa,ee.push({data:gs.subarray(o,o+kr.S),size:kr.S,duration:1536,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),o+=kr.S):o++}}if(et==0||se.byteLength==0||W==null)throw new P(2,3,3018);o=W/9e4*et,u={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:et,duration:r,Ra:[],fa:se,la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.g,baseMediaDecodeTime:o,Oa:ee},stream:t};break;case"mp3":ee=[];var ao;et=null;for(var ms=w(o.Mb()),Mi=ms.next();!Mi.done;Mi=ms.next()){var vs=Mi.value,ki=vs.data;if(ki)for(et==null&&vs.pts!==null&&(et=vs.pts),o=0;o<ki.length;){var Ur=ic(ki,o);Ur?(ao||(ao=Ur),o+Ur.S<=ki.length&&ee.push({data:ki.subarray(o,o+Ur.S),size:Ur.S,duration:1152,Ta:0,flags:{Ua:0,La:0,Ja:0,Ha:0,Ia:2,Va:0}}),o+=Ur.S):o++}}if(!ao||et==null)throw new P(2,3,3018);var ju=ao.sampleRate;o=et/9e4*ju,u={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:ju,duration:r,Ra:[],fa:new Uint8Array([]),la:new Uint8Array([]),sa:0,ua:0,data:{gb:this.g,baseMediaDecodeTime:o,Oa:ee},stream:t}}u&&e.push(u)}}catch(ys){return ys&&ys.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(ys)}return e.length?(e=new cs(e),this.h.has(t.id)?r=this.h.get(t.id):(r=fs(e),this.h.set(t.id,r)),t=Au(e),this.g++,t=St(r,t),Promise.resolve(t)):Promise.reject(new P(2,3,3018))},ue("shaka.transmuxer.TsTransmuxer",ir),ir.prototype.transmux=ir.prototype.transmux,ir.prototype.getOriginalMimeType=ir.prototype.getOriginalMimeType,ir.prototype.convertCodecs=ir.prototype.convertCodecs,ir.prototype.isSupported=ir.prototype.isSupported,ir.prototype.destroy=ir.prototype.destroy;var Vk=["aac","ac-3","ec-3","mp3"],Hk=["avc","hevc"];$r("video/mp2t",function(){return new ir("video/mp2t")},Jc);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Ow(){}var Lu;function jw(){Lu?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Lu=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=Kk):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function Kk(e,t){var n=this,r;return O(function(i){return i.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),I(i,Lu.call(n,e,t),2)):(r=i.h,zw(r)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Lu,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=bw,i.return(bw.call(n,e,t))))})}function bw(e,t){var n=this,r,i,o,s,u,l,c,h,m,T;return O(function(y){if(y.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),r=Kw(e),i=[],o=w(t),s=o.next();!s.done;s=o.next())u=s.value,l=Uw(u.videoCapabilities,r),c=Uw(u.audioCapabilities,r),u.videoCapabilities&&u.videoCapabilities.length&&!l.length||u.audioCapabilities&&u.audioCapabilities.length&&!c.length||(h=Object.assign({},u),h.videoCapabilities=l,h.audioCapabilities=c,i.push(h));if(!i.length)throw m=Error("Unsupported keySystem or supportedConfigurations."),m.name="NotSupportedError",m.code=DOMException.NOT_SUPPORTED_ERR,m;return I(y,Lu.call(n,e,i),2)}return T=y.h,y.return(new oc(T,r))})}function Uw(e,t){return e&&e.filter(function(n){return!n.encryptionScheme||n.encryptionScheme==t})}ue("EmeEncryptionSchemePolyfill",Ow),Ow.install=jw;function Fw(){}var Ou;function Bw(){Ou?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Ou=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=zk):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function zk(e){var t=this,n,r,i;return O(function(o){switch(o.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),I(o,Ou.call(t,e),2);case 2:if(n=o.h,!e.keySystemConfiguration)return o.return(n);if((r=n.keySystemAccess)&&zw(r))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Ou,o.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Vw,r){o.B(3);break}return i=n,I(o,Hw(e),4);case 4:return i.keySystemAccess=o.h,o.return(n);case 3:return o.return(Vw.call(t,e))}})}function Vw(e){var t=this,n,r,i,o,s,u,l,c;return O(function(h){switch(h.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=null,e.keySystemConfiguration&&(r=e.keySystemConfiguration,i=r.keySystem,o=r.audio&&r.audio.encryptionScheme,s=r.video&&r.video.encryptionScheme,n=Kw(i),u={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},o&&o!=n||s&&s!=n)?h.return(u):I(h,Ou.call(t,e),2);case 2:if(l=h.h,l.keySystemAccess){l.keySystemAccess=new oc(l.keySystemAccess,n),h.B(3);break}if(!e.keySystemConfiguration){h.B(3);break}return c=l,I(h,Hw(e),5);case 5:c.keySystemAccess=h.h;case 3:return h.return(l)}})}function Hw(e){var t,n;return O(function(r){if(r.g==1){var i=e.keySystemConfiguration,o=[],s=[];return i.audio&&o.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType}),i.video&&s.push({robustness:i.video.robustness||"",contentType:e.video.contentType}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(i.audioCapabilities=o),s.length&&(i.videoCapabilities=s),t=i,I(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)})}ue("McEncryptionSchemePolyfill",Fw),Fw.install=Bw;function oc(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}oc.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=w(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(t=w(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},oc.prototype.createMediaKeys=function(){return this.h.createMediaKeys()};function Kw(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function zw(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function Hd(){}function $w(){jw(),Bw()}ue("EncryptionSchemePolyfills",Hd),Hd.install=$w,typeof A<"u"&&A.exports&&(A.exports=Hd)}).call(p,f,f,void 0);for(var g in p.shaka)a[g]=p.shaka[g]})()})(Px);function Dx(a,f){return function(){return a.apply(f,arguments)}}const{toString:y3}=Object.prototype,{getPrototypeOf:Bp}=Object,Fc=(a=>f=>{const p=y3.call(f);return a[p]||(a[p]=p.slice(8,-1).toLowerCase())})(Object.create(null)),Kr=a=>(a=a.toLowerCase(),f=>Fc(f)===a),Bc=a=>f=>typeof f===a,{isArray:Rs}=Array,Qu=Bc("undefined");function w3(a){return a!==null&&!Qu(a)&&a.constructor!==null&&!Qu(a.constructor)&&wr(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Nx=Kr("ArrayBuffer");function T3(a){let f;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?f=ArrayBuffer.isView(a):f=a&&a.buffer&&Nx(a.buffer),f}const x3=Bc("string"),wr=Bc("function"),Lx=Bc("number"),Vc=a=>a!==null&&typeof a=="object",S3=a=>a===!0||a===!1,yc=a=>{if(Fc(a)!=="object")return!1;const f=Bp(a);return(f===null||f===Object.prototype||Object.getPrototypeOf(f)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},E3=Kr("Date"),A3=Kr("File"),I3=Kr("Blob"),C3=Kr("FileList"),M3=a=>Vc(a)&&wr(a.pipe),k3=a=>{let f;return a&&(typeof FormData=="function"&&a instanceof FormData||wr(a.append)&&((f=Fc(a))==="formdata"||f==="object"&&wr(a.toString)&&a.toString()==="[object FormData]"))},R3=Kr("URLSearchParams"),_3=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ea(a,f,{allOwnKeys:p=!1}={}){if(a===null||typeof a>"u")return;let g,v;if(typeof a!="object"&&(a=[a]),Rs(a))for(g=0,v=a.length;g<v;g++)f.call(null,a[g],g,a);else{const x=p?Object.getOwnPropertyNames(a):Object.keys(a),A=x.length;let d;for(g=0;g<A;g++)d=x[g],f.call(null,a[d],d,a)}}function Ox(a,f){f=f.toLowerCase();const p=Object.keys(a);let g=p.length,v;for(;g-- >0;)if(v=p[g],f===v.toLowerCase())return v;return null}const jx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:fi,bx=a=>!Qu(a)&&a!==jx;function mp(){const{caseless:a}=bx(this)&&this||{},f={},p=(g,v)=>{const x=a&&Ox(f,v)||v;yc(f[x])&&yc(g)?f[x]=mp(f[x],g):yc(g)?f[x]=mp({},g):Rs(g)?f[x]=g.slice():f[x]=g};for(let g=0,v=arguments.length;g<v;g++)arguments[g]&&ea(arguments[g],p);return f}const P3=(a,f,p,{allOwnKeys:g}={})=>(ea(f,(v,x)=>{p&&wr(v)?a[x]=Dx(v,p):a[x]=v},{allOwnKeys:g}),a),D3=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),N3=(a,f,p,g)=>{a.prototype=Object.create(f.prototype,g),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:f.prototype}),p&&Object.assign(a.prototype,p)},L3=(a,f,p,g)=>{let v,x,A;const d={};if(f=f||{},a==null)return f;do{for(v=Object.getOwnPropertyNames(a),x=v.length;x-- >0;)A=v[x],(!g||g(A,a,f))&&!d[A]&&(f[A]=a[A],d[A]=!0);a=p!==!1&&Bp(a)}while(a&&(!p||p(a,f))&&a!==Object.prototype);return f},O3=(a,f,p)=>{a=String(a),(p===void 0||p>a.length)&&(p=a.length),p-=f.length;const g=a.indexOf(f,p);return g!==-1&&g===p},j3=a=>{if(!a)return null;if(Rs(a))return a;let f=a.length;if(!Lx(f))return null;const p=new Array(f);for(;f-- >0;)p[f]=a[f];return p},b3=(a=>f=>a&&f instanceof a)(typeof Uint8Array<"u"&&Bp(Uint8Array)),U3=(a,f)=>{const g=(a&&a[Symbol.iterator]).call(a);let v;for(;(v=g.next())&&!v.done;){const x=v.value;f.call(a,x[0],x[1])}},F3=(a,f)=>{let p;const g=[];for(;(p=a.exec(f))!==null;)g.push(p);return g},B3=Kr("HTMLFormElement"),V3=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,g,v){return g.toUpperCase()+v}),IT=(({hasOwnProperty:a})=>(f,p)=>a.call(f,p))(Object.prototype),H3=Kr("RegExp"),Ux=(a,f)=>{const p=Object.getOwnPropertyDescriptors(a),g={};ea(p,(v,x)=>{let A;(A=f(v,x,a))!==!1&&(g[x]=A||v)}),Object.defineProperties(a,g)},K3=a=>{Ux(a,(f,p)=>{if(wr(a)&&["arguments","caller","callee"].indexOf(p)!==-1)return!1;const g=a[p];if(wr(g)){if(f.enumerable=!1,"writable"in f){f.writable=!1;return}f.set||(f.set=()=>{throw Error("Can not rewrite read-only method '"+p+"'")})}})},z3=(a,f)=>{const p={},g=v=>{v.forEach(x=>{p[x]=!0})};return Rs(a)?g(a):g(String(a).split(f)),p},$3=()=>{},G3=(a,f)=>(a=+a,Number.isFinite(a)?a:f),Zd="abcdefghijklmnopqrstuvwxyz",CT="0123456789",Fx={DIGIT:CT,ALPHA:Zd,ALPHA_DIGIT:Zd+Zd.toUpperCase()+CT},W3=(a=16,f=Fx.ALPHA_DIGIT)=>{let p="";const{length:g}=f;for(;a--;)p+=f[Math.random()*g|0];return p};function q3(a){return!!(a&&wr(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const X3=a=>{const f=new Array(10),p=(g,v)=>{if(Vc(g)){if(f.indexOf(g)>=0)return;if(!("toJSON"in g)){f[v]=g;const x=Rs(g)?[]:{};return ea(g,(A,d)=>{const N=p(A,v+1);!Qu(N)&&(x[d]=N)}),f[v]=void 0,x}}return g};return p(a,0)},Y3=Kr("AsyncFunction"),J3=a=>a&&(Vc(a)||wr(a))&&wr(a.then)&&wr(a.catch);var Q={isArray:Rs,isArrayBuffer:Nx,isBuffer:w3,isFormData:k3,isArrayBufferView:T3,isString:x3,isNumber:Lx,isBoolean:S3,isObject:Vc,isPlainObject:yc,isUndefined:Qu,isDate:E3,isFile:A3,isBlob:I3,isRegExp:H3,isFunction:wr,isStream:M3,isURLSearchParams:R3,isTypedArray:b3,isFileList:C3,forEach:ea,merge:mp,extend:P3,trim:_3,stripBOM:D3,inherits:N3,toFlatObject:L3,kindOf:Fc,kindOfTest:Kr,endsWith:O3,toArray:j3,forEachEntry:U3,matchAll:F3,isHTMLForm:B3,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:Ux,freezeMethods:K3,toObjectSet:z3,toCamelCase:V3,noop:$3,toFiniteNumber:G3,findKey:Ox,global:jx,isContextDefined:bx,ALPHABET:Fx,generateString:W3,isSpecCompliantForm:q3,toJSONObject:X3,isAsyncFn:Y3,isThenable:J3};function ut(a,f,p,g,v){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",f&&(this.code=f),p&&(this.config=p),g&&(this.request=g),v&&(this.response=v)}Q.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Bx=ut.prototype,Vx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Vx[a]={value:a}});Object.defineProperties(ut,Vx);Object.defineProperty(Bx,"isAxiosError",{value:!0});ut.from=(a,f,p,g,v,x)=>{const A=Object.create(Bx);return Q.toFlatObject(a,A,function(N){return N!==Error.prototype},d=>d!=="isAxiosError"),ut.call(A,a.message,f,p,g,v),A.cause=a,A.name=a.name,x&&Object.assign(A,x),A};var Q3=null;function vp(a){return Q.isPlainObject(a)||Q.isArray(a)}function Hx(a){return Q.endsWith(a,"[]")?a.slice(0,-2):a}function MT(a,f,p){return a?a.concat(f).map(function(v,x){return v=Hx(v),!p&&x?"["+v+"]":v}).join(p?".":""):f}function Z3(a){return Q.isArray(a)&&!a.some(vp)}const e_=Q.toFlatObject(Q,{},null,function(f){return/^is[A-Z]/.test(f)});function Hc(a,f,p){if(!Q.isObject(a))throw new TypeError("target must be an object");f=f||new FormData,p=Q.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,Ne){return!Q.isUndefined(Ne[U])});const g=p.metaTokens,v=p.visitor||V,x=p.dots,A=p.indexes,N=(p.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(f);if(!Q.isFunction(v))throw new TypeError("visitor must be a function");function B(w){if(w===null)return"";if(Q.isDate(w))return w.toISOString();if(!N&&Q.isBlob(w))throw new ut("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(w)||Q.isTypedArray(w)?N&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function V(w,U,Ne){let Le=w;if(w&&!Ne&&typeof w=="object"){if(Q.endsWith(U,"{}"))U=g?U:U.slice(0,-2),w=JSON.stringify(w);else if(Q.isArray(w)&&Z3(w)||(Q.isFileList(w)||Q.endsWith(U,"[]"))&&(Le=Q.toArray(w)))return U=Hx(U),Le.forEach(function(Ke,Ct){!(Q.isUndefined(Ke)||Ke===null)&&f.append(A===!0?MT([U],Ct,x):A===null?U:U+"[]",B(Ke))}),!1}return vp(w)?!0:(f.append(MT(Ne,U,x),B(w)),!1)}const F=[],z=Object.assign(e_,{defaultVisitor:V,convertValue:B,isVisitable:vp});function te(w,U){if(!Q.isUndefined(w)){if(F.indexOf(w)!==-1)throw Error("Circular reference detected in "+U.join("."));F.push(w),Q.forEach(w,function(Le,tt){(!(Q.isUndefined(Le)||Le===null)&&v.call(f,Le,Q.isString(tt)?tt.trim():tt,U,z))===!0&&te(Le,U?U.concat(tt):[tt])}),F.pop()}}if(!Q.isObject(a))throw new TypeError("data must be an object");return te(a),f}function kT(a){const f={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(g){return f[g]})}function Vp(a,f){this._pairs=[],a&&Hc(a,this,f)}const Kx=Vp.prototype;Kx.append=function(f,p){this._pairs.push([f,p])};Kx.toString=function(f){const p=f?function(g){return f.call(this,g,kT)}:kT;return this._pairs.map(function(v){return p(v[0])+"="+p(v[1])},"").join("&")};function t_(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zx(a,f,p){if(!f)return a;const g=p&&p.encode||t_,v=p&&p.serialize;let x;if(v?x=v(f,p):x=Q.isURLSearchParams(f)?f.toString():new Vp(f,p).toString(g),x){const A=a.indexOf("#");A!==-1&&(a=a.slice(0,A)),a+=(a.indexOf("?")===-1?"?":"&")+x}return a}class n_{constructor(){this.handlers=[]}use(f,p,g){return this.handlers.push({fulfilled:f,rejected:p,synchronous:g?g.synchronous:!1,runWhen:g?g.runWhen:null}),this.handlers.length-1}eject(f){this.handlers[f]&&(this.handlers[f]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(f){Q.forEach(this.handlers,function(g){g!==null&&f(g)})}}var RT=n_,$x={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r_=typeof URLSearchParams<"u"?URLSearchParams:Vp,i_=typeof FormData<"u"?FormData:null,o_=typeof Blob<"u"?Blob:null,s_={isBrowser:!0,classes:{URLSearchParams:r_,FormData:i_,Blob:o_},protocols:["http","https","file","blob","url","data"]};const Gx=typeof window<"u"&&typeof document<"u",u_=(a=>Gx&&["ReactNative","NativeScript","NS"].indexOf(a)<0)(typeof navigator<"u"&&navigator.product),a_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var l_=Object.freeze({__proto__:null,hasBrowserEnv:Gx,hasStandardBrowserWebWorkerEnv:a_,hasStandardBrowserEnv:u_}),Hr={...l_,...s_};function c_(a,f){return Hc(a,new Hr.classes.URLSearchParams,Object.assign({visitor:function(p,g,v,x){return Hr.isNode&&Q.isBuffer(p)?(this.append(g,p.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)}},f))}function f_(a){return Q.matchAll(/\w+|\[(\w*)]/g,a).map(f=>f[0]==="[]"?"":f[1]||f[0])}function h_(a){const f={},p=Object.keys(a);let g;const v=p.length;let x;for(g=0;g<v;g++)x=p[g],f[x]=a[x];return f}function Wx(a){function f(p,g,v,x){let A=p[x++];if(A==="__proto__")return!0;const d=Number.isFinite(+A),N=x>=p.length;return A=!A&&Q.isArray(v)?v.length:A,N?(Q.hasOwnProp(v,A)?v[A]=[v[A],g]:v[A]=g,!d):((!v[A]||!Q.isObject(v[A]))&&(v[A]=[]),f(p,g,v[A],x)&&Q.isArray(v[A])&&(v[A]=h_(v[A])),!d)}if(Q.isFormData(a)&&Q.isFunction(a.entries)){const p={};return Q.forEachEntry(a,(g,v)=>{f(f_(g),v,p,0)}),p}return null}function d_(a,f,p){if(Q.isString(a))try{return(f||JSON.parse)(a),Q.trim(a)}catch(g){if(g.name!=="SyntaxError")throw g}return(p||JSON.stringify)(a)}const Hp={transitional:$x,adapter:["xhr","http"],transformRequest:[function(f,p){const g=p.getContentType()||"",v=g.indexOf("application/json")>-1,x=Q.isObject(f);if(x&&Q.isHTMLForm(f)&&(f=new FormData(f)),Q.isFormData(f))return v?JSON.stringify(Wx(f)):f;if(Q.isArrayBuffer(f)||Q.isBuffer(f)||Q.isStream(f)||Q.isFile(f)||Q.isBlob(f))return f;if(Q.isArrayBufferView(f))return f.buffer;if(Q.isURLSearchParams(f))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),f.toString();let d;if(x){if(g.indexOf("application/x-www-form-urlencoded")>-1)return c_(f,this.formSerializer).toString();if((d=Q.isFileList(f))||g.indexOf("multipart/form-data")>-1){const N=this.env&&this.env.FormData;return Hc(d?{"files[]":f}:f,N&&new N,this.formSerializer)}}return x||v?(p.setContentType("application/json",!1),d_(f)):f}],transformResponse:[function(f){const p=this.transitional||Hp.transitional,g=p&&p.forcedJSONParsing,v=this.responseType==="json";if(f&&Q.isString(f)&&(g&&!this.responseType||v)){const A=!(p&&p.silentJSONParsing)&&v;try{return JSON.parse(f)}catch(d){if(A)throw d.name==="SyntaxError"?ut.from(d,ut.ERR_BAD_RESPONSE,this,null,this.response):d}}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hr.classes.FormData,Blob:Hr.classes.Blob},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],a=>{Hp.headers[a]={}});var Kp=Hp;const p_=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var g_=a=>{const f={};let p,g,v;return a&&a.split(`
`).forEach(function(A){v=A.indexOf(":"),p=A.substring(0,v).trim().toLowerCase(),g=A.substring(v+1).trim(),!(!p||f[p]&&p_[p])&&(p==="set-cookie"?f[p]?f[p].push(g):f[p]=[g]:f[p]=f[p]?f[p]+", "+g:g)}),f};const _T=Symbol("internals");function Fu(a){return a&&String(a).trim().toLowerCase()}function wc(a){return a===!1||a==null?a:Q.isArray(a)?a.map(wc):String(a)}function m_(a){const f=Object.create(null),p=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let g;for(;g=p.exec(a);)f[g[1]]=g[2];return f}const v_=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ep(a,f,p,g,v){if(Q.isFunction(g))return g.call(this,f,p);if(v&&(f=p),!!Q.isString(f)){if(Q.isString(g))return f.indexOf(g)!==-1;if(Q.isRegExp(g))return g.test(f)}}function y_(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(f,p,g)=>p.toUpperCase()+g)}function w_(a,f){const p=Q.toCamelCase(" "+f);["get","set","has"].forEach(g=>{Object.defineProperty(a,g+p,{value:function(v,x,A){return this[g].call(this,f,v,x,A)},configurable:!0})})}class Kc{constructor(f){f&&this.set(f)}set(f,p,g){const v=this;function x(d,N,B){const V=Fu(N);if(!V)throw new Error("header name must be a non-empty string");const F=Q.findKey(v,V);(!F||v[F]===void 0||B===!0||B===void 0&&v[F]!==!1)&&(v[F||N]=wc(d))}const A=(d,N)=>Q.forEach(d,(B,V)=>x(B,V,N));return Q.isPlainObject(f)||f instanceof this.constructor?A(f,p):Q.isString(f)&&(f=f.trim())&&!v_(f)?A(g_(f),p):f!=null&&x(p,f,g),this}get(f,p){if(f=Fu(f),f){const g=Q.findKey(this,f);if(g){const v=this[g];if(!p)return v;if(p===!0)return m_(v);if(Q.isFunction(p))return p.call(this,v,g);if(Q.isRegExp(p))return p.exec(v);throw new TypeError("parser must be boolean|regexp|function")}}}has(f,p){if(f=Fu(f),f){const g=Q.findKey(this,f);return!!(g&&this[g]!==void 0&&(!p||ep(this,this[g],g,p)))}return!1}delete(f,p){const g=this;let v=!1;function x(A){if(A=Fu(A),A){const d=Q.findKey(g,A);d&&(!p||ep(g,g[d],d,p))&&(delete g[d],v=!0)}}return Q.isArray(f)?f.forEach(x):x(f),v}clear(f){const p=Object.keys(this);let g=p.length,v=!1;for(;g--;){const x=p[g];(!f||ep(this,this[x],x,f,!0))&&(delete this[x],v=!0)}return v}normalize(f){const p=this,g={};return Q.forEach(this,(v,x)=>{const A=Q.findKey(g,x);if(A){p[A]=wc(v),delete p[x];return}const d=f?y_(x):String(x).trim();d!==x&&delete p[x],p[d]=wc(v),g[d]=!0}),this}concat(...f){return this.constructor.concat(this,...f)}toJSON(f){const p=Object.create(null);return Q.forEach(this,(g,v)=>{g!=null&&g!==!1&&(p[v]=f&&Q.isArray(g)?g.join(", "):g)}),p}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([f,p])=>f+": "+p).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(f){return f instanceof this?f:new this(f)}static concat(f,...p){const g=new this(f);return p.forEach(v=>g.set(v)),g}static accessor(f){const g=(this[_T]=this[_T]={accessors:{}}).accessors,v=this.prototype;function x(A){const d=Fu(A);g[d]||(w_(v,A),g[d]=!0)}return Q.isArray(f)?f.forEach(x):x(f),this}}Kc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Kc.prototype,({value:a},f)=>{let p=f[0].toUpperCase()+f.slice(1);return{get:()=>a,set(g){this[p]=g}}});Q.freezeMethods(Kc);var di=Kc;function tp(a,f){const p=this||Kp,g=f||p,v=di.from(g.headers);let x=g.data;return Q.forEach(a,function(d){x=d.call(p,x,v.normalize(),f?f.status:void 0)}),v.normalize(),x}function qx(a){return!!(a&&a.__CANCEL__)}function ta(a,f,p){ut.call(this,a??"canceled",ut.ERR_CANCELED,f,p),this.name="CanceledError"}Q.inherits(ta,ut,{__CANCEL__:!0});function T_(a,f,p){const g=p.config.validateStatus;!p.status||!g||g(p.status)?a(p):f(new ut("Request failed with status code "+p.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(p.status/100)-4],p.config,p.request,p))}var x_=Hr.hasStandardBrowserEnv?{write(a,f,p,g,v,x){const A=[a+"="+encodeURIComponent(f)];Q.isNumber(p)&&A.push("expires="+new Date(p).toGMTString()),Q.isString(g)&&A.push("path="+g),Q.isString(v)&&A.push("domain="+v),x===!0&&A.push("secure"),document.cookie=A.join("; ")},read(a){const f=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return f?decodeURIComponent(f[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S_(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function E_(a,f){return f?a.replace(/\/?\/$/,"")+"/"+f.replace(/^\/+/,""):a}function Xx(a,f){return a&&!S_(f)?E_(a,f):f}var A_=Hr.hasStandardBrowserEnv?function(){const f=/(msie|trident)/i.test(navigator.userAgent),p=document.createElement("a");let g;function v(x){let A=x;return f&&(p.setAttribute("href",A),A=p.href),p.setAttribute("href",A),{href:p.href,protocol:p.protocol?p.protocol.replace(/:$/,""):"",host:p.host,search:p.search?p.search.replace(/^\?/,""):"",hash:p.hash?p.hash.replace(/^#/,""):"",hostname:p.hostname,port:p.port,pathname:p.pathname.charAt(0)==="/"?p.pathname:"/"+p.pathname}}return g=v(window.location.href),function(A){const d=Q.isString(A)?v(A):A;return d.protocol===g.protocol&&d.host===g.host}}():function(){return function(){return!0}}();function I_(a){const f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return f&&f[1]||""}function C_(a,f){a=a||10;const p=new Array(a),g=new Array(a);let v=0,x=0,A;return f=f!==void 0?f:1e3,function(N){const B=Date.now(),V=g[x];A||(A=B),p[v]=N,g[v]=B;let F=x,z=0;for(;F!==v;)z+=p[F++],F=F%a;if(v=(v+1)%a,v===x&&(x=(x+1)%a),B-A<f)return;const te=V&&B-V;return te?Math.round(z*1e3/te):void 0}}function PT(a,f){let p=0;const g=C_(50,250);return v=>{const x=v.loaded,A=v.lengthComputable?v.total:void 0,d=x-p,N=g(d),B=x<=A;p=x;const V={loaded:x,total:A,progress:A?x/A:void 0,bytes:d,rate:N||void 0,estimated:N&&A&&B?(A-x)/N:void 0,event:v};V[f?"download":"upload"]=!0,a(V)}}const M_=typeof XMLHttpRequest<"u";var k_=M_&&function(a){return new Promise(function(p,g){let v=a.data;const x=di.from(a.headers).normalize();let{responseType:A,withXSRFToken:d}=a,N;function B(){a.cancelToken&&a.cancelToken.unsubscribe(N),a.signal&&a.signal.removeEventListener("abort",N)}let V;if(Q.isFormData(v)){if(Hr.hasStandardBrowserEnv||Hr.hasStandardBrowserWebWorkerEnv)x.setContentType(!1);else if((V=x.getContentType())!==!1){const[U,...Ne]=V?V.split(";").map(Le=>Le.trim()).filter(Boolean):[];x.setContentType([U||"multipart/form-data",...Ne].join("; "))}}let F=new XMLHttpRequest;if(a.auth){const U=a.auth.username||"",Ne=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";x.set("Authorization","Basic "+btoa(U+":"+Ne))}const z=Xx(a.baseURL,a.url);F.open(a.method.toUpperCase(),zx(z,a.params,a.paramsSerializer),!0),F.timeout=a.timeout;function te(){if(!F)return;const U=di.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),Le={data:!A||A==="text"||A==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:U,config:a,request:F};T_(function(Ke){p(Ke),B()},function(Ke){g(Ke),B()},Le),F=null}if("onloadend"in F?F.onloadend=te:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(te)},F.onabort=function(){F&&(g(new ut("Request aborted",ut.ECONNABORTED,a,F)),F=null)},F.onerror=function(){g(new ut("Network Error",ut.ERR_NETWORK,a,F)),F=null},F.ontimeout=function(){let Ne=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Le=a.transitional||$x;a.timeoutErrorMessage&&(Ne=a.timeoutErrorMessage),g(new ut(Ne,Le.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,a,F)),F=null},Hr.hasStandardBrowserEnv&&(d&&Q.isFunction(d)&&(d=d(a)),d||d!==!1&&A_(z))){const U=a.xsrfHeaderName&&a.xsrfCookieName&&x_.read(a.xsrfCookieName);U&&x.set(a.xsrfHeaderName,U)}v===void 0&&x.setContentType(null),"setRequestHeader"in F&&Q.forEach(x.toJSON(),function(Ne,Le){F.setRequestHeader(Le,Ne)}),Q.isUndefined(a.withCredentials)||(F.withCredentials=!!a.withCredentials),A&&A!=="json"&&(F.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&F.addEventListener("progress",PT(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&F.upload&&F.upload.addEventListener("progress",PT(a.onUploadProgress)),(a.cancelToken||a.signal)&&(N=U=>{F&&(g(!U||U.type?new ta(null,a,F):U),F.abort(),F=null)},a.cancelToken&&a.cancelToken.subscribe(N),a.signal&&(a.signal.aborted?N():a.signal.addEventListener("abort",N)));const w=I_(z);if(w&&Hr.protocols.indexOf(w)===-1){g(new ut("Unsupported protocol "+w+":",ut.ERR_BAD_REQUEST,a));return}F.send(v||null)})};const yp={http:Q3,xhr:k_};Q.forEach(yp,(a,f)=>{if(a){try{Object.defineProperty(a,"name",{value:f})}catch{}Object.defineProperty(a,"adapterName",{value:f})}});const DT=a=>`- ${a}`,R_=a=>Q.isFunction(a)||a===null||a===!1;var Yx={getAdapter:a=>{a=Q.isArray(a)?a:[a];const{length:f}=a;let p,g;const v={};for(let x=0;x<f;x++){p=a[x];let A;if(g=p,!R_(p)&&(g=yp[(A=String(p)).toLowerCase()],g===void 0))throw new ut(`Unknown adapter '${A}'`);if(g)break;v[A||"#"+x]=g}if(!g){const x=Object.entries(v).map(([d,N])=>`adapter ${d} `+(N===!1?"is not supported by the environment":"is not available in the build"));let A=f?x.length>1?`since :
`+x.map(DT).join(`
`):" "+DT(x[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+A,"ERR_NOT_SUPPORT")}return g},adapters:yp};function np(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ta(null,a)}function NT(a){return np(a),a.headers=di.from(a.headers),a.data=tp.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Yx.getAdapter(a.adapter||Kp.adapter)(a).then(function(g){return np(a),g.data=tp.call(a,a.transformResponse,g),g.headers=di.from(g.headers),g},function(g){return qx(g)||(np(a),g&&g.response&&(g.response.data=tp.call(a,a.transformResponse,g.response),g.response.headers=di.from(g.response.headers))),Promise.reject(g)})}const LT=a=>a instanceof di?{...a}:a;function Ms(a,f){f=f||{};const p={};function g(B,V,F){return Q.isPlainObject(B)&&Q.isPlainObject(V)?Q.merge.call({caseless:F},B,V):Q.isPlainObject(V)?Q.merge({},V):Q.isArray(V)?V.slice():V}function v(B,V,F){if(Q.isUndefined(V)){if(!Q.isUndefined(B))return g(void 0,B,F)}else return g(B,V,F)}function x(B,V){if(!Q.isUndefined(V))return g(void 0,V)}function A(B,V){if(Q.isUndefined(V)){if(!Q.isUndefined(B))return g(void 0,B)}else return g(void 0,V)}function d(B,V,F){if(F in f)return g(B,V);if(F in a)return g(void 0,B)}const N={url:x,method:x,data:x,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,withXSRFToken:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:d,headers:(B,V)=>v(LT(B),LT(V),!0)};return Q.forEach(Object.keys(Object.assign({},a,f)),function(V){const F=N[V]||v,z=F(a[V],f[V],V);Q.isUndefined(z)&&F!==d||(p[V]=z)}),p}const Jx="1.6.8",zp={};["object","boolean","number","function","string","symbol"].forEach((a,f)=>{zp[a]=function(g){return typeof g===a||"a"+(f<1?"n ":" ")+a}});const OT={};zp.transitional=function(f,p,g){function v(x,A){return"[Axios v"+Jx+"] Transitional option '"+x+"'"+A+(g?". "+g:"")}return(x,A,d)=>{if(f===!1)throw new ut(v(A," has been removed"+(p?" in "+p:"")),ut.ERR_DEPRECATED);return p&&!OT[A]&&(OT[A]=!0,console.warn(v(A," has been deprecated since v"+p+" and will be removed in the near future"))),f?f(x,A,d):!0}};function __(a,f,p){if(typeof a!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const g=Object.keys(a);let v=g.length;for(;v-- >0;){const x=g[v],A=f[x];if(A){const d=a[x],N=d===void 0||A(d,x,a);if(N!==!0)throw new ut("option "+x+" must be "+N,ut.ERR_BAD_OPTION_VALUE);continue}if(p!==!0)throw new ut("Unknown option "+x,ut.ERR_BAD_OPTION)}}var wp={assertOptions:__,validators:zp};const _i=wp.validators;class Cc{constructor(f){this.defaults=f,this.interceptors={request:new RT,response:new RT}}async request(f,p){try{return await this._request(f,p)}catch(g){if(g instanceof Error){let v;Error.captureStackTrace?Error.captureStackTrace(v={}):v=new Error;const x=v.stack?v.stack.replace(/^.+\n/,""):"";g.stack?x&&!String(g.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(g.stack+=`
`+x):g.stack=x}throw g}}_request(f,p){typeof f=="string"?(p=p||{},p.url=f):p=f||{},p=Ms(this.defaults,p);const{transitional:g,paramsSerializer:v,headers:x}=p;g!==void 0&&wp.assertOptions(g,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),v!=null&&(Q.isFunction(v)?p.paramsSerializer={serialize:v}:wp.assertOptions(v,{encode:_i.function,serialize:_i.function},!0)),p.method=(p.method||this.defaults.method||"get").toLowerCase();let A=x&&Q.merge(x.common,x[p.method]);x&&Q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete x[w]}),p.headers=di.concat(A,x);const d=[];let N=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(p)===!1||(N=N&&U.synchronous,d.unshift(U.fulfilled,U.rejected))});const B=[];this.interceptors.response.forEach(function(U){B.push(U.fulfilled,U.rejected)});let V,F=0,z;if(!N){const w=[NT.bind(this),void 0];for(w.unshift.apply(w,d),w.push.apply(w,B),z=w.length,V=Promise.resolve(p);F<z;)V=V.then(w[F++],w[F++]);return V}z=d.length;let te=p;for(F=0;F<z;){const w=d[F++],U=d[F++];try{te=w(te)}catch(Ne){U.call(this,Ne);break}}try{V=NT.call(this,te)}catch(w){return Promise.reject(w)}for(F=0,z=B.length;F<z;)V=V.then(B[F++],B[F++]);return V}getUri(f){f=Ms(this.defaults,f);const p=Xx(f.baseURL,f.url);return zx(p,f.params,f.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(f){Cc.prototype[f]=function(p,g){return this.request(Ms(g||{},{method:f,url:p,data:(g||{}).data}))}});Q.forEach(["post","put","patch"],function(f){function p(g){return function(x,A,d){return this.request(Ms(d||{},{method:f,headers:g?{"Content-Type":"multipart/form-data"}:{},url:x,data:A}))}}Cc.prototype[f]=p(),Cc.prototype[f+"Form"]=p(!0)});var Tc=Cc;class $p{constructor(f){if(typeof f!="function")throw new TypeError("executor must be a function.");let p;this.promise=new Promise(function(x){p=x});const g=this;this.promise.then(v=>{if(!g._listeners)return;let x=g._listeners.length;for(;x-- >0;)g._listeners[x](v);g._listeners=null}),this.promise.then=v=>{let x;const A=new Promise(d=>{g.subscribe(d),x=d}).then(v);return A.cancel=function(){g.unsubscribe(x)},A},f(function(x,A,d){g.reason||(g.reason=new ta(x,A,d),p(g.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(f){if(this.reason){f(this.reason);return}this._listeners?this._listeners.push(f):this._listeners=[f]}unsubscribe(f){if(!this._listeners)return;const p=this._listeners.indexOf(f);p!==-1&&this._listeners.splice(p,1)}static source(){let f;return{token:new $p(function(v){f=v}),cancel:f}}}var P_=$p;function D_(a){return function(p){return a.apply(null,p)}}function N_(a){return Q.isObject(a)&&a.isAxiosError===!0}const Tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tp).forEach(([a,f])=>{Tp[f]=a});var L_=Tp;function Qx(a){const f=new Tc(a),p=Dx(Tc.prototype.request,f);return Q.extend(p,Tc.prototype,f,{allOwnKeys:!0}),Q.extend(p,f,null,{allOwnKeys:!0}),p.create=function(v){return Qx(Ms(a,v))},p}const Yt=Qx(Kp);Yt.Axios=Tc;Yt.CanceledError=ta;Yt.CancelToken=P_;Yt.isCancel=qx;Yt.VERSION=Jx;Yt.toFormData=Hc;Yt.AxiosError=ut;Yt.Cancel=Yt.CanceledError;Yt.all=function(f){return Promise.all(f)};Yt.spread=D_;Yt.isAxiosError=N_;Yt.mergeConfig=Ms;Yt.AxiosHeaders=di;Yt.formToJSON=a=>Wx(Q.isHTMLForm(a)?new FormData(a):a);Yt.getAdapter=Yx.getAdapter;Yt.HttpStatusCode=L_;Yt.default=Yt;var O_=Yt,Zx={exports:{}};(function(a,f){(function(p,g){a.exports=g()})(fi,function(){var p=1e3,g=6e4,v=36e5,x="millisecond",A="second",d="minute",N="hour",B="day",V="week",F="month",z="quarter",te="year",w="date",U="Invalid Date",Ne=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Le=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,tt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var Y=["th","st","nd","rd"],re=ae%100;return"["+ae+(Y[(re-20)%10]||Y[re]||Y[0])+"]"}},Ke=function(ae,Y,re){var ce=String(ae);return!ce||ce.length>=Y?ae:""+Array(Y+1-ce.length).join(re)+ae},Ct={s:Ke,z:function(ae){var Y=-ae.utcOffset(),re=Math.abs(Y),ce=Math.floor(re/60),ie=re%60;return(Y<=0?"+":"-")+Ke(ce,2,"0")+":"+Ke(ie,2,"0")},m:function ae(Y,re){if(Y.date()<re.date())return-ae(re,Y);var ce=12*(re.year()-Y.year())+(re.month()-Y.month()),ie=Y.clone().add(ce,F),Ue=re-ie<0,Fe=Y.clone().add(ce+(Ue?-1:1),F);return+(-(ce+(re-ie)/(Ue?ie-Fe:Fe-ie))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:F,y:te,w:V,d:B,D:w,h:N,m:d,s:A,ms:x,Q:z}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},Ot="en",Pe={};Pe[Ot]=tt;var Bt="$isDayjsObject",en=function(ae){return ae instanceof Ce||!(!ae||!ae[Bt])},sr=function ae(Y,re,ce){var ie;if(!Y)return Ot;if(typeof Y=="string"){var Ue=Y.toLowerCase();Pe[Ue]&&(ie=Ue),re&&(Pe[Ue]=re,ie=Ue);var Fe=Y.split("-");if(!ie&&Fe.length>1)return ae(Fe[0])}else{var qe=Y.name;Pe[qe]=Y,ie=qe}return!ce&&ie&&(Ot=ie),ie||!ce&&Ot},I=function(ae,Y){if(en(ae))return ae.clone();var re=typeof Y=="object"?Y:{};return re.date=ae,re.args=arguments,new Ce(re)},J=Ct;J.l=sr,J.i=en,J.w=function(ae,Y){return I(ae,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var Ce=function(){function ae(re){this.$L=sr(re.locale,null,!0),this.parse(re),this.$x=this.$x||re.x||{},this[Bt]=!0}var Y=ae.prototype;return Y.parse=function(re){this.$d=function(ce){var ie=ce.date,Ue=ce.utc;if(ie===null)return new Date(NaN);if(J.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var Fe=ie.match(Ne);if(Fe){var qe=Fe[2]-1||0,it=(Fe[7]||"0").substring(0,3);return Ue?new Date(Date.UTC(Fe[1],qe,Fe[3]||1,Fe[4]||0,Fe[5]||0,Fe[6]||0,it)):new Date(Fe[1],qe,Fe[3]||1,Fe[4]||0,Fe[5]||0,Fe[6]||0,it)}}return new Date(ie)}(re),this.init()},Y.init=function(){var re=this.$d;this.$y=re.getFullYear(),this.$M=re.getMonth(),this.$D=re.getDate(),this.$W=re.getDay(),this.$H=re.getHours(),this.$m=re.getMinutes(),this.$s=re.getSeconds(),this.$ms=re.getMilliseconds()},Y.$utils=function(){return J},Y.isValid=function(){return this.$d.toString()!==U},Y.isSame=function(re,ce){var ie=I(re);return this.startOf(ce)<=ie&&ie<=this.endOf(ce)},Y.isAfter=function(re,ce){return I(re)<this.startOf(ce)},Y.isBefore=function(re,ce){return this.endOf(ce)<I(re)},Y.$g=function(re,ce,ie){return J.u(re)?this[ce]:this.set(ie,re)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(re,ce){var ie=this,Ue=!!J.u(ce)||ce,Fe=J.p(re),qe=function(Rn,bt){var _n=J.w(ie.$u?Date.UTC(ie.$y,bt,Rn):new Date(ie.$y,bt,Rn),ie);return Ue?_n:_n.endOf(B)},it=function(Rn,bt){return J.w(ie.toDate()[Rn].apply(ie.toDate("s"),(Ue?[0,0,0,0]:[23,59,59,999]).slice(bt)),ie)},jt=this.$W,O=this.$M,Mt=this.$D,Et="set"+(this.$u?"UTC":"");switch(Fe){case te:return Ue?qe(1,0):qe(31,11);case F:return Ue?qe(1,O):qe(0,O+1);case V:var wn=this.$locale().weekStart||0,$n=(jt<wn?jt+7:jt)-wn;return qe(Ue?Mt-$n:Mt+(6-$n),O);case B:case w:return it(Et+"Hours",0);case N:return it(Et+"Minutes",1);case d:return it(Et+"Seconds",2);case A:return it(Et+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(re){return this.startOf(re,!1)},Y.$set=function(re,ce){var ie,Ue=J.p(re),Fe="set"+(this.$u?"UTC":""),qe=(ie={},ie[B]=Fe+"Date",ie[w]=Fe+"Date",ie[F]=Fe+"Month",ie[te]=Fe+"FullYear",ie[N]=Fe+"Hours",ie[d]=Fe+"Minutes",ie[A]=Fe+"Seconds",ie[x]=Fe+"Milliseconds",ie)[Ue],it=Ue===B?this.$D+(ce-this.$W):ce;if(Ue===F||Ue===te){var jt=this.clone().set(w,1);jt.$d[qe](it),jt.init(),this.$d=jt.set(w,Math.min(this.$D,jt.daysInMonth())).$d}else qe&&this.$d[qe](it);return this.init(),this},Y.set=function(re,ce){return this.clone().$set(re,ce)},Y.get=function(re){return this[J.p(re)]()},Y.add=function(re,ce){var ie,Ue=this;re=Number(re);var Fe=J.p(ce),qe=function(O){var Mt=I(Ue);return J.w(Mt.date(Mt.date()+Math.round(O*re)),Ue)};if(Fe===F)return this.set(F,this.$M+re);if(Fe===te)return this.set(te,this.$y+re);if(Fe===B)return qe(1);if(Fe===V)return qe(7);var it=(ie={},ie[d]=g,ie[N]=v,ie[A]=p,ie)[Fe]||1,jt=this.$d.getTime()+re*it;return J.w(jt,this)},Y.subtract=function(re,ce){return this.add(-1*re,ce)},Y.format=function(re){var ce=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||U;var Ue=re||"YYYY-MM-DDTHH:mm:ssZ",Fe=J.z(this),qe=this.$H,it=this.$m,jt=this.$M,O=ie.weekdays,Mt=ie.months,Et=ie.meridiem,wn=function(bt,_n,ue,D){return bt&&(bt[_n]||bt(ce,Ue))||ue[_n].slice(0,D)},$n=function(bt){return J.s(qe%12||12,bt,"0")},Rn=Et||function(bt,_n,ue){var D=bt<12?"AM":"PM";return ue?D.toLowerCase():D};return Ue.replace(Le,function(bt,_n){return _n||function(ue){switch(ue){case"YY":return String(ce.$y).slice(-2);case"YYYY":return J.s(ce.$y,4,"0");case"M":return jt+1;case"MM":return J.s(jt+1,2,"0");case"MMM":return wn(ie.monthsShort,jt,Mt,3);case"MMMM":return wn(Mt,jt);case"D":return ce.$D;case"DD":return J.s(ce.$D,2,"0");case"d":return String(ce.$W);case"dd":return wn(ie.weekdaysMin,ce.$W,O,2);case"ddd":return wn(ie.weekdaysShort,ce.$W,O,3);case"dddd":return O[ce.$W];case"H":return String(qe);case"HH":return J.s(qe,2,"0");case"h":return $n(1);case"hh":return $n(2);case"a":return Rn(qe,it,!0);case"A":return Rn(qe,it,!1);case"m":return String(it);case"mm":return J.s(it,2,"0");case"s":return String(ce.$s);case"ss":return J.s(ce.$s,2,"0");case"SSS":return J.s(ce.$ms,3,"0");case"Z":return Fe}return null}(bt)||Fe.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(re,ce,ie){var Ue,Fe=this,qe=J.p(ce),it=I(re),jt=(it.utcOffset()-this.utcOffset())*g,O=this-it,Mt=function(){return J.m(Fe,it)};switch(qe){case te:Ue=Mt()/12;break;case F:Ue=Mt();break;case z:Ue=Mt()/3;break;case V:Ue=(O-jt)/6048e5;break;case B:Ue=(O-jt)/864e5;break;case N:Ue=O/v;break;case d:Ue=O/g;break;case A:Ue=O/p;break;default:Ue=O}return ie?Ue:J.a(Ue)},Y.daysInMonth=function(){return this.endOf(F).$D},Y.$locale=function(){return Pe[this.$L]},Y.locale=function(re,ce){if(!re)return this.$L;var ie=this.clone(),Ue=sr(re,ce,!0);return Ue&&(ie.$L=Ue),ie},Y.clone=function(){return J.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},ae}(),rn=Ce.prototype;return I.prototype=rn,[["$ms",x],["$s",A],["$m",d],["$H",N],["$W",B],["$M",F],["$y",te],["$D",w]].forEach(function(ae){rn[ae[1]]=function(Y){return this.$g(Y,ae[0],ae[1])}}),I.extend=function(ae,Y){return ae.$i||(ae(Y,Ce,I),ae.$i=!0),I},I.locale=sr,I.isDayjs=en,I.unix=function(ae){return I(1e3*ae)},I.en=Pe[Ot],I.Ls=Pe,I.p={},I})})(Zx);var j_=Zx.exports;(function(a){var f=fi&&fi.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(a,"__esModule",{value:!0}),a.PlayerFactory=a.Player=a.ForpostPlayer=a.FlussonicPlayer=void 0;const p=Px,g=f(O_),v=f(j_);class x{constructor(z){if(this.autoplay=!1,this.previewType="video",this.aspectRatio=1.6,this.size=.9,this.isLoaded=!1,!z.camera.token)throw new Error("no token");this.camera=z.camera,this.videoElement=z.videoElement,this.previewElement=z.previewElement,this.autoplay=z.autoplay||!1,z.size&&z.size<=1&&z.size>=0&&(this.size=z.size)}play(){this.videoElement.play()}pause(){this.videoElement.pause()}setPreview(){this.preview&&(this.previewType==="image"?(this.videoElement.poster=this.preview,this.previewElement&&(this.previewElement.poster=this.preview)):this.previewType==="video"&&this.previewElement&&(this.previewElement.src=this.preview))}calculateAspectRatio(){return this.aspectRatio=this.videoElement.videoWidth/this.videoElement.videoHeight||this.aspectRatio,console.log(`ar - ${this.aspectRatio}`),this.aspectRatio}getSize(){const z=this.aspectRatio,te=window.innerWidth,w=window.innerHeight;let U,Ne;return te/z>w?(U=w*this.size*z,Ne=w*this.size):(U=te*this.size,Ne=te*this.size/z),{top:(w-Ne)/2+"px",left:(te-U)/2+"px",width:`${U}px`,height:`${Ne}px`}}createPlayer(){const z=new p.Player;return this.player=z,z}initializeVideoStream(){if(!this.stream)return console.error("Doesn't have stream url");if(!p.Player.isBrowserSupported())return console.error("Browser does not support Shaka Player");const z=this.player||this.createPlayer();z.configure({streaming:{retryParameters:{timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4,maxAttempts:5,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5},bufferBehind:60,failureCallback:te=>{console.log(`${this.stream} stream fall ${te.code}`),te.severity===2&&setTimeout(()=>this.initializeVideoStream(),1e4)}}}),z.attach(this.videoElement),z.load(this.stream).then(()=>this.autoplay&&this.play()).catch(te=>console.error("Error loading stream",te))}onDestroy(){var z;(z=this.player)===null||z===void 0||z.destroy()}}a.Player=x;class A extends x{constructor(z){super(z),this.generatePreview=()=>{const{url:te,token:w}=this.camera;this.preview=`${te}/preview.mp4?token=${w}`,this.setPreview()},this.generateStream=(te,w)=>{const{url:U,hlsMode:Ne,token:Le}=this.camera,tt=te&&w?`-${te}-${w}`:"";this.stream=Ne==="fmp4"?`${U}/index${tt}.fmp4.m3u8?token=${Le}`:`${U}/index${tt}.m3u8?token=${Le}`,this.initializeVideoStream()},this.generatePreview(),this.generateStream()}}a.FlussonicPlayer=A;class d extends x{constructor(z){super(z),this.previewType="image",this.getForpostFormat=te=>{const w=this.camera.url,U=1 .toFixed(0),Ne=-60*new Date().getTimezoneOffset();let Le=new URL(w+(te?`&TS=${te}&TZ=${Ne}&Speed=${U}`:"")+`&${this.camera.token}`);return Le&&Le.searchParams?Le.toString():"empty"},this.generatePreview=()=>{const te=new URL(this.getForpostFormat());te.searchParams.delete("Format"),te.searchParams.append("Format","JPG");const w=new URLSearchParams(te.searchParams);te.search="";const U=te.href;g.default.post(U,w.toString()).then(Ne=>{const Le=Ne.data.URL;Le&&g.default.head(Le).then(tt=>{tt.status===200&&(this.preview=Le,this.setPreview())})})},this.generateStream=te=>{const w=new URL(this.getForpostFormat(te)),U=new URLSearchParams(w.searchParams);w.search="";const Ne=w.href;g.default.post(Ne,U.toString()).then(Le=>{const tt=Le.data;this.stream=tt.URL||"empty",this.initializeVideoStream()}).catch(()=>{console.log("Не удалось загрузить поток",Ne,U.toString()),this.player.detach()})},this.generatePreview(),this.generateStream()}}a.ForpostPlayer=d;class N extends x{constructor(z){super(z),this.generatePreview=()=>{const{url:te,token:w}=this.camera;this.preview=`${te}/dvr_thumbnail.mp4?wmsAuthSign=${w}`,this.setPreview()},this.generateStream=(te,w)=>{const{url:U,hlsMode:Ne,token:Le}=this.camera;this.stream=te&&w?`${U}/playlist_dvr_range-${te}-${w}.m3u8?wmsAuthSign=${Le}`:`${U}/playlist.m3u8?wmsAuthSign=${Le}`,this.initializeVideoStream()},this.generatePreview(),this.generateStream()}}class B extends x{constructor(z){super(z),this.previewType="image",this.generatePreview=()=>{const{url:te,token:w}=this.camera;let U=new URL(te);U.pathname="/site",U.search=w?(U.search||"")+`&${w}`:U.search||"",U.search+="&withcontenttype=true&mode=realtime&resolutionx=480&resolutiony=270&streamtype=mainvideo",this.preview=U.href,this.setPreview()},this.generateStream=(te,w)=>{const U="DD.MM.YYYY HH:mm:ss",{url:Ne,hlsMode:Le,token:tt}=this.camera;let Ke="";te&&w&&(Ke=`&starttime=${(0,v.default)(te).format(U)}&endtime=${(0,v.default)(te).add(w,"seconds").format(U)}`);let Ct=Ne+(tt?`&${tt}`:"")+Ke;g.default.get(Ct).then(Ot=>{let Pe=Ot.data,Bt=new URL(Ne);Bt.pathname="",Bt.search="",this.stream=Bt.href+"hls/"+Pe,this.initializeVideoStream()})},this.generatePreview(),this.generateStream()}}class V{static createPlayer(z){switch(z.camera.serverType){case"flussonic":return new A(z);case"forpost":return new d(z);case"nimble":return new N(z);case"macroscop":return new B(z);default:throw new Error("Unknown server type")}}}a.PlayerFactory=V})(_x);(function(a){var f=fi&&fi.__createBinding||(Object.create?function(g,v,x,A){A===void 0&&(A=x);var d=Object.getOwnPropertyDescriptor(v,x);d&&!("get"in d?!v.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return v[x]}}),Object.defineProperty(g,A,d)}:function(g,v,x,A){A===void 0&&(A=x),g[A]=v[x]}),p=fi&&fi.__exportStar||function(g,v){for(var x in g)x==="default"||Object.prototype.hasOwnProperty.call(v,x)||f(v,g,x)};Object.defineProperty(a,"__esModule",{value:!0}),p(_x,a)})(gp);const b_={class:"card"},U_={__name:"Player",setup(a){const f=bu(null),p=bu(null),g=bu("https://fl3.lanta.me:8443/121358"),v=bu("8f30fc67f68ad45736731f506b132f958c602b8a-a42fbd07119abae9db209f7da788e4b1-1711548677-1711537877"),x=bu(null);return Ku([g,v],()=>{var A;console.log("22"),(A=f.value)==null||A.onDestroy(),f.value=gp.PlayerFactory.createPlayer({camera:{serverType:"flussonic",url:g.value,token:v.value},videoElement:p.value,autoplay:!0})}),Ku(x,()=>{f.value.generateStream(new Date(x.value).getTime()/1e3,60*60)}),dx(()=>{f.value=gp.PlayerFactory.createPlayer({camera:{serverType:"flussonic",url:g.value,token:v.value},videoElement:p.value,autoplay:!0})}),(A,d)=>(Ax(),kR("div",b_,[$d(Ts("input",{"onUpdate:modelValue":d[0]||(d[0]=N=>g.value=N),placeholder:"url"},null,512),[[Qd,g.value]]),$d(Ts("input",{"onUpdate:modelValue":d[1]||(d[1]=N=>v.value=N),placeholder:"token"},null,512),[[Qd,v.value]]),$d(Ts("input",{type:"datetime-local","onUpdate:modelValue":d[2]||(d[2]=N=>x.value=N)},null,512),[[Qd,x.value]]),Ts("video",{ref_key:"video",ref:p,class:""},null,512)]))}},F_=Rx(U_,[["__scopeId","data-v-c2362de8"]]),B_={__name:"App",setup(a){return(f,p)=>(Ax(),RR(F_))}},V_=Rx(B_,[["__scopeId","data-v-48644a57"]]);g3(V_).mount("#app");
